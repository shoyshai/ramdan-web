<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Ramadan Mubarak 2026 | India</title>
<link rel="manifest" href="manifest.json">
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=EB+Garamond:ital,wght@0,400;0,500;0,600;1,400&family=Amiri:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
<style>
:root{--gold:#c9a84c;--goldl:#f0d080;--goldd:#7a5f28;--goldg:linear-gradient(135deg,#c9a84c,#f0d080,#c9a84c);--cream:#f5ead5;--blue:#5ab4d6;--blueg:linear-gradient(135deg,#4a9ebe,#7dd4f0);--muted:#8a9ab5;--green:#4caf7d;--purple:#9b7fd4;--bg:#010608;--card:rgba(6,14,28,.92)}
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
body{background:var(--bg);font-family:"EB Garamond",serif;color:var(--cream);display:flex;justify-content:center;overflow-x:hidden}
.app{width:100%;max-width:480px;min-height:100vh;background:linear-gradient(180deg,#04090f,#07101f 30%,#0a1628 60%,#07101f 85%,#04090f);position:relative;overflow-x:hidden;padding-bottom:75px}
.stars-bg{position:fixed;top:0;left:50%;transform:translateX(-50%);width:480px;max-width:100vw;height:100%;pointer-events:none;z-index:0;overflow:hidden}
.star{position:absolute;background:radial-gradient(circle,#fff 0%,rgba(200,220,255,.8) 100%);border-radius:50%;animation:twinkle var(--d) ease-in-out infinite;opacity:0;box-shadow:0 0 3px rgba(255,255,255,.5)}
@keyframes twinkle{0%,100%{opacity:0}50%{opacity:var(--o)}}
.shoot{position:absolute;width:2px;height:2px;background:#fff;border-radius:50%;animation:fly var(--sd) linear infinite var(--dl);opacity:0}
.shoot::after{content:"";position:absolute;right:2px;top:0;width:var(--tl);height:1px;background:linear-gradient(90deg,rgba(255,255,255,.65),transparent)}
@keyframes fly{0%{opacity:0;transform:translate(0,0)}8%{opacity:1}88%{opacity:.1}100%{opacity:0;transform:translate(calc(var(--dx)*1px),calc(var(--dy)*1px))}}
.noor{position:absolute;width:4px;height:4px;border-radius:50%;background:radial-gradient(circle,rgba(255,220,80,.95),rgba(201,168,76,.4),transparent);animation:rise var(--rd) ease-in-out infinite var(--rl);opacity:0;pointer-events:none;box-shadow:0 0 4px rgba(201,168,76,.6)}
@keyframes rise{0%{opacity:0;transform:translateY(0)}20%{opacity:.6}80%{opacity:.2}100%{opacity:0;transform:translateY(-120px)}}
.content{position:relative;z-index:1}

/* HERO */
.hero{width:100%;overflow:hidden;background:linear-gradient(180deg,#010406 0%,#060d1a 22%,#0a1830 45%,#0d1f3a 60%,#111a28 75%,rgba(30,14,2,.85) 88%,rgba(180,140,40,.2) 100%);position:relative;display:flex;flex-direction:column;align-items:center;padding-bottom:16px;min-height:320px}.hero::before{content:"";position:absolute;inset:0;background-image:radial-gradient(circle,rgba(201,168,76,.04) 1px,transparent 1px);background-size:28px 28px;pointer-events:none;z-index:1;opacity:.7}
.hero-lanterns{display:flex;justify-content:space-around;align-items:flex-start;padding:0 10px;height:72px;position:relative;z-index:4}
.lantern{display:flex;flex-direction:column;align-items:center;animation:sway var(--ls) ease-in-out infinite var(--ld);transform-origin:top center}
.l-str{width:1px;height:20px;background:linear-gradient(180deg,rgba(201,168,76,.5),rgba(201,168,76,.12))}
.l-ico{font-size:26px;filter:drop-shadow(0 0 10px rgba(201,168,76,.8))}
.l-glow{width:20px;height:6px;border-radius:50%;background:radial-gradient(ellipse,rgba(201,168,76,.4),transparent);margin-top:-2px;animation:lg var(--ls) ease-in-out infinite var(--ld)}
@keyframes sway{0%,100%{transform:rotate(-7deg)}50%{transform:rotate(7deg)}}
@keyframes lg{0%,100%{opacity:.4;transform:scaleX(.7)}50%{opacity:1;transform:scaleX(1.3)}}
.hstar{position:absolute;color:#fff;animation:twinkle var(--d) ease-in-out infinite var(--dl2)}
.hero-title{text-align:center;padding:4px 10px 0;position:relative;z-index:3}
.arabic-big{font-family:"Amiri",serif;font-size:54px;color:var(--goldl);line-height:1;animation:ag 3s ease-in-out infinite;text-shadow:0 0 40px rgba(201,168,76,.55),0 0 80px rgba(201,168,76,.2)}
@keyframes ag{0%,100%{text-shadow:0 0 30px rgba(201,168,76,.5),0 0 60px rgba(201,168,76,.2)}50%{text-shadow:0 0 70px rgba(201,168,76,.9),0 0 130px rgba(201,168,76,.4)}}
.h-glow{position:absolute;bottom:60px;left:0;right:0;height:50px;background:linear-gradient(180deg,transparent,rgba(201,168,76,.12),rgba(201,168,76,.35));filter:blur(10px);z-index:2}
.mosque-svg{display:block;width:100%;position:relative;z-index:3}

/* TIMING ROW */
.timing-row{display:flex;gap:10px;padding:12px 14px 0}
.ti-box{flex:1;background:linear-gradient(145deg,rgba(10,22,40,.92),rgba(8,18,34,.88));border:1px solid rgba(201,168,76,.28);border-radius:16px;padding:13px 10px;text-align:center;backdrop-filter:blur(8px);box-shadow:0 4px 20px rgba(0,0,0,.5),inset 0 1px 0 rgba(201,168,76,.1)}
.ti-box.mid{flex:0 0 88px;display:flex;flex-direction:column;align-items:center;justify-content:center;border-color:rgba(201,168,76,.4);background:linear-gradient(145deg,rgba(10,22,40,.96),rgba(8,18,34,.92))}
.ti-lbl{font-family:"Cinzel",serif;font-size:12px;letter-spacing:2px;color:rgba(201,168,76,.75);margin-bottom:6px;display:flex;align-items:center;justify-content:center;gap:3px}
.ti-time{font-family:"Cinzel",serif;font-size:24px;font-weight:700;color:#fff;line-height:1}
.ti-st{font-family:"Cinzel",serif;font-size:12px;letter-spacing:1.5px;margin-top:5px}
.ti-st.up{color:var(--blue)}.ti-st.pa{color:rgba(201,168,76,.45)}
.ti-moon{font-size:26px;filter:drop-shadow(0 0 12px rgba(201,168,76,.7));animation:mf 4s ease-in-out infinite;margin-bottom:4px}
@keyframes boxShine{0%,100%{left:-100%}50%{left:150%}}
@keyframes shimmer{0%{background-position:0% center}100%{background-position:200% center}}
@keyframes mf{0%,100%{transform:translateY(0) rotate(-4deg)}50%{transform:translateY(-6px) rotate(4deg)}}
.ti-roza{font-family:"Cinzel",serif;font-size:11px;font-weight:700;color:var(--goldl);letter-spacing:1.5px}
.ti-city{font-family:"Cinzel",serif;font-size:12px;letter-spacing:1px;color:var(--muted);margin-top:2px}

/* HEADER SUB */
.hdr-sub{text-align:center;padding:14px 16px 12px;border-bottom:1px solid rgba(201,168,76,.1);background:linear-gradient(180deg,rgba(201,168,76,.03),transparent)}
.holy-row{display:flex;align-items:center;justify-content:center;gap:8px;margin-bottom:5px}
.h-line{flex:1;max-width:80px;height:1px;background:linear-gradient(90deg,transparent,rgba(201,168,76,.5))}
.h-line.r{background:linear-gradient(90deg,rgba(201,168,76,.5),transparent)}
.h-dot{width:6px;height:6px;background:var(--gold);transform:rotate(45deg);box-shadow:0 0 7px rgba(201,168,76,.5)}
.holy-txt{font-family:"Cinzel",serif;font-size:13px;letter-spacing:4px;color:var(--gold)}
.ramadan-h{font-family:"Cinzel",serif;font-size:36px;font-weight:700;letter-spacing:7px;color:var(--cream);text-shadow:0 0 30px rgba(201,168,76,.15)}
.yr-badge{background:linear-gradient(135deg,rgba(201,168,76,.12),rgba(201,168,76,.05));border:1px solid rgba(201,168,76,.35);border-radius:22px;padding:6px 20px;margin:7px auto 0;display:inline-block;font-family:"Cinzel",serif;font-size:13px;letter-spacing:3px;color:var(--gold);box-shadow:0 0 18px rgba(201,168,76,.07)}

/* DEV BANNER */
.dev-band{margin:10px 14px 0;background:linear-gradient(135deg,rgba(201,168,76,.07),rgba(74,158,190,.04));border:1px solid rgba(201,168,76,.2);border-radius:14px;padding:12px 16px;display:flex;align-items:center;justify-content:space-between;gap:10px;box-shadow:0 4px 18px rgba(0,0,0,.35),inset 0 1px 0 rgba(201,168,76,.1)}
.dev-tag{font-family:"Cinzel",serif;font-size:12px;letter-spacing:2.5px;color:var(--muted);margin-bottom:3px}
.dev-name{font-family:"Amiri",serif;font-size:22px;color:var(--goldl)}
.dev-sub{font-family:"Cinzel",serif;font-size:12px;letter-spacing:1px;color:rgba(201,168,76,.45);margin-top:2px}
.dev-r{text-align:right;font-family:"Cinzel",serif;font-size:12px;letter-spacing:.8px;color:var(--muted);line-height:1.9}

/* SADQA MINI */
.sadqa-band{margin:8px 14px 0;background:linear-gradient(135deg,rgba(155,127,212,.1),rgba(201,168,76,.04),rgba(155,127,212,.07));border:1px solid rgba(155,127,212,.35);border-radius:14px;padding:12px 16px;text-align:center;box-shadow:0 4px 22px rgba(155,127,212,.09),inset 0 1px 0 rgba(155,127,212,.12)}
.sq-ttl{font-family:"Cinzel",serif;font-size:11.5px;letter-spacing:2px;color:var(--purple);margin-bottom:4px}
.sq-ar{font-family:"Amiri",serif;font-size:15px;color:var(--goldl);direction:rtl;line-height:1.8;margin-bottom:3px}
.sq-dua{font-family:"EB Garamond",serif;font-style:italic;font-size:12px;color:var(--muted);line-height:1.5}

/* QURAN CARD */
.quran-card{margin:0 14px 10px;background:linear-gradient(145deg,rgba(8,16,36,.97),rgba(5,10,22,.95));border:1px solid rgba(201,168,76,.22);border-radius:18px;padding:20px 18px;text-align:center;box-shadow:0 8px 32px rgba(0,0,0,.5),inset 0 1px 0 rgba(240,208,128,.12)}
.q-lbl{font-family:"Cinzel",serif;font-size:13px;letter-spacing:3px;color:var(--gold);margin-bottom:12px;display:flex;align-items:center;justify-content:center;gap:8px}
.q-ar{font-family:"Amiri",serif;font-size:23px;color:var(--goldl);line-height:2;direction:rtl;margin-bottom:10px;text-shadow:0 0 20px rgba(201,168,76,.22)}
.q-tr{font-family:"EB Garamond",serif;font-style:italic;font-size:13px;color:var(--muted);line-height:1.6;margin-bottom:5px}
.q-ref{font-family:"Cinzel",serif;font-size:11px;letter-spacing:1.5px;color:rgba(201,168,76,.5);margin-top:5px}

/* ALERTS */
.alert{margin:8px 14px 0;border-radius:10px;padding:10px 14px;display:flex;align-items:center;gap:10px;font-family:"Cinzel",serif;font-size:11.5px;letter-spacing:1.5px;animation:pu 1s ease-in-out infinite}
@keyframes pu{0%,100%{opacity:1}50%{opacity:.75}}
.alert-g{background:linear-gradient(135deg,rgba(76,175,125,.18),rgba(76,175,125,.07));border:1px solid rgba(76,175,125,.4);color:var(--green)}
.alert-b{background:linear-gradient(135deg,rgba(74,158,190,.18),rgba(74,158,190,.07));border:1px solid rgba(74,158,190,.4);color:var(--blue)}
.hidden{display:none!important}

/* TABBAR */
.tabbar{position:fixed;bottom:0;left:50%;transform:translateX(-50%);width:480px;max-width:100vw;background:rgba(3,7,14,.97);border-top:1px solid rgba(201,168,76,.22);display:flex;z-index:300;backdrop-filter:blur(24px);padding-bottom:env(safe-area-inset-bottom,0px);border-top:1px solid rgba(201,168,76,.15)}
.tb{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:9px 4px 7px;cursor:pointer;transition:all .25s;position:relative;min-height:58px}
.tb-ic{font-size:20px;line-height:1;margin-bottom:3px;transition:transform .2s}
.tb-tx{font-family:"Cinzel",serif;font-size:11px;letter-spacing:.8px;color:var(--muted);transition:color .25s}
.tb.on .tb-tx{color:var(--gold)}.tb.on .tb-ic{transform:scale(1.2)}
.tb.on::before{content:"";position:absolute;top:0;left:50%;transform:translateX(-50%);width:28px;height:2.5px;background:var(--gold);border-radius:0 0 4px 4px;box-shadow:0 0 10px rgba(201,168,76,.7)}

/* SECTIONS */
.sec{display:none;animation:fi .4s ease}
.sec.on{display:block}
@keyframes fi{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
.sec-hdr{text-align:center;padding:18px 14px 10px;font-family:"Cinzel",serif;font-size:12px;letter-spacing:3.5px;background:linear-gradient(135deg,#c9a84c,#f0d080,#c9a84c);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;display:flex;align-items:center;justify-content:center;gap:8px;filter:drop-shadow(0 0 8px rgba(201,168,76,.3))}

/* TODAY CARD */
.today-card{margin:0 14px 10px;background:linear-gradient(145deg,rgba(8,18,38,.96),rgba(5,12,25,.94));border:1px solid rgba(201,168,76,.25);border-radius:20px;padding:20px 16px;text-align:center;box-shadow:0 12px 40px rgba(0,0,0,.6),inset 0 1px 0 rgba(240,208,128,.15),0 0 0 1px rgba(201,168,76,.06)}
.td-lbl{font-family:"Cinzel",serif;font-size:11px;letter-spacing:2px;color:var(--gold);margin-bottom:4px;display:flex;align-items:center;justify-content:center;gap:6px}
.td-date{font-family:"EB Garamond",serif;font-size:18px;color:var(--cream);margin:4px 0 10px}
.city-sw{display:flex;flex-wrap:wrap;gap:5px;justify-content:center;margin-bottom:12px}
.cbtn{background:rgba(201,168,76,.07);border:1px solid rgba(201,168,76,.2);border-radius:20px;padding:4px 11px;font-family:"Cinzel",serif;font-size:12px;letter-spacing:1.5px;color:var(--gold);cursor:pointer;transition:all .2s}
.cbtn.on{background:rgba(201,168,76,.22);border-color:var(--gold);color:var(--goldl);box-shadow:0 0 10px rgba(201,168,76,.18)}
.clock{font-family:"Cinzel",serif;font-size:48px;font-weight:700;background:linear-gradient(180deg,#ffffff 0%,#f0e4c0 60%,#c9a84c 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;letter-spacing:4px;filter:drop-shadow(0 2px 16px rgba(201,168,76,.3))}
.cd-lbl{font-family:"Cinzel",serif;font-size:13px;letter-spacing:1.5px;color:var(--gold);margin:5px 0 10px}
.cd-row{display:flex;justify-content:center;gap:18px;margin-bottom:14px}
.cd-n{font-family:"Cinzel",serif;font-size:30px;font-weight:700;background:linear-gradient(180deg,#7dd4f0,#4a9ebe);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;filter:drop-shadow(0 0 16px rgba(90,180,220,.6))}
.cd-u{font-family:"Cinzel",serif;font-size:12px;letter-spacing:1.5px;color:var(--muted);text-align:center;margin-top:2px}
.si-row{display:flex;border-top:1px solid rgba(201,168,76,.12);padding-top:13px}
.si-col{flex:1;text-align:center}
.si-col:first-child{border-right:1px solid rgba(201,168,76,.12)}
.si-lbl{font-family:"Cinzel",serif;font-size:12px;letter-spacing:1.5px;color:var(--gold);margin-bottom:5px}
.si-time{font-family:"Cinzel",serif;font-size:20px;font-weight:600;color:var(--cream)}
.stag{display:inline-block;font-family:"Cinzel",serif;font-size:11px;letter-spacing:1px;padding:2px 8px;border-radius:20px;margin-top:4px}
.tag-p{background:rgba(100,70,20,.3);border:1px solid rgba(100,70,20,.4);color:#8b6928}
.tag-u{background:rgba(74,158,190,.18);border:1px solid rgba(74,158,190,.35);color:var(--blue)}

/* ROZA BAR */
.roza-bar{margin:0 14px 10px;background:linear-gradient(135deg,rgba(201,168,76,.08),rgba(74,158,190,.05));border:1px solid rgba(201,168,76,.28);border-radius:16px;padding:14px 18px;display:flex;align-items:center;justify-content:space-between;box-shadow:0 4px 18px rgba(0,0,0,.3),inset 0 1px 0 rgba(201,168,76,.1)}
.rh-lbl{font-family:"Cinzel",serif;font-size:12px;letter-spacing:2px;color:var(--muted);margin-bottom:3px}
.rh-num{font-family:"Cinzel",serif;font-size:30px;font-weight:700;color:var(--goldl);text-shadow:0 0 18px rgba(201,168,76,.3)}
.rh-sub{font-family:"EB Garamond",serif;font-size:12px;color:var(--muted);margin-top:2px}
.rh-pct{font-family:"Cinzel",serif;font-size:12px;letter-spacing:1px;color:var(--gold);margin-bottom:6px;text-align:right}
.mbar{width:100px;height:5px;background:rgba(255,255,255,.07);border-radius:3px;overflow:hidden}
.mfill{height:100%;background:linear-gradient(90deg,var(--goldd),var(--gold),var(--goldl));border-radius:3px;transition:width .8s;box-shadow:0 0 8px rgba(201,168,76,.4)}
.rh-eid{font-family:"Cinzel",serif;font-size:12px;letter-spacing:1px;color:var(--muted);margin-top:6px;text-align:right}

/* PRAYER GRID */
.pgrid{margin:0 14px 10px;display:grid;grid-template-columns:repeat(3,1fr);gap:8px}
.pt{background:linear-gradient(145deg,rgba(10,20,40,.8),rgba(6,12,24,.9));border:1px solid rgba(255,255,255,.08);border-radius:14px;padding:12px 8px;text-align:center;transition:all .35s cubic-bezier(.25,.8,.25,1);box-shadow:0 4px 16px rgba(0,0,0,.4)}
.pt.ap{background:linear-gradient(145deg,rgba(201,168,76,.18),rgba(201,168,76,.08));border-color:rgba(201,168,76,.55);box-shadow:0 4px 20px rgba(201,168,76,.2),inset 0 1px 0 rgba(255,220,80,.15)}
.pt-ic{font-size:16px;margin-bottom:4px}.pt-lb{font-family:"Cinzel",serif;font-size:12px;letter-spacing:.5px;color:var(--muted);margin-bottom:3px}.pt-tm{font-family:"Cinzel",serif;font-size:15px;font-weight:600;color:var(--cream)}

/* EID */
.eid-card{margin:0 14px 10px;background:linear-gradient(135deg,rgba(201,168,76,.09),rgba(74,158,190,.05));border:1px solid rgba(201,168,76,.25);border-radius:16px;padding:16px;text-align:center;box-shadow:0 4px 22px rgba(0,0,0,.3),inset 0 1px 0 rgba(201,168,76,.1)}
.eid-n{font-family:"Cinzel",serif;font-size:46px;font-weight:700;color:var(--goldl);text-shadow:0 0 28px rgba(201,168,76,.4);line-height:1}
.eid-s{font-family:"EB Garamond",serif;font-size:13px;color:var(--muted);margin-top:3px}

/* NIGHTS */
.nights{margin:0 14px 10px}
.ncard{background:linear-gradient(135deg,rgba(8,16,32,.9),rgba(5,10,22,.95));border:1px solid rgba(255,255,255,.08);border-radius:14px;padding:14px 16px;margin-bottom:8px;display:flex;justify-content:space-between;align-items:center;gap:8px;box-shadow:0 4px 16px rgba(0,0,0,.4)}
.ncard.qadr{border-color:rgba(201,168,76,.28);background:linear-gradient(135deg,rgba(201,168,76,.06),rgba(201,168,76,.015));box-shadow:0 2px 14px rgba(201,168,76,.06)}
.n-name{font-family:"Cinzel",serif;font-size:12.5px;letter-spacing:.8px;color:var(--cream)}.n-desc{font-family:"EB Garamond",serif;font-size:13px;color:var(--muted);margin-top:2px}.n-date{font-family:"Cinzel",serif;font-size:12px;color:var(--gold);margin-top:3px}
.nbadge{font-family:"Cinzel",serif;font-size:12px;letter-spacing:1px;padding:4px 9px;border-radius:20px;white-space:nowrap;flex-shrink:0;background:rgba(201,168,76,.12);border:1px solid rgba(201,168,76,.3);color:var(--gold)}
.nbadge.past{background:rgba(80,50,10,.15);border-color:rgba(80,50,10,.25);color:#7a5a20}

/* CITIES */
.cities-grid{display:flex;overflow-x:auto;gap:10px;padding:0 14px 10px;margin-bottom:6px;scrollbar-width:none;-webkit-overflow-scrolling:touch}.cities-grid::-webkit-scrollbar{display:none}
.ccard{background:linear-gradient(145deg,rgba(8,16,34,.92),rgba(5,10,22,.95));border:1px solid rgba(201,168,76,.15);border-radius:14px;padding:12px 14px;cursor:pointer;transition:all .3s cubic-bezier(.25,.8,.25,1);box-shadow:0 4px 16px rgba(0,0,0,.4);flex:0 0 140px;min-width:140px}
.ccard.on{border-color:rgba(201,168,76,.55);background:linear-gradient(145deg,rgba(201,168,76,.08),rgba(201,168,76,.02));box-shadow:0 4px 18px rgba(201,168,76,.09),inset 0 1px 0 rgba(201,168,76,.12)}
.c-name{font-family:"Cinzel",serif;font-size:13px;letter-spacing:2px;color:var(--goldl);margin-bottom:8px;display:flex;align-items:center;gap:5px;flex-wrap:wrap}
.def-tag{background:var(--gold);color:#0a1628;font-size:12px;letter-spacing:1px;padding:2px 6px;border-radius:10px;font-weight:700}
.c-row{display:flex;align-items:center;gap:4px;margin:3px 0;font-family:"Cinzel",serif;font-size:11px;letter-spacing:1px;color:var(--muted)}
.c-time{color:var(--cream);font-size:13px;font-weight:600;margin-left:auto}

/* SCHEDULE */
.sched-wrap{margin:0 14px 28px;border:1px solid rgba(201,168,76,.18);border-radius:16px;overflow:hidden;box-shadow:0 4px 22px rgba(0,0,0,.35);border:1px solid rgba(201,168,76,.12)}
.sched-hdr{display:grid;grid-template-columns:2.2fr 1.2fr .6fr 1.2fr 1.2fr .8fr;background:linear-gradient(135deg,rgba(201,168,76,.1),rgba(201,168,76,.04));border-bottom:1px solid rgba(201,168,76,.18);padding:9px 10px}
.sh{font-family:"Cinzel",serif;font-size:12px;letter-spacing:1px;color:var(--gold);text-align:center}.sh:first-child{text-align:left}
.sched-body{max-height:460px;overflow-y:auto}.sched-body::-webkit-scrollbar{width:3px}.sched-body::-webkit-scrollbar-thumb{background:var(--goldd);border-radius:2px}
.srow{display:grid;grid-template-columns:2.2fr 1.2fr .6fr 1.2fr 1.2fr .8fr;padding:8px 10px;border-bottom:1px solid rgba(255,255,255,.03);align-items:center}
.srow:last-child{border-bottom:none}.srow.tod{background:linear-gradient(90deg,rgba(201,168,76,.09),rgba(201,168,76,.03));border-left:3px solid var(--gold)}.srow.past{opacity:.37}.srow.qadr{border-left:2px solid rgba(201,168,76,.38)}
.sc{font-size:11px;color:var(--cream);text-align:center;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:2px}.sc:first-child{text-align:left;align-items:flex-start}
.sc-d{font-family:"EB Garamond",serif;font-size:12px;line-height:1.3}.t-pill{background:var(--gold);color:#0a1628;font-family:"Cinzel",serif;font-size:12px;padding:1px 6px;border-radius:10px;font-weight:700}
.sc-day{font-family:"Cinzel",serif;font-size:11px;letter-spacing:1px;color:var(--gold)}.sc-day.juma{color:var(--goldl);font-weight:600}
.sc-rn{font-family:"Cinzel",serif;font-size:13.0px;color:var(--blue)}.sc-tm{font-family:"Cinzel",serif;font-size:12px;color:var(--cream)}.sc-rm{font-family:"Cinzel",serif;font-size:12px;color:var(--muted)}

/* DUAS */
.dua-card{margin:0 14px 12px;background:linear-gradient(145deg,rgba(8,16,36,.95),rgba(255,255,255,.015));border:1px solid rgba(201,168,76,.16);border-radius:16px;padding:18px 16px;text-align:center;box-shadow:0 4px 18px rgba(0,0,0,.22)}
.dua-card.tw{border-color:rgba(155,127,212,.35);background:linear-gradient(145deg,rgba(155,127,212,.07),rgba(155,127,212,.02))}
.dua-lbl{font-family:"Cinzel",serif;font-size:12px;letter-spacing:2px;color:var(--gold);margin-bottom:10px;display:flex;align-items:center;justify-content:center;gap:5px}
.dua-lbl.tw{color:var(--purple)}
.dua-ar{font-family:"Amiri",serif;font-size:22px;color:var(--goldl);line-height:2;direction:rtl;margin-bottom:10px;text-shadow:0 0 18px rgba(201,168,76,.18)}
.dua-tr{font-family:"EB Garamond",serif;font-style:italic;font-size:14px;color:var(--muted);line-height:1.5;margin-bottom:5px}
.dua-me{font-family:"EB Garamond",serif;font-size:14px;color:var(--cream);line-height:1.5}
.dua-rf{font-family:"Cinzel",serif;font-size:12px;letter-spacing:1px;color:var(--muted);margin-top:7px;opacity:.65}
.ashra{margin:0 14px 8px;border-radius:22px;padding:10px 16px;text-align:center;font-family:"Cinzel",serif;font-size:12px;letter-spacing:2px}
.ashra.a1{background:linear-gradient(135deg,rgba(76,175,125,.1),rgba(76,175,125,.04));border:1px solid rgba(76,175,125,.27);color:var(--green)}
.ashra.a2{background:linear-gradient(135deg,rgba(201,168,76,.1),rgba(201,168,76,.04));border:1px solid rgba(201,168,76,.27);color:var(--gold)}
.ashra.a3{background:linear-gradient(135deg,rgba(74,158,190,.1),rgba(74,158,190,.04));border:1px solid rgba(74,158,190,.27);color:var(--blue)}

/* TOOLS: TASBEEH */
.ts-sel{display:flex;gap:8px;padding:0 14px;margin-bottom:14px}
.ts-opt{flex:1;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.07);border-radius:12px;padding:10px 6px;text-align:center;cursor:pointer;transition:all .25s}
.ts-opt.on{border-color:rgba(201,168,76,.55);background:linear-gradient(145deg,rgba(201,168,76,.1),rgba(201,168,76,.04));box-shadow:0 0 14px rgba(201,168,76,.1)}
.ts-ar{font-family:"Amiri",serif;font-size:14px;color:var(--goldl);direction:rtl;display:block;margin-bottom:3px;line-height:1.4}
.ts-en{font-family:"Cinzel",serif;font-size:12px;letter-spacing:.8px;color:var(--muted)}
.ts-wrap{display:flex;flex-direction:column;align-items:center;gap:14px;padding:0 14px;margin-bottom:14px}
.ts-count{font-family:"Cinzel",serif;font-size:78px;font-weight:700;color:var(--goldl);text-shadow:0 0 38px rgba(201,168,76,.28);line-height:1}
.ts-btn-big{width:160px;height:160px;border-radius:50%;background:radial-gradient(circle,rgba(201,168,76,.14),rgba(201,168,76,.04) 55%,transparent 75%);border:2px solid rgba(201,168,76,.38);display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;transition:all .12s;box-shadow:0 0 28px rgba(201,168,76,.1),inset 0 0 28px rgba(201,168,76,.03);position:relative;overflow:hidden;user-select:none;-webkit-user-select:none}
.ts-btn-big:active{transform:scale(.95);box-shadow:0 0 50px rgba(201,168,76,.3)}
.ripple{position:absolute;width:10px;height:10px;border-radius:50%;background:rgba(201,168,76,.4);transform:scale(0);animation:rpl .6s ease-out;pointer-events:none}
@keyframes rpl{to{transform:scale(20);opacity:0}}
.ts-tap-ar{font-family:"Amiri",serif;font-size:20px;color:var(--goldl);direction:rtl;text-align:center;line-height:1.4}
.ts-tap-en{font-family:"Cinzel",serif;font-size:11px;letter-spacing:2px;color:var(--gold);margin-top:4px}
.ts-hint{font-family:"Cinzel",serif;font-size:12px;letter-spacing:1px;color:var(--muted);margin-top:6px}
.ts-pbar{width:100%;background:rgba(255,255,255,.06);border-radius:4px;height:5px;overflow:hidden}
.ts-pfill{height:100%;background:linear-gradient(90deg,var(--goldd),var(--goldl));border-radius:4px;transition:width .3s}
.ts-info{font-family:"Cinzel",serif;font-size:11px;letter-spacing:1px;color:var(--muted);text-align:center;margin-top:4px}
.ts-ctrl{display:flex;gap:8px;padding:0 14px;margin-bottom:16px}
.ts-c{flex:1;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.07);border-radius:10px;padding:10px;font-family:"Cinzel",serif;font-size:11px;letter-spacing:1.5px;color:var(--muted);cursor:pointer;text-align:center;transition:all .2s}
.ts-c:hover{border-color:rgba(201,168,76,.3);color:var(--gold)}
.ts-totals{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;padding:0 14px;margin-bottom:8px}
.ts-tot{background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.06);border-radius:10px;padding:10px;text-align:center}
.ts-tot-ar{font-family:"Amiri",serif;font-size:13px;color:var(--goldl);direction:rtl;margin-bottom:4px}
.ts-tot-n{font-family:"Cinzel",serif;font-size:20px;color:var(--cream)}

/* TOOLS: TARAWEEH */
.tw-info-box{margin:0 14px 14px;background:linear-gradient(135deg,rgba(155,127,212,.1),rgba(155,127,212,.04));border:1px solid rgba(155,127,212,.27);border-radius:14px;padding:14px 16px;text-align:center}
.tw-ttl{font-family:"Cinzel",serif;font-size:12.5px;letter-spacing:2px;color:var(--purple);margin-bottom:5px}
.tw-sub{font-family:"EB Garamond",serif;font-size:12.5px;color:var(--muted);line-height:1.5}
.tw-sum{margin:0 14px 14px;background:linear-gradient(145deg,rgba(155,127,212,.08),rgba(155,127,212,.03));border:1px solid rgba(155,127,212,.22);border-radius:14px;padding:14px 16px;text-align:center}
.tw-big{font-family:"Cinzel",serif;font-size:50px;font-weight:700;color:var(--purple);text-shadow:0 0 28px rgba(155,127,212,.3);line-height:1}
.tw-sub2{font-family:"Cinzel",serif;font-size:11.5px;letter-spacing:2px;color:rgba(155,127,212,.65);margin-top:4px}
.tw-pb{width:100%;background:rgba(255,255,255,.06);border-radius:4px;height:6px;overflow:hidden;margin-top:10px}
.tw-pf{height:100%;background:linear-gradient(90deg,rgba(155,127,212,.6),rgba(155,127,212,1));border-radius:4px;transition:width .4s}
.rk-grid{display:grid;grid-template-columns:repeat(5,1fr);gap:8px;padding:0 14px;margin-bottom:14px}
.rkbtn{aspect-ratio:1;border-radius:12px;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.07);display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;transition:all .25s;padding:6px 2px}
.rkbtn.done{background:linear-gradient(135deg,rgba(155,127,212,.2),rgba(155,127,212,.07));border-color:rgba(155,127,212,.5);box-shadow:0 0 12px rgba(155,127,212,.1)}
.rk-n{font-family:"Cinzel",serif;font-size:15px;font-weight:700;color:var(--cream);transition:color .25s}
.rkbtn.done .rk-n{color:var(--purple)}
.rk-ck{font-size:11px;margin-top:1px;opacity:0;transition:opacity .25s}
.rkbtn.done .rk-ck{opacity:1}
.tw-rst{width:calc(100% - 28px);margin:0 14px 12px;display:block;background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.07);border-radius:10px;padding:10px;font-family:"Cinzel",serif;font-size:11px;letter-spacing:1.5px;color:var(--muted);cursor:pointer;text-align:center;transition:all .2s}
.tw-rst:hover{border-color:rgba(155,127,212,.3);color:var(--purple)}

/* TOOLS: ZAKAT */
.zakat-intro{margin:0 14px 14px;background:linear-gradient(135deg,rgba(76,175,125,.08),rgba(76,175,125,.03));border:1px solid rgba(76,175,125,.22);border-radius:14px;padding:14px 16px;text-align:center}
.zk-ttl{font-family:"Cinzel",serif;font-size:13px;letter-spacing:2px;color:var(--green);margin-bottom:6px}
.zk-sub{font-family:"EB Garamond",serif;font-size:12.5px;color:var(--muted);line-height:1.5}
.zk-nisab{font-family:"Cinzel",serif;font-size:12px;letter-spacing:.8px;color:rgba(76,175,125,.65);margin-top:6px}
.zk-form{padding:0 14px;display:flex;flex-direction:column;gap:10px;margin-bottom:14px}
.zk-row{background:linear-gradient(145deg,rgba(255,255,255,.04),rgba(255,255,255,.015));border:1px solid rgba(255,255,255,.07);border-radius:14px;padding:14px 16px}
.zk-hdr{display:flex;align-items:center;gap:8px;margin-bottom:10px}
.zk-ic{font-size:18px}.zk-nt{font-family:"Cinzel",serif;font-size:12px;letter-spacing:1.5px;color:var(--gold);flex:1}.zk-rate{font-family:"Cinzel",serif;font-size:12px;letter-spacing:1px;color:var(--muted)}
.zk-inp-row{display:flex;align-items:center;gap:8px}
.zk-cur{font-family:"Cinzel",serif;font-size:11px;color:var(--muted)}
.zk-inp{flex:1;background:rgba(255,255,255,.05);border:1px solid rgba(201,168,76,.22);border-radius:8px;padding:10px 12px;font-family:"Cinzel",serif;font-size:14px;color:var(--cream);outline:none;transition:border-color .2s}
.zk-inp:focus{border-color:rgba(201,168,76,.55);background:rgba(201,168,76,.05)}
.zk-inp::placeholder{color:rgba(255,255,255,.12)}
.zk-hint{font-family:"Cinzel",serif;font-size:12px;letter-spacing:.8px;color:var(--muted);margin-top:6px}
.zk-result{margin:0 14px;background:linear-gradient(135deg,rgba(76,175,125,.1),rgba(76,175,125,.04));border:1px solid rgba(76,175,125,.3);border-radius:16px;padding:18px 16px;text-align:center;box-shadow:0 4px 22px rgba(76,175,125,.06)}
.zk-r-lbl{font-family:"Cinzel",serif;font-size:12px;letter-spacing:2px;color:var(--green);margin-bottom:8px}
.zk-r-big{font-family:"Cinzel",serif;font-size:44px;font-weight:700;color:var(--green);text-shadow:0 0 28px rgba(76,175,125,.3);line-height:1}
.zk-r-cur{font-family:"Cinzel",serif;font-size:14px;color:rgba(76,175,125,.55);vertical-align:super}
.zk-bd{margin-top:10px;display:flex;flex-direction:column;gap:0}
.zk-bl{display:flex;justify-content:space-between;align-items:center;font-family:"Cinzel",serif;font-size:11px;letter-spacing:.8px;padding:5px 0;border-top:1px solid rgba(255,255,255,.05)}
.zk-bl-l{color:var(--muted)}.zk-bl-v{color:var(--cream);font-size:12px}
.zk-rst{width:100%;margin-top:10px;display:block;background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.07);border-radius:10px;padding:10px;font-family:"Cinzel",serif;font-size:11px;letter-spacing:1.5px;color:var(--muted);cursor:pointer;text-align:center;transition:all .2s}
.zk-rst:hover{border-color:rgba(76,175,125,.3);color:var(--green)}

/* REMINDER */
.rem-row{margin:8px 14px 0;background:rgba(74,158,190,.05);border:1px solid rgba(74,158,190,.2);border-radius:22px;padding:8px 16px;display:flex;align-items:center;justify-content:space-between;font-family:"Cinzel",serif;font-size:11px;letter-spacing:1.5px;color:var(--blue)}
.tog{width:34px;height:18px;background:rgba(255,255,255,.1);border-radius:9px;position:relative;cursor:pointer;transition:background .3s;flex-shrink:0}
.tog.on{background:rgba(74,158,190,.5)}
.tog-k{position:absolute;top:2px;left:2px;width:14px;height:14px;background:#fff;border-radius:50%;transition:left .3s;box-shadow:0 1px 4px rgba(0,0,0,.3)}
.tog.on .tog-k{left:18px}

/* SOURCE */
.src-badge{margin:8px 14px 0;background:rgba(76,175,125,.05);border:1px solid rgba(76,175,125,.17);border-radius:22px;padding:6px 14px;font-family:"Cinzel",serif;font-size:12px;letter-spacing:1.5px;color:var(--green);text-align:center}

/* SADQA PAGE */
.sadqa-hero{text-align:center;padding:20px 16px 14px;background:linear-gradient(180deg,rgba(155,127,212,.08),transparent);border-bottom:1px solid rgba(155,127,212,.1)}
.sadqa-dua-box{margin:12px 14px;background:linear-gradient(135deg,rgba(155,127,212,.1),rgba(201,168,76,.04));border:1px solid rgba(155,127,212,.32);border-radius:16px;padding:18px 16px;text-align:center}
.sawab-box{margin:0 14px 12px;background:linear-gradient(145deg,rgba(255,255,255,.04),rgba(255,255,255,.015));border:1px solid rgba(201,168,76,.15);border-radius:16px;padding:18px 16px;box-shadow:0 4px 18px rgba(0,0,0,.22)}

/* FOOTER */
.footer{text-align:center;padding:16px 14px;font-family:"Cinzel",serif;font-size:12px;letter-spacing:1.5px;color:var(--goldd);border-top:1px solid rgba(201,168,76,.1);line-height:2.2;background:linear-gradient(180deg,transparent,rgba(201,168,76,.02))}

@media(max-width:380px){.arabic-big{font-size:46px}.ramadan-h{font-size:30px}.clock{font-size:40px}.ti-time{font-size:20px}}
.hero-arabic-small{font-family:"Amiri",serif;font-size:34px;background:linear-gradient(135deg,#c9a84c 0%,#f5e08a 40%,#fff8e1 55%,#f0d060 70%,#c9a84c 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;background-size:200% auto;animation:shimmer 4s linear infinite;direction:rtl;text-align:center;line-height:1.3;margin:20px 0 18px;filter:drop-shadow(0 0 18px rgba(201,168,76,.6));position:relative;z-index:4;flex-shrink:0}

/* TOOL PILLS */
.tool-pills{display:flex;gap:7px;padding:0 14px 10px;overflow-x:auto;-webkit-overflow-scrolling:touch;scrollbar-width:none}
.tool-pills::-webkit-scrollbar{display:none}
.tpill{flex:0 0 auto;font-family:"Cinzel",serif;font-size:11px;letter-spacing:1px;padding:9px 13px;border-radius:22px;cursor:pointer;border:1.5px solid rgba(201,168,76,.2);color:var(--goldd);background:rgba(201,168,76,.04);transition:all .2s;white-space:nowrap}
.tpill.on{background:linear-gradient(135deg,rgba(201,168,76,.25),rgba(201,168,76,.12));border-color:rgba(201,168,76,.7);color:var(--goldl);box-shadow:0 4px 20px rgba(201,168,76,.25),inset 0 1px 0 rgba(255,220,80,.2)}
.tool-panel{display:block}

/* TARAWEEH TRACKER */
.tw-hdr-bar{margin:4px 14px 10px;background:rgba(155,127,212,.08);border:1px solid rgba(155,127,212,.3);border-radius:14px;padding:12px 16px;font-family:"Cinzel",serif;font-size:12px;letter-spacing:2px;color:var(--purple);text-align:center}
.tw-card{margin:0 14px 10px;background:linear-gradient(145deg,rgba(155,127,212,.07),rgba(20,30,56,.6));border:1px solid rgba(155,127,212,.2);border-radius:18px;padding:20px 16px;text-align:center}
.tw-card-lbl{font-family:"Cinzel",serif;font-size:11.5px;letter-spacing:2px;color:rgba(155,127,212,.7);margin-bottom:8px}
.tw-big{font-family:"Cinzel",serif;font-size:72px;font-weight:700;color:var(--purple);line-height:1;margin:4px 0}
.tw-card-sub{font-family:"Cinzel",serif;font-size:11px;letter-spacing:1.5px;color:var(--goldd);margin-bottom:16px}
.tw-circles{display:grid;grid-template-columns:repeat(10,1fr);gap:6px;margin:0 4px 14px}
.rk-circle{width:100%;aspect-ratio:1;border-radius:50%;border:2px solid rgba(155,127,212,.35);background:rgba(155,127,212,.05);cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center}
.rk-circle.rk-done{background:linear-gradient(135deg,var(--purple),rgba(155,127,212,.5));border-color:var(--purple);box-shadow:0 0 10px rgba(155,127,212,.4)}
.rk-circle.rk-done::after{content:"✓";font-size:12px;color:#fff;font-weight:700}
.tw-pb{height:4px;background:rgba(155,127,212,.12);border-radius:2px;margin:0 0 10px;overflow:hidden}
.tw-pf{height:100%;background:linear-gradient(90deg,var(--purple),rgba(201,168,76,.6));border-radius:2px;transition:width .4s}
.tw-tap-hint{font-family:"EB Garamond",serif;font-style:italic;font-size:12px;color:var(--muted);margin-bottom:14px}
.tw-btns{display:flex;gap:10px;justify-content:center;align-items:center}
.tw-btn{font-family:"Cinzel",serif;font-size:11px;font-weight:700;cursor:pointer;border:none;border-radius:50px;padding:0;transition:all .15s;display:flex;align-items:center;justify-content:center}
.tw-minus{width:58px;height:58px;background:rgba(60,40,10,.6);border:2px solid rgba(201,168,76,.3);color:var(--gold);font-size:22px}
.tw-plus{width:58px;height:58px;background:rgba(100,80,160,.4);border:2px solid var(--purple);color:var(--purple);font-size:22px}
.tw-reset{flex:1;max-width:180px;height:44px;background:rgba(20,30,56,.6);border:1px solid rgba(201,168,76,.2);color:var(--goldd);font-size:11px;letter-spacing:2px;border-radius:50px}
.tw-dua-card{margin:0 14px 18px;background:linear-gradient(145deg,rgba(155,127,212,.1),rgba(10,18,36,.8));border:1px solid rgba(155,127,212,.3);border-radius:16px;padding:18px 16px;text-align:center}
.tw-dua-ttl{font-family:"Cinzel",serif;font-size:12px;letter-spacing:2px;color:var(--purple);margin-bottom:12px}
.tw-dua-ar{font-family:"Amiri",serif;font-size:18px;color:var(--goldl);direction:rtl;line-height:2;margin-bottom:10px}
.tw-dua-tr{font-family:"EB Garamond",serif;font-style:italic;font-size:13px;color:var(--goldd);margin-bottom:8px;line-height:1.6}
.tw-dua-en{font-family:"EB Garamond",serif;font-size:13px;color:var(--muted);line-height:1.6}

/* QURAN PROGRESS */
.qp-card{margin:0 14px 14px;background:linear-gradient(145deg,rgba(74,158,190,.07),rgba(10,18,36,.6));border:1px solid rgba(74,158,190,.2);border-radius:18px;padding:18px 14px;text-align:center}
.qp-top{display:flex;justify-content:space-around;margin-bottom:12px}
.qp-stat{text-align:center}
.qp-num{font-family:"Cinzel",serif;font-size:28px;font-weight:700;color:#4a9ebe;line-height:1}
.qp-lbl{font-family:"Cinzel",serif;font-size:12px;letter-spacing:1.5px;color:var(--muted);margin-top:3px}
.qp-pb{height:4px;background:rgba(74,158,190,.12);border-radius:2px;margin:0 0 10px;overflow:hidden}
.qp-pf{height:100%;background:linear-gradient(90deg,#4a9ebe,rgba(155,127,212,.7));border-radius:2px;transition:width .4s}
.qp-hint{font-family:"EB Garamond",serif;font-style:italic;font-size:12px;color:var(--muted);margin-bottom:14px}
.qp-grid{display:grid;grid-template-columns:repeat(6,1fr);gap:7px;margin-bottom:16px}
.qp-juz{border-radius:10px;border:1.5px solid rgba(74,158,190,.25);background:rgba(74,158,190,.05);padding:8px 4px;cursor:pointer;text-align:center;transition:all .2s;min-height:50px;display:flex;flex-direction:column;align-items:center;justify-content:center}
.qp-juz.qp-done{background:linear-gradient(135deg,rgba(74,158,190,.4),rgba(155,127,212,.3));border-color:#4a9ebe;box-shadow:0 0 8px rgba(74,158,190,.3)}
.qp-juz-n{font-family:"Cinzel",serif;font-size:12px;font-weight:700;color:#4a9ebe}
.qp-juz.qp-done .qp-juz-n{color:#fff}
.qp-juz-lbl{font-family:"Cinzel",serif;font-size:12px;letter-spacing:1px;color:var(--muted)}
.qp-check{font-size:11px;color:var(--goldl);font-weight:700;margin-top:2px}
.qp-reset{font-family:"Cinzel",serif;font-size:11px;letter-spacing:2px;padding:10px 28px;border-radius:22px;border:1px solid rgba(201,168,76,.2);background:rgba(10,18,36,.6);color:var(--goldd);cursor:pointer}

/* FITRANA */
.ft-card{margin:0 14px 14px;background:linear-gradient(145deg,rgba(201,168,76,.06),rgba(10,18,36,.6));border:1px solid rgba(201,168,76,.2);border-radius:18px;padding:18px 14px}
.ft-intro{font-family:"EB Garamond",serif;font-size:13px;color:var(--muted);text-align:center;line-height:1.6;margin-bottom:14px;font-style:italic}
.ft-info-row{display:flex;gap:8px;margin-bottom:16px}
.ft-info-box{flex:1;background:rgba(201,168,76,.06);border:1px solid rgba(201,168,76,.15);border-radius:12px;padding:10px 8px;text-align:center}
.ft-info-lbl{font-family:"Cinzel",serif;font-size:12px;letter-spacing:1px;color:var(--muted);margin-bottom:4px}
.ft-info-val{font-family:"Cinzel",serif;font-size:11px;color:var(--gold);font-weight:700}
.ft-section-lbl{font-family:"Cinzel",serif;font-size:12px;letter-spacing:2px;color:var(--goldd);margin-bottom:10px}
.ft-member-row{display:flex;align-items:center;justify-content:space-between;padding:10px 0;border-bottom:1px solid rgba(201,168,76,.08)}
.ft-mem-name{font-family:"EB Garamond",serif;font-size:14px;color:var(--text)}
.ft-counter{display:flex;align-items:center;background:rgba(10,18,36,.6);border:1px solid rgba(201,168,76,.2);border-radius:22px;overflow:hidden}
.ft-cnt-btn{width:36px;height:34px;display:flex;align-items:center;justify-content:center;font-size:18px;color:var(--gold);cursor:pointer;font-weight:700}
.ft-cnt-val{font-family:"Cinzel",serif;font-size:14px;font-weight:700;color:#fff;min-width:28px;text-align:center}
.ft-rate-row{margin:16px 0 10px}
.ft-rate-lbl{font-family:"Cinzel",serif;font-size:12px;letter-spacing:1px;color:var(--muted);margin-bottom:8px}
.ft-rate-btns{display:flex;gap:7px}
.ft-rbtn{flex:1;text-align:center;font-family:"Cinzel",serif;font-size:11px;padding:9px 4px;border-radius:12px;border:1.5px solid rgba(201,168,76,.2);color:var(--goldd);background:rgba(201,168,76,.04);cursor:pointer;transition:all .2s}
.ft-rbtn.on{background:rgba(201,168,76,.15);border-color:var(--gold);color:var(--goldl)}
.ft-input{width:100%;box-sizing:border-box;background:rgba(10,18,36,.7);border:1px solid rgba(201,168,76,.25);border-radius:12px;padding:11px 14px;color:#fff;font-family:"Cinzel",serif;font-size:13px;outline:none}
.ft-result{background:linear-gradient(135deg,rgba(76,175,125,.08),rgba(201,168,76,.05));border:1px solid rgba(76,175,125,.25);border-radius:14px;padding:18px 14px;text-align:center;margin-top:14px}
.ft-res-lbl{font-family:"Cinzel",serif;font-size:11px;letter-spacing:2px;color:var(--green);margin-bottom:8px}
.ft-res-val{font-family:"Cinzel",serif;font-size:48px;font-weight:700;color:var(--green);line-height:1;display:flex;align-items:baseline;justify-content:center;gap:2px}
.ft-rs{font-size:22px}
.ft-res-sub{font-family:"Cinzel",serif;font-size:11px;letter-spacing:.5px;color:var(--goldd);margin:8px 0 4px}
.ft-res-note{font-family:"EB Garamond",serif;font-style:italic;font-size:11px;color:var(--muted)}

/* localStorage indicator */
.save-badge{position:fixed;bottom:72px;right:12px;background:rgba(76,175,125,.85);color:#fff;font-family:"Cinzel",serif;font-size:11px;letter-spacing:1px;padding:5px 10px;border-radius:20px;opacity:0;transition:opacity .4s;pointer-events:none;z-index:999}
.save-badge.show{opacity:1}

/* HERO TIMING BOXES */
.hero-sub-row{display:flex;align-items:center;justify-content:center;gap:8px;padding:10px 16px 4px;position:relative;z-index:4;flex-shrink:0;width:100%;margin-bottom:4px}
.h-spark{color:var(--gold);font-size:12px}
.hero-sub-txt{font-family:"Cinzel",serif;font-size:12px;letter-spacing:3px;color:rgba(201,168,76,.8)}
.hero-arabic-small{font-family:"Amiri",serif;font-size:28px;color:var(--goldl);direction:rtl;text-align:center;line-height:1.2;margin:2px 0 4px;text-shadow:0 0 22px rgba(201,168,76,.5);position:relative;z-index:4;flex-shrink:0}
.hero-timing{display:flex;align-items:stretch;justify-content:center;gap:8px;padding:0 10px;position:relative;z-index:5;margin-bottom:8px;width:100%;box-sizing:border-box}
.ht-box::before{content:"";position:absolute;top:0;left:-100%;width:60%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.04),transparent);animation:boxShine 6s ease-in-out infinite;pointer-events:none}
.ht-box{flex:1;background:linear-gradient(160deg,rgba(10,20,42,.95),rgba(6,12,26,.92));border:1.5px solid rgba(201,168,76,.5);border-radius:18px;padding:16px 10px;text-align:center;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);box-shadow:0 12px 40px rgba(0,0,0,.8),inset 0 1px 0 rgba(240,208,128,.2),inset 0 -1px 0 rgba(201,168,76,.08);display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:110px;position:relative;overflow:hidden}
.ht-mid{flex:0 0 76px;text-align:center;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:4px}
.ht-lbl{font-family:"Cinzel",serif;font-size:11px;letter-spacing:1.5px;color:rgba(240,200,100,.95);margin-bottom:8px;text-transform:uppercase;white-space:nowrap;text-shadow:0 0 10px rgba(201,168,76,.4)}
.ht-time{font-family:"Cinzel",serif;font-size:28px;font-weight:700;background:linear-gradient(180deg,#ffffff,#e8d8b0);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;letter-spacing:0.5px;line-height:1;white-space:nowrap;filter:drop-shadow(0 2px 8px rgba(255,255,255,.2))}
.ht-st{font-family:"Cinzel",serif;font-size:12.5px;letter-spacing:2px;margin-top:6px;text-transform:uppercase;white-space:nowrap}
.ht-st.pa{color:#c9813a}
.ht-st.up{color:rgba(255,255,255,.75)}
.ht-moon{font-size:38px;filter:drop-shadow(0 0 20px rgba(255,220,80,1)) drop-shadow(0 0 40px rgba(201,168,76,.5));animation:mf 4s ease-in-out infinite;margin-bottom:6px}
.ht-roza{font-family:"Cinzel",serif;font-size:13px;font-weight:700;background:linear-gradient(135deg,#c9a84c,#f0d080);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;letter-spacing:1.5px;line-height:1.3}
.ht-city{font-family:"Cinzel",serif;font-size:11px;letter-spacing:1px;color:rgba(255,255,255,.6);margin-top:5px}

/* QURAN CARD */
.quran-card{margin:0 14px 14px;background:linear-gradient(145deg,rgba(155,127,212,.08),rgba(10,18,36,.7));border:1px solid rgba(155,127,212,.25);border-radius:16px;padding:20px 16px;text-align:center}
.qv-ar{font-family:"Amiri",serif;font-size:24px;color:var(--goldl);direction:rtl;line-height:2;margin-bottom:12px;text-shadow:0 0 20px rgba(201,168,76,.3)}
.qv-tr{font-family:"EB Garamond",serif;font-style:italic;font-size:15px;color:var(--text);line-height:1.6;margin-bottom:8px}
.qv-ref{font-family:"Cinzel",serif;font-size:12px;letter-spacing:2px;color:var(--purple)}

/* VOICE REMINDER TOGGLE */
.rem-row-home{display:flex;align-items:center;justify-content:space-between;margin:0 14px 14px;background:rgba(10,18,36,.5);border:1px solid rgba(201,168,76,.15);border-radius:14px;padding:14px 16px}
.rem-ttl{font-family:"Cinzel",serif;font-size:14px;letter-spacing:1.5px;color:var(--goldl);margin-bottom:3px}
.rem-sub{font-family:"EB Garamond",serif;font-size:13px;color:var(--muted)}

/* HOME CLOSING - SADQA */
.home-closing{padding:0 14px 30px}
.hc-dev{background:linear-gradient(135deg,rgba(201,168,76,.08),rgba(10,18,36,.6));border:1px solid rgba(201,168,76,.2);border-radius:16px;padding:18px;text-align:center;margin-bottom:12px}
.hc-icon{color:var(--gold);font-size:16px;margin-bottom:4px}
.hc-tag{font-family:"Cinzel",serif;font-size:12px;letter-spacing:2px;color:var(--muted);margin-bottom:6px}
.hc-name{font-family:"Cinzel",serif;font-size:14px;font-weight:700;color:var(--goldl);margin-bottom:4px}
.hc-yr{font-family:"Cinzel",serif;font-size:12px;letter-spacing:1.5px;color:var(--muted)}
.hc-sadqa{background:linear-gradient(145deg,rgba(155,127,212,.12),rgba(10,18,36,.8));border:1px solid rgba(155,127,212,.3);border-radius:18px;padding:22px 18px;text-align:center;box-shadow:0 8px 32px rgba(155,127,212,.1)}
.hc-sadqa-top{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:4px;margin-bottom:10px}
.hc-sadqa-ttl{font-family:"Cinzel",serif;font-size:11px;letter-spacing:3px;color:var(--purple)}
.hc-sadqa-name{font-family:"EB Garamond",serif;font-size:28px;color:var(--goldl);margin-bottom:4px}
.hc-sadqa-sub{font-family:"Cinzel",serif;font-size:12px;letter-spacing:1px;color:var(--muted);margin-bottom:14px}
.hc-sadqa-ar{font-family:"Amiri",serif;font-size:20px;color:var(--goldl);direction:rtl;line-height:1.9;margin-bottom:10px;text-shadow:0 0 16px rgba(201,168,76,.3)}
.hc-sadqa-en{font-family:"EB Garamond",serif;font-style:italic;font-size:13px;color:var(--text);line-height:1.6;margin-bottom:12px}
.hc-sadqa-translit{font-family:"EB Garamond",serif;font-size:13.5px;color:rgba(201,168,76,.7);line-height:1.7;margin:8px 0 4px;letter-spacing:.3px}
.hc-sadqa-div{height:1px;background:rgba(155,127,212,.2);margin:12px 0}
.hc-sadqa-note{font-family:"EB Garamond",serif;font-size:13px;color:var(--goldd);line-height:1.7}

/* ── VISUAL UPGRADES ── */
.hero-crescent-glow{position:absolute;top:55%;left:50%;transform:translate(-50%,-50%);width:200px;height:200px;background:radial-gradient(ellipse,rgba(201,168,76,.08) 0%,rgba(201,168,76,.03) 40%,transparent 70%);pointer-events:none;z-index:1}
.hero-ornament{text-align:center;color:rgba(201,168,76,.35);font-size:11px;letter-spacing:6px;padding:0 16px 2px;position:relative;z-index:4;width:100%}
.ht-divider{width:40px;height:1px;background:linear-gradient(90deg,transparent,rgba(201,168,76,.6),transparent);margin:6px auto 0}
.today-card::before{content:"";position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,rgba(240,208,128,.3),transparent);pointer-events:none}
.cd-row{display:flex;justify-content:center;gap:16px;margin-bottom:14px}
.cd-box{text-align:center;min-width:52px;background:linear-gradient(160deg,rgba(15,28,55,.9),rgba(8,16,32,.95));border:1px solid rgba(201,168,76,.2);border-radius:12px;padding:10px 6px 8px;box-shadow:inset 0 1px 0 rgba(255,255,255,.06),0 4px 16px rgba(0,0,0,.4)}
.hstar{position:absolute;color:var(--gold);animation:twinkle var(--d) ease-in-out infinite;opacity:0;z-index:4;pointer-events:none}


/* ── ENTRANCE ANIMATIONS ── */
@keyframes fadeSlideUp{from{opacity:0;transform:translateY(16px)}to{opacity:1;transform:translateY(0)}}
.sec.on .today-card{animation:fadeSlideUp .5s ease both .1s}
.sec.on .sec-hdr{animation:fadeSlideUp .4s ease both .05s}
.sec.on .pgrid{animation:fadeSlideUp .5s ease both .2s}
.sec.on .quran-card{animation:fadeSlideUp .5s ease both .3s}
.sec.on .tool-pills{animation:fadeSlideUp .4s ease both .05s}
.sec.on .tool-panel{animation:fadeSlideUp .45s ease both .15s}
.sec.on .ncard{animation:fadeSlideUp .4s ease both}
/* Tabbar label size */
.tb-tx{font-size:12px;letter-spacing:0.5px}
/* Prayer time active glow */
.pt.ap .pt-ic{filter:drop-shadow(0 0 6px rgba(201,168,76,.8))}
.pt.ap .pt-tm{color:var(--goldl)}
/* Ncard n-name */
.n-name{font-family:"Cinzel",serif;font-size:15px;letter-spacing:.8px;color:var(--cream)}
/* NBadge */
.nbadge{font-family:"Cinzel",serif;font-size:12px;letter-spacing:1px;padding:5px 12px;border-radius:20px;white-space:nowrap;flex-shrink:0;background:linear-gradient(135deg,rgba(201,168,76,.15),rgba(201,168,76,.08));border:1px solid rgba(201,168,76,.4);color:var(--gold)}
/* Roza label in sub-txt */
.h-spark{color:rgba(201,168,76,.7);font-size:9px;animation:twinkle 2.5s ease-in-out infinite}
/* Fitrana card */
.ft-member-row{border-bottom:1px solid rgba(255,255,255,.06)}
/* Section background */
.sec{background:linear-gradient(180deg,var(--bg) 0%,#020a16 100%)}

.hc-sadqa-ammi{font-family:"Cinzel",serif;font-size:11px;letter-spacing:3px;color:rgba(200,160,220,.85);margin-top:-4px;margin-bottom:6px;text-transform:uppercase}

/* ── DUA PILLS ── */
.dua-pills{display:flex;overflow-x:auto;gap:8px;padding:4px 14px 12px;scrollbar-width:none;-webkit-overflow-scrolling:touch}
.dua-pills::-webkit-scrollbar{display:none}
.dpill{flex:0 0 auto;font-family:"Cinzel",serif;font-size:11px;letter-spacing:1px;padding:8px 14px;border-radius:20px;border:1px solid rgba(201,168,76,.3);color:rgba(201,168,76,.8);cursor:pointer;transition:all .25s;white-space:nowrap;background:rgba(6,12,24,.8)}
.dpill.on{background:linear-gradient(135deg,rgba(201,168,76,.22),rgba(201,168,76,.1));border-color:rgba(201,168,76,.7);color:var(--goldl);box-shadow:0 3px 14px rgba(201,168,76,.2)}

/* ── DUA CARDS v2 ── */
.dua-cat{padding:0 14px}
.dua-card2{background:linear-gradient(145deg,rgba(8,16,36,.97),rgba(5,10,22,.95));border:1px solid rgba(201,168,76,.18);border-radius:16px;padding:18px 16px;margin-bottom:12px;position:relative;overflow:hidden}
.dua-card2::before{content:"";position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,rgba(240,208,128,.25),transparent)}
.dua-card2.tw-style{border-color:rgba(240,210,80,.3);background:linear-gradient(145deg,rgba(12,20,10,.97),rgba(8,16,8,.95))}
.dua-card2.qadr-style{border-color:rgba(201,168,76,.5);background:linear-gradient(145deg,rgba(20,16,4,.97),rgba(14,10,2,.95));box-shadow:0 4px 20px rgba(201,168,76,.15)}
.dua-card2.parents-style{border-color:rgba(155,127,212,.35);background:linear-gradient(145deg,rgba(14,8,28,.97),rgba(8,4,18,.95))}
.dc2-lbl{font-family:"Cinzel",serif;font-size:11px;letter-spacing:2px;color:rgba(201,168,76,.9);margin-bottom:12px;display:flex;align-items:center;gap:6px}
.dc2-ar{font-family:"Amiri",serif;font-size:22px;color:var(--goldl);direction:rtl;text-align:center;line-height:1.9;margin-bottom:12px;text-shadow:0 0 18px rgba(201,168,76,.25)}
.dc2-tr{font-family:"EB Garamond",serif;font-style:italic;font-size:14px;color:var(--cream);line-height:1.7;margin-bottom:10px;text-align:center}
.dc2-me{font-family:"EB Garamond",serif;font-size:13px;color:var(--muted);line-height:1.7;padding:10px 12px;background:rgba(255,255,255,.03);border-radius:8px;border-left:2px solid rgba(201,168,76,.3)}
.dc2-src{font-size:11px;color:rgba(201,168,76,.5);margin-top:8px;text-align:right;letter-spacing:.5px}

/* ── ASHRA BANNERS ── */
.ashra-banner{display:flex;align-items:center;gap:14px;padding:14px 16px;border-radius:14px;margin-bottom:12px}
.ashra-banner.a1{background:linear-gradient(135deg,rgba(76,175,125,.15),rgba(76,175,125,.05));border:1px solid rgba(76,175,125,.3)}
.ashra-banner.a2{background:linear-gradient(135deg,rgba(201,168,76,.15),rgba(201,168,76,.05));border:1px solid rgba(201,168,76,.3)}
.ashra-banner.a3{background:linear-gradient(135deg,rgba(74,158,190,.15),rgba(74,158,190,.05));border:1px solid rgba(74,158,190,.3)}
.ashra-num{font-family:"Cinzel",serif;font-size:28px;font-weight:700;color:var(--goldl);min-width:44px;text-align:center}
.ashra-title{font-family:"Cinzel",serif;font-size:13px;letter-spacing:2px;color:var(--cream)}
.ashra-days{font-size:12px;color:var(--muted);margin-top:3px;letter-spacing:1px}

/* ── 99 NAMES OF ALLAH ── */
.names-grid{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-bottom:12px}
.name-card{background:linear-gradient(145deg,rgba(8,16,36,.97),rgba(5,10,22,.95));border:1px solid rgba(201,168,76,.15);border-radius:14px;padding:12px 10px;text-align:center;position:relative;overflow:hidden;cursor:pointer;transition:all .25s}
.name-card::before{content:"";position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,rgba(240,208,128,.2),transparent)}
.name-card:active{transform:scale(.97);border-color:rgba(201,168,76,.5);background:linear-gradient(145deg,rgba(20,36,70,.97),rgba(12,24,48,.95))}
.nc-num{font-family:"Cinzel",serif;font-size:11px;font-weight:700;letter-spacing:1px;color:var(--goldl);margin-bottom:5px;background:rgba(201,168,76,.12);border:1px solid rgba(201,168,76,.3);border-radius:12px;padding:2px 8px;display:inline-block}
.nc-ar{font-family:"Amiri",serif;font-size:20px;color:var(--goldl);direction:rtl;line-height:1.4;margin-bottom:4px;text-shadow:0 0 12px rgba(201,168,76,.3)}
.nc-en{font-family:"Cinzel",serif;font-size:10px;letter-spacing:1.5px;color:var(--cream);margin-bottom:4px;font-weight:600}
.nc-me{font-family:"EB Garamond",serif;font-size:11px;color:var(--muted);line-height:1.4;font-style:italic}
.names-intro{background:linear-gradient(145deg,rgba(201,168,76,.07),rgba(8,16,36,.95));border:1px solid rgba(201,168,76,.2);border-radius:14px;padding:14px 16px;margin-bottom:14px;text-align:center}
.names-intro-ar{font-family:"Amiri",serif;font-size:18px;color:var(--goldl);direction:rtl;line-height:1.8;margin-bottom:8px}
.names-intro-tr{font-family:"EB Garamond",serif;font-style:italic;font-size:13px;color:var(--muted);line-height:1.5;margin-bottom:4px}
.names-intro-ref{font-family:"Cinzel",serif;font-size:10px;letter-spacing:1.5px;color:rgba(201,168,76,.6)}

/* ── QIBLA COMPASS ── */
.qibla-wrap{padding:0 14px 16px}
.qibla-info{background:linear-gradient(145deg,rgba(8,16,36,.95),rgba(5,10,22,.93));border:1px solid rgba(201,168,76,.18);border-radius:16px;padding:16px;margin-bottom:20px}
.qibla-city-row{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid rgba(255,255,255,.05)}
.qibla-city-row:last-child{border-bottom:none;padding-bottom:0}
.qb-city-lbl{font-family:"Cinzel",serif;font-size:10px;letter-spacing:2px;color:var(--muted)}
.qb-city-val{font-family:"Cinzel",serif;font-size:15px;color:var(--cream);font-weight:600}
.qb-city-val.gold{color:var(--goldl);font-size:22px;text-shadow:0 0 12px rgba(201,168,76,.4)}
.compass-outer{width:220px;height:220px;margin:0 auto 20px;position:relative;cursor:pointer}
.compass-rose{width:200px;height:200px;border-radius:50%;background:linear-gradient(145deg,rgba(6,14,28,.98),rgba(10,22,44,.95));border:2px solid rgba(201,168,76,.4);position:absolute;top:10px;left:10px;display:flex;align-items:center;justify-content:center;box-shadow:0 0 30px rgba(201,168,76,.15),inset 0 0 30px rgba(0,0,0,.5);transition:transform .25s ease-out}
.compass-ring{position:absolute;inset:8px;border-radius:50%;border:1px solid rgba(201,168,76,.2)}
.compass-dir{position:absolute;font-family:"Cinzel",serif;font-size:13px;font-weight:700;color:rgba(201,168,76,.7)}
.compass-dir.n{top:10px;left:50%;transform:translateX(-50%);color:var(--goldl)}
.compass-dir.s{bottom:10px;left:50%;transform:translateX(-50%)}
.compass-dir.e{right:12px;top:50%;transform:translateY(-50%)}
.compass-dir.w{left:12px;top:50%;transform:translateY(-50%)}
.compass-needle{position:absolute;width:4px;height:150px;top:35px;left:108px;transform:rotate(285deg);transform-origin:50% 50%;transition:transform .25s ease-out;display:flex;flex-direction:column;align-items:center;pointer-events:none;z-index:10}
.needle-kaaba{font-size:18px;margin-bottom:2px;filter:drop-shadow(0 0 8px rgba(201,168,76,.8));line-height:1;flex-shrink:0}
.needle-shaft{width:3px;border-radius:2px}
.needle-shaft.north{height:49px;background:linear-gradient(180deg,rgba(201,168,76,.9),rgba(201,168,76,.3));border-radius:2px 2px 0 0;flex-shrink:0}
.needle-shaft.south{height:50px;background:linear-gradient(180deg,rgba(255,255,255,.2),rgba(255,255,255,.05));border-radius:0 0 2px 2px;flex-shrink:0}
.compass-center{position:absolute;width:14px;height:14px;border-radius:50%;background:radial-gradient(circle,var(--goldl),var(--gold));box-shadow:0 0 10px rgba(201,168,76,.6)}
.qibla-status{text-align:center;margin-bottom:16px}
.qb-status-txt{font-family:"Cinzel",serif;font-size:11px;letter-spacing:1px;color:rgba(201,168,76,.8);padding:8px 16px;background:rgba(201,168,76,.08);border-radius:20px;display:inline-block}
.qibla-cities-note{background:rgba(6,12,24,.8);border:1px solid rgba(255,255,255,.07);border-radius:14px;padding:14px;margin-bottom:14px}
.qb-note-hdr{font-family:"Cinzel",serif;font-size:10px;letter-spacing:2.5px;color:rgba(201,168,76,.7);text-align:center;margin-bottom:12px}
.qb-cities-grid{display:grid;grid-template-columns:1fr 1fr;gap:6px}
.qb-city-row2{display:flex;justify-content:space-between;align-items:center;font-family:"Cinzel",serif;font-size:10px;letter-spacing:.5px;color:var(--muted);padding:6px 8px;background:rgba(255,255,255,.03);border-radius:8px}
.qbc-deg{color:var(--goldl);font-weight:700}
.qbc-km{color:rgba(100,160,200,.8);font-size:9px}
.qb-compass-note{text-align:center;font-size:11px;color:var(--muted);line-height:1.7;padding:10px;background:rgba(255,255,255,.02);border-radius:10px;border:1px solid rgba(255,255,255,.05)}

/* ── ZAKAT REDESIGN ── */
.zk-asset-block{background:linear-gradient(145deg,rgba(10,20,42,.95),rgba(6,12,26,.92));border:1px solid rgba(201,168,76,.18);border-radius:18px;padding:16px 14px;margin:0 14px 12px;position:relative;overflow:hidden}
.zk-asset-block::before{content:"";position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,rgba(240,208,128,.2),transparent)}
.zk-asset-hdr{display:flex;align-items:center;gap:10px;margin-bottom:12px}
.zk-asset-ic{font-size:20px;flex-shrink:0}
.zk-asset-title{font-family:"Cinzel",serif;font-size:12px;letter-spacing:2px;color:var(--goldl);flex:1}
.zk-asset-badge{font-family:"Cinzel",serif;font-size:10px;letter-spacing:1px;color:var(--green);background:rgba(76,175,125,.12);border:1px solid rgba(76,175,125,.25);border-radius:20px;padding:3px 8px}
.zk-field-row{display:flex;gap:8px;margin-bottom:8px;align-items:center}
.zk-field-lbl{font-family:"Cinzel",serif;font-size:10px;letter-spacing:1.5px;color:var(--muted);margin-bottom:5px}
.zk-field{flex:1}
.zk-inp2{width:100%;box-sizing:border-box;background:rgba(255,255,255,.05);border:1px solid rgba(201,168,76,.2);border-radius:10px;padding:10px 12px;font-family:"Cinzel",serif;font-size:14px;color:var(--cream);outline:none;transition:border-color .2s}
.zk-inp2:focus{border-color:rgba(201,168,76,.55);background:rgba(201,168,76,.04)}
.zk-inp2::placeholder{color:rgba(255,255,255,.15);font-size:12px}
.zk-inp2.computed{border-color:rgba(76,175,125,.3);color:var(--green);background:rgba(76,175,125,.05)}
.zk-multiply{font-size:14px;color:var(--muted);flex-shrink:0;align-self:flex-end;padding-bottom:10px}
.zk-computed-row{display:flex;justify-content:space-between;align-items:center;background:rgba(76,175,125,.07);border:1px solid rgba(76,175,125,.18);border-radius:10px;padding:8px 12px;margin-top:4px}
.zk-comp-lbl{font-family:"Cinzel",serif;font-size:10px;letter-spacing:1.5px;color:var(--muted)}
.zk-comp-val{font-family:"Cinzel",serif;font-size:14px;font-weight:700;color:var(--green)}
.zk-nisab-check{margin:0 14px 14px;border-radius:14px;padding:13px 16px;text-align:center}
.zk-nisab-check.eligible{background:linear-gradient(135deg,rgba(76,175,125,.12),rgba(76,175,125,.05));border:1px solid rgba(76,175,125,.35)}
.zk-nisab-check.not-eligible{background:linear-gradient(135deg,rgba(255,160,50,.08),rgba(255,160,50,.03));border:1px solid rgba(255,160,50,.3)}
.zk-nisab-check.empty{background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.07)}
.zk-nc-icon{font-size:22px;margin-bottom:6px}
.zk-nc-title{font-family:"Cinzel",serif;font-size:12px;letter-spacing:2px;margin-bottom:4px}
.zk-nc-sub{font-family:"EB Garamond",serif;font-size:13px;color:var(--muted);line-height:1.5}

</style>
</head>
<body>
<div class="app">
<div class="stars-bg" id="stars"></div>
<div class="content">

<div class="alert alert-g hidden" id="alert-s">⚠️ &nbsp;SEHRI ENDS IN LESS THAN 10 MINUTES!</div>
<div class="alert alert-b hidden" id="alert-i">🌙 &nbsp;MUBARAK! IFTAR TIME HAS ARRIVED!</div>

<!-- TABBAR -->
<div class="tabbar">
  <div class="tb on" id="tb-home" onclick="showTab('home')"><div class="tb-ic">🏠</div><div class="tb-tx">HOME</div></div>
  <div class="tb" id="tb-tools" onclick="showTab('tools')"><div class="tb-ic">🧮</div><div class="tb-tx">TOOLS</div></div>
  <div class="tb" id="tb-sched" onclick="showTab('sched')"><div class="tb-ic">📅</div><div class="tb-tx">SCHEDULE</div></div>
  <div class="tb" id="tb-duas" onclick="showTab('duas')"><div class="tb-ic">🤲</div><div class="tb-tx">DUAS</div></div>
  <div class="tb" id="tb-sadqa" onclick="showTab('sadqa')"><div class="tb-ic">💜</div><div class="tb-tx">SADQA</div></div>
</div>

<!-- HOME -->
<div class="sec on" id="sec-home">

<div class="hero">
  <div class="hero-lanterns">
    <div class="lantern" style="--ls:3.2s;--ld:0s"><div class="l-str"></div><div class="l-ico">🏮</div><div class="l-glow"></div></div>
    <div class="lantern" style="--ls:2.7s;--ld:.5s"><div class="l-str"></div><div class="l-ico">🪔</div><div class="l-glow"></div></div>
    <div class="lantern" style="--ls:3.6s;--ld:.9s"><div class="l-str"></div><div class="l-ico">🏮</div><div class="l-glow"></div></div>
    <div class="lantern" style="--ls:2.5s;--ld:.3s"><div class="l-str"></div><div class="l-ico">🪔</div><div class="l-glow"></div></div>
    <div class="lantern" style="--ls:3.9s;--ld:.7s"><div class="l-str"></div><div class="l-ico">🏮</div><div class="l-glow"></div></div>
  </div>
  <div class="hstar" style="top:62px;left:15%;font-size:11px;--d:2.1s;--dl2:0s">✦</div>
  <div class="hstar" style="top:74px;right:18%;font-size:13px;--d:3.2s;--dl2:1.1s">✦</div>
  <div class="hstar" style="top:94px;left:33%;font-size:5px;--d:2.8s;--dl2:.6s">✦</div>
  <div class="hstar" style="top:81px;right:37%;font-size:12px;color:rgba(201,168,76,.85);--d:2.3s;--dl2:1.8s">★</div>
  <div class="hero-sub-row">
    <span class="h-spark">✦</span>
    <span class="hero-sub-txt">RAMADAN 1447 AH · INDIA 2026</span>
    <span class="h-spark">✦</span>
  </div>
  <div class="hero-arabic-small">رَمَضَان مُبَارَك</div>
  <div class="hero-timing">
    <div class="ht-box" id="ht-sehri">
      <div class="ht-lbl">🌙 SEHRI ENDS</div>
      <div class="ht-time" id="hi-sh">--:--</div>
      <div class="ht-divider"></div>
      <div class="ht-st pa" id="hi-sh-st">UPCOMING</div>
    </div>
    <div class="ht-mid">
      <div class="ht-moon">🌙</div>
      <div class="ht-roza" id="hi-roza">-- ROZA</div>
      <div class="ht-city">📍 <span id="hi-city">PUNE</span></div>
    </div>
    <div class="ht-box" id="ht-iftar">
      <div class="ht-lbl">☀️ IFTAR TIME</div>
      <div class="ht-time" id="hi-if">--:--</div>
      <div class="ht-divider"></div>
      <div class="ht-st up" id="hi-if-st">UPCOMING</div>
    </div>
  </div>
  <div class="hero-ornament">· · · · ✦ · · · ·</div>
  <div class="hero-crescent-glow"></div>
  <div class="h-glow"></div>
  <svg class="mosque-svg" viewBox="0 0 480 72" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">
    <defs><linearGradient id="mg" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="#0c1a2e"/><stop offset="100%" stop-color="#060e1c"/></linearGradient></defs>
    <rect x="0" y="58" width="480" height="14" fill="url(#mg)"/>
    <rect x="26" y="14" width="11" height="44" fill="url(#mg)"/><polygon points="26,14 37,14 31.5,3" fill="url(#mg)"/><ellipse cx="31.5" cy="17" rx="7" ry="3" fill="url(#mg)"/>
    <rect x="443" y="14" width="11" height="44" fill="url(#mg)"/><polygon points="443,14 454,14 448.5,3" fill="url(#mg)"/><ellipse cx="448.5" cy="17" rx="7" ry="3" fill="url(#mg)"/>
    <rect x="97" y="26" width="8" height="32" fill="url(#mg)"/><polygon points="97,26 105,26 101,16" fill="url(#mg)"/>
    <rect x="375" y="26" width="8" height="32" fill="url(#mg)"/><polygon points="375,26 383,26 379,16" fill="url(#mg)"/>
    <path d="M166,58 L166,36 Q240,1 314,36 L314,58 Z" fill="url(#mg)"/>
    <line x1="240" y1="1" x2="240" y2="-4" stroke="rgba(201,168,76,.6)" stroke-width="1.2"/>
    <path d="M236,1 Q240,-3 244,1 L243,4 L237,4 Z" fill="url(#mg)"/>
    <path d="M116,58 L116,47 Q141,28 166,47 L166,58 Z" fill="url(#mg)"/>
    <path d="M314,58 L314,47 Q339,28 364,47 L364,58 Z" fill="url(#mg)"/>
    <rect x="116" y="47" width="248" height="11" fill="url(#mg)"/>
    <path d="M152,58 L152,51 Q162,43 172,51 L172,58 Z" fill="rgba(3,7,14,.9)"/>
    <path d="M193,58 L193,51 Q203,43 213,51 L213,58 Z" fill="rgba(3,7,14,.9)"/>
    <path d="M226,58 L226,50 Q240,40 254,50 L254,58 Z" fill="rgba(3,7,14,.9)"/>
    <path d="M267,58 L267,51 Q277,43 287,51 L287,58 Z" fill="rgba(3,7,14,.9)"/>
    <path d="M308,58 L308,51 Q318,43 328,51 L328,58 Z" fill="rgba(3,7,14,.9)"/>
    <line x1="0" y1="58" x2="480" y2="58" stroke="rgba(201,168,76,.36)" stroke-width="1"/>
  </svg>
</div>

  <div class="sec-hdr">✦ TODAY'S TIMINGS ✦</div>
  <div class="today-card">
    <div class="td-lbl">✦ <span id="roza-lbl">RAMADAN 1447 AH</span> ✦</div>
    <div class="td-date" id="td-date">Loading...</div>
    <div class="city-sw" id="city-sw"></div>
    <div class="clock" id="clock">00:00:00</div>
    <div class="cd-lbl" id="cd-lbl">⏳ LOADING...</div>
    <div class="cd-row">
      <div class="cd-box"><div class="cd-n" id="cd-h">00</div><div class="cd-u">HRS</div></div>
      <div class="cd-box"><div class="cd-n" id="cd-m">00</div><div class="cd-u">MIN</div></div>
      <div class="cd-box"><div class="cd-n" id="cd-s">00</div><div class="cd-u">SEC</div></div>
    </div>
    <div class="si-row">
      <div class="si-col"><div class="si-lbl">🌙 SEHRI ENDS</div><div class="si-time" id="s-time">--:--</div><div class="stag tag-u" id="s-st">UPCOMING</div></div>
      <div class="si-col"><div class="si-lbl">☀️ IFTAR TIME</div><div class="si-time" id="i-time">--:--</div><div class="stag tag-u" id="i-st">UPCOMING</div></div>
    </div>
  </div>

  <div class="sec-hdr">✦ PRAYER TIMES ✦</div>
  <div class="pgrid">
    <div class="pt" id="pt-fajr"><div class="pt-ic">🌅</div><div class="pt-lb">FAJR/SEHRI</div><div class="pt-tm" id="t-fajr">--:--</div></div>
    <div class="pt" id="pt-dhuhr"><div class="pt-ic">☀️</div><div class="pt-lb">DHUHR</div><div class="pt-tm" id="t-dhuhr">--:--</div></div>
    <div class="pt" id="pt-asr"><div class="pt-ic">🌤️</div><div class="pt-lb">ASR</div><div class="pt-tm" id="t-asr">--:--</div></div>
    <div class="pt" id="pt-maghrib"><div class="pt-ic">🌇</div><div class="pt-lb">MAGHRIB/IFTAR</div><div class="pt-tm" id="t-maghrib">--:--</div></div>
    <div class="pt" id="pt-isha"><div class="pt-ic">🌙</div><div class="pt-lb">ISHA</div><div class="pt-tm" id="t-isha">--:--</div></div>
    <div class="pt"><div class="pt-ic">⭐</div><div class="pt-lb">TARAWEEH</div><div class="pt-tm" id="t-tarawih">--:--</div></div>
  </div>

  <div class="sec-hdr" style="padding:14px 0 6px">🏙️ ALL CITIES</div>
  <div class="cities-grid" id="cities-grid"></div>
    <!-- Quran Verse of the Day -->
  <div class="sec-hdr">📖 QURAN VERSE OF THE DAY</div>
  <div class="quran-card">
    <div class="qv-ar" id="qv-ar">بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ</div>
    <div class="qv-tr" id="qv-tr">In the name of Allah, the Most Gracious, the Most Merciful.</div>
    <div class="qv-ref" id="qv-ref">Al-Fatiha 1:1</div>
  </div>

  <!-- Voice Reminder Toggle -->
  <div class="rem-row-home">
    <div class="rem-info">
      <div class="rem-ttl">🔔 VOICE REMINDERS</div>
      <div class="rem-sub">Sehri & Iftar alerts spoken aloud</div>
    </div>
    <div class="tog on" id="rem-tog" onclick="toggleRem()"><div class="tog-k"></div></div>
  </div>

  <!-- Sadqa-e-Jariya closing -->
  <div class="home-closing">
    <div class="hc-dev">
      <div class="hc-icon">✦</div>
      <div class="hc-tag">CRAFTED WITH LOVE &amp; DUAS</div>
      <div class="hc-name">Amir Nazir Shaikh</div>
      <div class="hc-yr">Ramadan 2026 · 1447 AH · India</div>
    </div>
    <div class="hc-sadqa">
      <div class="hc-sadqa-top">
        <div style="font-size:30px;margin-bottom:6px">💜🤲</div>
        <div class="hc-sadqa-ttl">✦ SADQA-E-JARIYA ✦</div>
      </div>
      <div class="hc-sadqa-name">Munira Nazir Shaikh</div>
      <div class="hc-sadqa-ammi">Ammi 💜</div>
      <div class="hc-sadqa-sub">May her soul rest in Jannatul Firdaus</div>
      <div class="hc-sadqa-ar">اللَّهُمَّ اغْفِرْ لَهَا وَارْحَمْهَا وَأَدْخِلْهَا الْجَنَّةَ</div>
      <div class="hc-sadqa-translit">Allāhumma-ghfir lahā, wa-rḥamhā, wa-adkhilhal-jannah</div>
      <div class="hc-sadqa-en"><em>O Allah, forgive her, have mercy on her, and enter her into Jannah. Ameen.</em></div>
      <div class="hc-sadqa-div"></div>
      <div class="hc-sadqa-note">This app is dedicated as Sadqa-e-Jariya for her blessed soul. Every prayer time viewed, every dua read — a source of noor for her. 🤲</div>
      <div style="color:var(--purple);font-size:11px;letter-spacing:1.5px;margin-top:2px">💜 Sadqa-e-Jariya for Munira Nazir Shaikh (Ammi) · May Allah grant her Jannatul Firdaus 💜</div>
    </div>
  </div>
</div>

<!-- TOOLS -->
<div class="sec" id="sec-tools">
  <div class="sec-hdr" style="padding-top:18px">🕌 IBADAH TOOLS</div>
  <div class="tool-pills">
    <div class="tpill on" id="tp-ts" onclick="showTool('ts')">📿 Tasbeeh</div>
    <div class="tpill" id="tp-tw" onclick="showTool('tw')">⭐ Taraweeh</div>
    <div class="tpill" id="tp-zk" onclick="showTool('zk')">💰 Zakat</div>
    <div class="tpill" id="tp-qp" onclick="showTool('qp')">📖 Quran</div>
    <div class="tpill" id="tp-ft" onclick="showTool('ft')">💸 Fitrana</div>
    <div class="tpill" id="tp-qb" onclick="showTool('qb')">🧭 Qibla</div>
  </div>

<div id="tool-ts" class="tool-panel">
  <div class="sec-hdr" style="padding-top:18px">📿 TASBEEH COUNTER</div>
  <div class="ts-sel">
    <div class="ts-opt on" id="ts0" onclick="setTs(0)"><span class="ts-ar">سُبْحَانَ اللَّهِ</span><span class="ts-en">SUBHANALLAH</span></div>
    <div class="ts-opt" id="ts1" onclick="setTs(1)"><span class="ts-ar">الْحَمْدُ لِلَّهِ</span><span class="ts-en">ALHAMDULILLAH</span></div>
    <div class="ts-opt" id="ts2" onclick="setTs(2)"><span class="ts-ar">اللَّهُ أَكْبَر</span><span class="ts-en">ALLAHU AKBAR</span></div>
  </div>
  <div class="ts-wrap">
    <div class="ts-count" id="ts-cnt">0</div>
    <div class="ts-btn-big" id="ts-big" onclick="tapTs(event)">
      <div class="ts-tap-ar" id="ts-big-ar">سُبْحَانَ اللَّهِ</div>
      <div class="ts-tap-en" id="ts-big-en">SUBHANALLAH</div>
      <div class="ts-hint">TAP TO COUNT</div>
    </div>
    <div class="ts-pbar"><div class="ts-pfill" id="ts-pf" style="width:0%"></div></div>
    <div class="ts-info" id="ts-info">0 / 33 · Sets: 0</div>
  </div>
  <div class="ts-ctrl">
    <div class="ts-c" onclick="tsUndo()">↩ UNDO</div>
    <div class="ts-c" onclick="tsReset()">↺ RESET</div>
    <div class="ts-c" onclick="openTsGoal()">🎯 GOAL</div>
  </div>
  <div class="ts-totals">
    <div class="ts-tot"><div class="ts-tot-ar">سُبْحَانَ اللَّهِ</div><div class="ts-tot-n" id="ts-t0">0</div></div>
    <div class="ts-tot"><div class="ts-tot-ar">الْحَمْدُ لِلَّهِ</div><div class="ts-tot-n" id="ts-t1">0</div></div>
    <div class="ts-tot"><div class="ts-tot-ar">اللَّهُ أَكْبَر</div><div class="ts-tot-n" id="ts-t2">0</div></div>
  </div>
</div>
<div id="tool-tw" class="tool-panel" style="display:none">
  <div class="tw-hdr-bar">⭐ TARAWEEH RAKAT TRACKER · TONIGHT</div>
  <div class="tw-card">
    <div class="tw-card-lbl">RAKATS COMPLETED TONIGHT</div>
    <div class="tw-big" id="tw-cnt">0</div>
    <div class="tw-card-sub">OF 20 RAKATS TARAWEEH + 3 WITR</div>
    <div class="tw-circles" id="rk-grid"></div>
    <div class="tw-pb"><div class="tw-pf" id="tw-pf" style="width:0%"></div></div>
    <div class="tw-tap-hint">Tap circles to mark each Rakat completed 🤲</div>
    <div class="tw-btns">
      <div class="tw-btn tw-minus" onclick="twAdd(-2)">−2</div>
      <div class="tw-btn tw-plus" onclick="twAdd(2)">+2</div>
      <button class="tw-btn tw-reset" onclick="twReset()">RESET NIGHT</button>
    </div>
  </div>
  <div class="tw-dua-card">
    <div class="tw-dua-ttl">🤲 DUA FOR TARAWEEH · AFTER EVERY 4 RAKATS</div>
    <div class="tw-dua-ar">سُبْحَانَ ذِي الْمُلْكِ وَالْمَلَكُوتِ سُبْحَانَ ذِي الْعِزَّةِ وَالْعَظَمَةِ وَالْهَيْبَةِ وَالْقُدْرَةِ وَالْكِبْرِيَاءِ وَالْجَبَرُوتِ سُبْحَانَ الْمَلِكِ الْحَيِّ الَّذِي لَا يَنَامُ وَلَا يَمُوتُ سُبُّوحٌ قُدُّوسٌ رَبُّنَا وَرَبُّ الْمَلَائِكَةِ وَالرُّوحِ اللَّهُمَّ أَجِرْنَا مِنَ النَّارِ يَا مُجِيرُ يَا مُجِيرُ يَا مُجِيرُ</div>
    <div class="tw-dua-tr">Subhana Dhil-Mulki wal-Malakoot. Subhana Dhil-Izzati wal-Azhamati wal-Haybati wal-Qudrati wal-Kibriyai wal-Jabaroot. Subhanal-Malikil-Hayyil-Ladhi Laa Yanaamu wa Laa Yamoot. Subboohun Quddoosun Rabbuna wa Rabbul-Malaikati war-Rooh. Allahumma ajirna minan-naar, Ya Mujeer, Ya Mujeer, Ya Mujeer.</div>
    <div class="tw-dua-en">Glory be to the One who has all power and control. Glory be to the One who possesses honour, greatness, awe, power, majesty and might. Glory be to the Eternal King who never sleeps and never dies. He is Perfect and Holy, our Lord and the Lord of the angels and the souls. O Allah, protect us from the fire (of Hell), O Protector, O Protector, O Protector.</div>
  </div>
  </div>

  <div id="tool-zk" class="tool-panel" style="display:none">
<div class="sec-hdr" style="padding-top:20px">💰 ZAKAT CALCULATOR</div>

<!-- Intro -->
<div style="margin:0 14px 14px;background:linear-gradient(145deg,rgba(8,16,36,.95),rgba(5,10,22,.92));border:1px solid rgba(201,168,76,.2);border-radius:16px;padding:16px;text-align:center">
  <div style="font-family:'Cinzel',serif;font-size:13px;letter-spacing:2px;color:var(--goldl);margin-bottom:8px">✦ ZAKAT 2026 · 1447 AH ✦</div>
  <div style="font-family:'EB Garamond',serif;font-size:13px;color:var(--muted);line-height:1.7">Zakat = <strong style="color:var(--cream)">2.5%</strong> of total zakatable wealth held above the <strong style="color:var(--cream)">Nisab</strong> for one full lunar year.</div>
  <div style="display:flex;gap:8px;margin-top:10px">
    <div style="flex:1;background:rgba(201,168,76,.07);border:1px solid rgba(201,168,76,.2);border-radius:10px;padding:8px 6px;text-align:center">
      <div style="font-family:'Cinzel',serif;font-size:9px;letter-spacing:1.5px;color:var(--muted);margin-bottom:3px">NISAB (GOLD)</div>
      <div style="font-family:'Cinzel',serif;font-size:11px;color:var(--goldl)">85 grams</div>
    </div>
    <div style="flex:1;background:rgba(201,168,76,.07);border:1px solid rgba(201,168,76,.2);border-radius:10px;padding:8px 6px;text-align:center">
      <div style="font-family:'Cinzel',serif;font-size:9px;letter-spacing:1.5px;color:var(--muted);margin-bottom:3px">NISAB (SILVER)</div>
      <div style="font-family:'Cinzel',serif;font-size:11px;color:var(--goldl)">595 grams</div>
    </div>
    <div style="flex:1;background:rgba(201,168,76,.07);border:1px solid rgba(201,168,76,.2);border-radius:10px;padding:8px 6px;text-align:center">
      <div style="font-family:'Cinzel',serif;font-size:9px;letter-spacing:1.5px;color:var(--muted);margin-bottom:3px">ZAKAT RATE</div>
      <div style="font-family:'Cinzel',serif;font-size:11px;color:var(--green)">2.5%</div>
    </div>
  </div>
</div>

<!-- Disclaimer -->
<div style="margin:0 14px 14px;background:linear-gradient(135deg,rgba(240,160,48,.06),rgba(240,160,48,.02));border:1px solid rgba(240,160,48,.3);border-radius:14px;padding:13px 15px;display:flex;gap:10px;align-items:flex-start">
  <div style="font-size:18px;flex-shrink:0;margin-top:1px">⚠️</div>
  <div>
    <div style="font-family:'Cinzel',serif;font-size:9.5px;letter-spacing:1.8px;color:rgba(240,160,48,.9);margin-bottom:5px">FOR ESTIMATION ONLY</div>
    <div style="font-family:'EB Garamond',serif;font-size:12.5px;color:rgba(201,168,76,.65);line-height:1.6">This calculator provides an <em>estimate</em> based on the values you enter. Zakat rulings can vary based on your personal situation, madhab, and scholarly opinion. Please consult a qualified <strong style="color:rgba(201,168,76,.85)">Imam, Mufti, or Islamic scholar</strong> before giving Zakat if you have any doubts.</div>
  </div>
</div>

<!-- 1. CASH & BANK -->
<div class="zk-asset-block">
  <div class="zk-asset-hdr">
    <div class="zk-asset-ic">💵</div>
    <div class="zk-asset-title">CASH &amp; BANK SAVINGS</div>
    <div class="zk-asset-badge">2.5%</div>
  </div>
  <div class="zk-field">
    <div class="zk-field-lbl">TOTAL AMOUNT (₹)</div>
    <input class="zk-inp2" type="number" id="z-cash" placeholder="e.g. 1,00,000" oninput="calcZ()">
  </div>
</div>

<!-- 2. GOLD -->
<div class="zk-asset-block">
  <div class="zk-asset-hdr">
    <div class="zk-asset-ic">🪙</div>
    <div class="zk-asset-title">GOLD</div>
    <div class="zk-asset-badge">2.5%</div>
  </div>

  <!-- 24K -->
  <div style="font-family:'Cinzel',serif;font-size:9px;letter-spacing:1.5px;color:var(--goldl);margin-bottom:4px;opacity:.8">24 KARAT (Pure Gold — Coins, Bars)</div>
  <div style="display:flex;gap:6px;margin-bottom:6px">
    <div class="zk-field" style="flex:1">
      <div class="zk-field-lbl">QUANTITY (grams)</div>
      <input class="zk-inp2" type="number" id="z-g24-qty" placeholder="e.g. 10" oninput="calcZ()">
    </div>
    <div style="align-self:flex-end;padding-bottom:10px;color:var(--muted);font-size:13px;flex-shrink:0">×</div>
    <div class="zk-field" style="flex:1">
      <div class="zk-field-lbl" style="display:flex;justify-content:space-between;align-items:center">RATE (₹/gram)<span id="z-g24-rate-warn" style="display:none;font-size:8px;color:#e05;letter-spacing:.5px">REQUIRED ↑</span></div>
      <input class="zk-inp2" type="number" id="z-g24-rate" placeholder="Today's 24K rate e.g. 9200" oninput="calcZ()" style="transition:border-color .2s">
    </div>
  </div>
  <div class="zk-computed-row" id="z-g24-computed" style="display:none;margin-bottom:8px">
    <div class="zk-comp-lbl">24K Gold Value</div>
    <div class="zk-comp-val" id="z-g24-val">₹0</div>
  </div>

  <!-- 22K -->
  <div style="font-family:'Cinzel',serif;font-size:9px;letter-spacing:1.5px;color:var(--goldl);margin-bottom:4px;opacity:.8">22 KARAT (Jewellery — Most Common)</div>
  <div style="display:flex;gap:6px;margin-bottom:6px">
    <div class="zk-field" style="flex:1">
      <div class="zk-field-lbl">QUANTITY (grams)</div>
      <input class="zk-inp2" type="number" id="z-g22-qty" placeholder="e.g. 50" oninput="calcZ()">
    </div>
    <div style="align-self:flex-end;padding-bottom:10px;color:var(--muted);font-size:13px;flex-shrink:0">×</div>
    <div class="zk-field" style="flex:1">
      <div class="zk-field-lbl" style="display:flex;justify-content:space-between;align-items:center">RATE (₹/gram)<span id="z-g22-rate-warn" style="display:none;font-size:8px;color:#e05;letter-spacing:.5px">REQUIRED ↑</span></div>
      <input class="zk-inp2" type="number" id="z-g22-rate" placeholder="Today's 22K rate e.g. 8500" oninput="calcZ()" style="transition:border-color .2s">
    </div>
  </div>
  <div class="zk-computed-row" id="z-g22-computed" style="display:none;margin-bottom:8px">
    <div class="zk-comp-lbl">22K Gold Value</div>
    <div class="zk-comp-val" id="z-g22-val">₹0</div>
  </div>

  <!-- 18K -->
  <div style="font-family:'Cinzel',serif;font-size:9px;letter-spacing:1.5px;color:var(--goldl);margin-bottom:4px;opacity:.8">18 KARAT (Modern Jewellery, Diamond Settings)</div>
  <div style="display:flex;gap:6px;margin-bottom:6px">
    <div class="zk-field" style="flex:1">
      <div class="zk-field-lbl">QUANTITY (grams)</div>
      <input class="zk-inp2" type="number" id="z-g18-qty" placeholder="e.g. 15" oninput="calcZ()">
    </div>
    <div style="align-self:flex-end;padding-bottom:10px;color:var(--muted);font-size:13px;flex-shrink:0">×</div>
    <div class="zk-field" style="flex:1">
      <div class="zk-field-lbl" style="display:flex;justify-content:space-between;align-items:center">RATE (₹/gram)<span id="z-g18-rate-warn" style="display:none;font-size:8px;color:#e05;letter-spacing:.5px">REQUIRED ↑</span></div>
      <input class="zk-inp2" type="number" id="z-g18-rate" placeholder="Today's 18K rate e.g. 7000" oninput="calcZ()" style="transition:border-color .2s">
    </div>
  </div>
  <div class="zk-computed-row" id="z-g18-computed" style="display:none;margin-bottom:8px">
    <div class="zk-comp-lbl">18K Gold Value</div>
    <div class="zk-comp-val" id="z-g18-val">₹0</div>
  </div>

  <!-- Total Gold -->
  <div class="zk-computed-row" id="z-g-total-row" style="display:none;border-top:1px solid rgba(201,168,76,.25);padding-top:8px;margin-top:2px">
    <div class="zk-comp-lbl" style="color:var(--goldl);font-weight:600">📊 TOTAL GOLD VALUE</div>
    <div class="zk-comp-val" id="z-g-val" style="font-size:15px">₹0</div>
  </div>
  <div style="font-family:'Cinzel',serif;font-size:10px;letter-spacing:1px;color:rgba(201,168,76,.5);margin-top:8px">💡 Check today's rates at goldrate.in — rates differ by karat</div>
</div>

<!-- 3. SILVER -->
<div class="zk-asset-block">
  <div class="zk-asset-hdr">
    <div class="zk-asset-ic">🥈</div>
    <div class="zk-asset-title">SILVER</div>
    <div class="zk-asset-badge">2.5%</div>
  </div>
  <div style="display:flex;gap:6px;margin-bottom:6px">
    <div class="zk-field" style="flex:1">
      <div class="zk-field-lbl">QUANTITY (grams)</div>
      <input class="zk-inp2" type="number" id="z-s-qty" placeholder="e.g. 200" oninput="calcZ()">
    </div>
    <div style="align-self:flex-end;padding-bottom:10px;color:var(--muted);font-size:13px;flex-shrink:0">×</div>
    <div class="zk-field" style="flex:1">
      <div class="zk-field-lbl">TODAY'S RATE (₹/gram)</div>
      <input class="zk-inp2" type="number" id="z-s-rate" placeholder="e.g. 95" oninput="calcZ()">
    </div>
  </div>
  <div class="zk-computed-row" id="z-s-computed" style="display:none">
    <div class="zk-comp-lbl">📊 COMPUTED SILVER VALUE</div>
    <div class="zk-comp-val" id="z-s-val">₹0</div>
  </div>
  <div style="font-family:'Cinzel',serif;font-size:10px;letter-spacing:1px;color:rgba(201,168,76,.5);margin-top:8px">💡 Check today's rate at silverprice.in or any jeweller app</div>
</div>

<!-- 4. INVESTMENTS -->
<div class="zk-asset-block">
  <div class="zk-asset-hdr">
    <div class="zk-asset-ic">📈</div>
    <div class="zk-asset-title">INVESTMENTS / SHARES / MF</div>
    <div class="zk-asset-badge">2.5%</div>
  </div>
  <div class="zk-field">
    <div class="zk-field-lbl">CURRENT MARKET VALUE (₹)</div>
    <input class="zk-inp2" type="number" id="z-inv" placeholder="e.g. 2,00,000" oninput="calcZ()">
  </div>
</div>

<!-- 5. MONEY OWED -->
<div class="zk-asset-block">
  <div class="zk-asset-hdr">
    <div class="zk-asset-ic">🤝</div>
    <div class="zk-asset-title">MONEY OWED TO YOU</div>
    <div class="zk-asset-badge">2.5%</div>
  </div>
  <div class="zk-field">
    <div class="zk-field-lbl">AMOUNT (₹)</div>
    <input class="zk-inp2" type="number" id="z-recv" placeholder="e.g. 50,000" oninput="calcZ()">
  </div>
</div>

<!-- NISAB STATUS CHECK -->
<div class="zk-nisab-check empty" id="zk-nisab-check">
  <div class="zk-nc-icon">⚖️</div>
  <div class="zk-nc-title" style="color:var(--muted)">NISAB STATUS</div>
  <div class="zk-nc-sub">Fill in your assets above to check if Zakat is due on you</div>
</div>

<!-- RESULT -->
<div style="margin:0 14px 4px;background:linear-gradient(135deg,rgba(76,175,125,.1),rgba(76,175,125,.04));border:1px solid rgba(76,175,125,.3);border-radius:16px;padding:18px 16px;text-align:center;box-shadow:0 4px 22px rgba(76,175,125,.06)">
  <div style="font-family:'Cinzel',serif;font-size:11px;letter-spacing:2.5px;color:var(--green);margin-bottom:8px">✦ YOUR TOTAL ZAKAT DUE ✦</div>
  <div style="display:flex;align-items:baseline;justify-content:center;gap:3px">
    <span style="font-family:'Cinzel',serif;font-size:16px;color:rgba(76,175,125,.6);vertical-align:super">₹</span>
    <span class="zk-r-big" id="zk-total">0</span>
  </div>
  <div id="zk-total-words" style="font-family:'EB Garamond',serif;font-style:italic;font-size:13px;color:var(--muted);margin-top:4px"></div>
  <div class="zk-bd" id="zk-bd" style="margin-top:12px"></div>
  <button class="zk-rst" onclick="zReset()">↺ CLEAR ALL FIELDS</button>
</div>
<div style="height:16px"></div>
</div>

<div id="tool-qp" class="tool-panel" style="display:none">
    <div class="sec-hdr" style="padding-top:18px">📖 QURAN PROGRESS TRACKER</div>
    <div class="qp-card">
      <div class="qp-top">
        <div class="qp-stat"><div class="qp-num" id="qp-done">0</div><div class="qp-lbl">JUZ DONE</div></div>
        <div class="qp-stat"><div class="qp-num" id="qp-left">30</div><div class="qp-lbl">REMAINING</div></div>
        <div class="qp-stat"><div class="qp-num" id="qp-pct">0%</div><div class="qp-lbl">COMPLETE</div></div>
      </div>
      <div class="qp-pb"><div class="qp-pf" id="qp-pf" style="width:0%"></div></div>
      <div class="qp-hint">Tap each Juz to mark as completed ✨</div>
      <div class="qp-grid" id="qp-grid"></div>
      <button class="qp-reset" onclick="qpReset()">↺ RESET ALL</button>
    </div>
  </div>

  <div id="tool-ft" class="tool-panel" style="display:none">
    <div class="sec-hdr" style="padding-top:18px">💸 FITRANA CALCULATOR</div>
    <div class="ft-card">
      <div class="ft-intro">Sadqa-e-Fitr is Wajib on every Muslim who possesses Nisab on Eid day. Pay before Eid prayer.</div>
      <div class="ft-info-row">
        <div class="ft-info-box"><div class="ft-info-lbl">Per Person (Wheat)</div><div class="ft-info-val">₹50 – ₹100</div></div>
        <div class="ft-info-box"><div class="ft-info-lbl">Per Person (Dates)</div><div class="ft-info-val">₹400 – ₹500</div></div>
      </div>
      <div class="ft-section-lbl">FAMILY MEMBERS</div>
      <div class="ft-member-row"><span class="ft-mem-name">👨 Self</span><div class="ft-counter"><div class="ft-cnt-btn" onclick="ftChange('self',-1)">−</div><div class="ft-cnt-val" id="ft-self">1</div><div class="ft-cnt-btn" onclick="ftChange('self',1)">+</div></div></div>
      <div class="ft-member-row"><span class="ft-mem-name">👩 Spouse</span><div class="ft-counter"><div class="ft-cnt-btn" onclick="ftChange('spouse',-1)">−</div><div class="ft-cnt-val" id="ft-spouse">0</div><div class="ft-cnt-btn" onclick="ftChange('spouse',1)">+</div></div></div>
      <div class="ft-member-row"><span class="ft-mem-name">👶 Children</span><div class="ft-counter"><div class="ft-cnt-btn" onclick="ftChange('child',-1)">−</div><div class="ft-cnt-val" id="ft-child">0</div><div class="ft-cnt-btn" onclick="ftChange('child',1)">+</div></div></div>
      <div class="ft-member-row"><span class="ft-mem-name">👴 Parents/Dependants</span><div class="ft-counter"><div class="ft-cnt-btn" onclick="ftChange('dep',-1)">−</div><div class="ft-cnt-val" id="ft-dep">0</div><div class="ft-cnt-btn" onclick="ftChange('dep',1)">+</div></div></div>
      <div class="ft-rate-row">
        <div class="ft-rate-lbl">Rate per person:</div>
        <div class="ft-rate-btns">
          <div class="ft-rbtn on" id="ft-r1" onclick="ftSetRate(75)">₹75 (Wheat)</div>
          <div class="ft-rbtn" id="ft-r2" onclick="ftSetRate(450)">₹450 (Dates)</div>
          <div class="ft-rbtn" id="ft-r3" onclick="ftSetRate(0)">Custom</div>
        </div>
      </div>
      <div id="ft-custom-row" style="display:none;margin-bottom:10px">
        <input class="ft-input" id="ft-custom" type="number" placeholder="Enter amount per person ₹" oninput="ftCalc()">
      </div>
      <div class="ft-result">
        <div class="ft-res-lbl">✦ TOTAL FITRANA DUE ✦</div>
        <div class="ft-res-val"><span class="ft-rs">₹</span><span id="ft-total">75</span></div>
        <div class="ft-res-sub" id="ft-breakdown">1 person × ₹75 = ₹75</div>
        <div class="ft-res-note">Pay before Eid ul-Fitr prayer · 20 March 2026</div>
      </div>
    </div>
  </div>

  <!-- ── QIBLA COMPASS ── -->
  <div id="tool-qb" class="tool-panel" style="display:none">
    <div class="sec-hdr" style="padding-top:18px">🧭 QIBLA DIRECTION</div>
    <div class="qibla-wrap">
      <div class="qibla-info">
        <div class="qibla-city-row">
          <div class="qb-city-lbl">📍 YOUR CITY</div>
          <div class="qb-city-val" id="qb-city">PUNE</div>
        </div>
        <div class="qibla-city-row">
          <div class="qb-city-lbl">🕋 QIBLA BEARING</div>
          <div class="qb-city-val gold" id="qb-bearing">285°</div>
        </div>
        <div class="qibla-city-row">
          <div class="qb-city-lbl">📐 DISTANCE TO MAKKAH</div>
          <div class="qb-city-val" id="qb-dist">4,135 km</div>
        </div>
      </div>

      <div class="compass-outer" id="compass-outer" onclick="(function(){window._dbgTaps=(window._dbgTaps||0)+1;if(window._dbgTaps%3===0){var d=document.getElementById('qb-debug');if(d)d.style.display=d.style.display==='none'?'block':'none';}})()">
        <!-- Rose rotates to keep N pointing real North -->
        <div class="compass-rose" id="compass-rose">
          <div class="compass-dir n">N</div>
          <div class="compass-dir e">E</div>
          <div class="compass-dir s">S</div>
          <div class="compass-dir w">W</div>
          <div class="compass-ring"></div>
          <div class="compass-center"></div>
        </div>
        <!-- Needle is OUTSIDE rose, overlaid - rotates independently to Qibla -->
        <div class="compass-needle" id="compass-needle">
          <div class="needle-kaaba">🕋</div>
          <div class="needle-shaft north"></div>
          <div class="needle-shaft south"></div>
        </div>
      </div>

      <div id="qb-debug" style="display:none;font-family:monospace;font-size:10px;color:#aaa;padding:4px 8px;background:rgba(0,0,0,.6);border-radius:6px;margin:0 14px 6px;text-align:center;word-break:break-all"></div>
    <div class="qibla-status">
        <div class="qb-status-txt" id="qb-status-txt">🔄 Detecting your location...</div>
        <button id="qb-enable-btn" onclick="requestIOSCompass()" style="display:none;margin:10px auto 0;padding:10px 24px;background:linear-gradient(135deg,#c9a84c,#f0d080);border:none;border-radius:20px;font-family:'Cinzel',serif;font-size:11px;font-weight:700;letter-spacing:1.5px;color:#040a14;cursor:pointer;box-shadow:0 4px 14px rgba(201,168,76,.3)">📱 ENABLE LIVE COMPASS</button>
      </div>

      <div class="qibla-cities-note">
        <div class="qb-note-hdr">✦ QIBLA FROM MAJOR CITIES ✦</div>
        <div class="qb-cities-grid">
          <div class="qb-city-row2"><span>PUNE</span><span class="qbc-deg">285°</span><span class="qbc-km">4,135 km</span></div>
          <div class="qb-city-row2"><span>MUMBAI</span><span class="qbc-deg">287°</span><span class="qbc-km">4,161 km</span></div>
          <div class="qb-city-row2"><span>DELHI</span><span class="qbc-deg">277°</span><span class="qbc-km">3,829 km</span></div>
          <div class="qb-city-row2"><span>HYDERABAD</span><span class="qbc-deg">282°</span><span class="qbc-km">4,048 km</span></div>
          <div class="qb-city-row2"><span>LUCKNOW</span><span class="qbc-deg">278°</span><span class="qbc-km">3,700 km</span></div>
          <div class="qb-city-row2"><span>BANGALORE</span><span class="qbc-deg">283°</span><span class="qbc-km">4,210 km</span></div>
          <div class="qb-city-row2"><span>CHENNAI</span><span class="qbc-deg">284°</span><span class="qbc-km">4,331 km</span></div>
          <div class="qb-city-row2"><span>KOLKATA</span><span class="qbc-deg">270°</span><span class="qbc-km">3,818 km</span></div>
        </div>
      </div>

      <div class="qb-compass-note">
        <div>Direction of the Holy Kaaba in Makkah al-Mukarramah</div>
        <div style="color:var(--gold);margin-top:4px">📱 Allow location & motion for live compass</div>
      </div>
    </div>
  </div>

</div>


</div>


<!-- SCHEDULE -->
<div class="sec" id="sec-sched">
  <div class="sec-hdr">✦ FULL RAMADAN SCHEDULE ✦</div>
  <div style="padding:0 14px;margin-bottom:10px">
    <div class="city-sw" id="sc-sw"></div>
    <div style="font-family:'Cinzel',serif;font-size:12.5px;letter-spacing:2px;color:var(--gold);text-align:center;margin-top:6px">📍 <span id="sc-city">PUNE</span></div>
  </div>
  <div class="sched-wrap">
    <div class="sched-hdr"><div class="sh">DATE</div><div class="sh">DAY</div><div class="sh">ROZA</div><div class="sh">SEHRI</div><div class="sh">IFTAR</div><div class="sh">LEFT</div></div>
    <div class="sched-body" id="sched-body"></div>
  </div>
  <div class="sec-hdr" style="margin-top:8px">✦ SPECIAL NIGHTS ✦</div>
  <div class="nights">
    <div class="ncard"><div><div class="n-name">Nisf ul Ramadan – 15th Night</div><div class="n-desc">Midpoint of the blessed month</div><div class="n-date">4 March 2026</div></div><div class="nbadge" id="nb-15">UPCOMING</div></div>
    <div class="ncard qadr"><div><div class="n-name">⭐ 21st Night</div><div class="n-desc">Seek Laylatul Qadr on odd nights</div><div class="n-date">10 March 2026</div></div><div class="nbadge" id="nb-21">UPCOMING</div></div>
    <div class="ncard qadr"><div><div class="n-name">⭐ 23rd Night</div><div class="n-desc">Better than a thousand months</div><div class="n-date">12 March 2026</div></div><div class="nbadge" id="nb-23">UPCOMING</div></div>
    <div class="ncard qadr"><div><div class="n-name">⭐ 25th Night</div><div class="n-desc">Angels descend with blessings</div><div class="n-date">14 March 2026</div></div><div class="nbadge" id="nb-25">UPCOMING</div></div>
    <div class="ncard qadr"><div><div class="n-name">⭐ 27th Night – Most Likely</div><div class="n-desc">Most scholars consider this night</div><div class="n-date">16 March 2026</div></div><div class="nbadge" id="nb-27">UPCOMING</div></div>
    <div class="ncard qadr"><div><div class="n-name">⭐ 29th Night – Last Chance</div><div class="n-desc">Last odd night of Ramadan</div><div class="n-date">18 March 2026</div></div><div class="nbadge" id="nb-29">UPCOMING</div></div>
  </div>
</div>

<!-- DUAS -->
<div class="sec" id="sec-duas">
  <div class="sec-hdr" style="padding-top:18px">🤲 DUA COLLECTION</div>

  <!-- Dua Category Pills -->
  <div class="dua-pills" id="dua-pills">
    <div class="dpill on" id="dp-ashra" onclick="showDuaCat('ashra')">✦ 3 Ashra</div>
    <div class="dpill" id="dp-daily" onclick="showDuaCat('daily')">🌙 Daily</div>
    <div class="dpill" id="dp-prayer" onclick="showDuaCat('prayer')">🕌 Prayer</div>
    <div class="dpill" id="dp-ramadan" onclick="showDuaCat('ramadan')">🌟 Ramadan</div>
    <div class="dpill" id="dp-life" onclick="showDuaCat('life')">💫 Life</div>
    <div class="dpill" id="dp-parents" onclick="showDuaCat('parents')">💜 Parents</div>
    <div class="dpill" id="dp-names" onclick="showDuaCat('names')">✨ 99 Names</div>
  </div>

  <!-- ── ASHRA DUAS ── -->
  <div class="dua-cat" id="dcat-ashra">
    <div class="ashra-banner a1">
      <div class="ashra-num">1ST</div>
      <div class="ashra-info"><div class="ashra-title">RAHMAH · MERCY</div><div class="ashra-days">Days 1 – 10</div></div>
    </div>
    <div class="dua-card2">
      <div class="dc2-lbl">🌿 DUA OF THE FIRST ASHRA</div>
      <div class="dc2-ar">يَا حَيُّ يَا قَيُّومُ بِرَحْمَتِكَ أَسْتَغِيثُ</div>
      <div class="dc2-tr">Ya Hayyu Ya Qayyumu bi rahmatika astagheeth</div>
      <div class="dc2-me">"O Living, O Self-Sustaining One, I seek help through Your mercy."</div>
      <div class="dc2-src">— Sahih: Tirmidhi 3524</div>
    </div>
    <div class="ashra-banner a2" style="margin-top:12px">
      <div class="ashra-num">2ND</div>
      <div class="ashra-info"><div class="ashra-title">MAGHFIRAH · FORGIVENESS</div><div class="ashra-days">Days 11 – 20</div></div>
    </div>
    <div class="dua-card2">
      <div class="dc2-lbl">🔥 DUA OF THE SECOND ASHRA</div>
      <div class="dc2-ar">أَسْتَغْفِرُ اللَّهَ رَبِّي مِنْ كُلِّ ذَنْبٍ وَأَتُوبُ إِلَيْهِ</div>
      <div class="dc2-tr">Astaghfiru Allaha Rabbi min kulli zambin wa atubu ilayh</div>
      <div class="dc2-me">"I seek forgiveness of Allah, my Lord, from every sin and I repent to Him."</div>
      <div class="dc2-src">— Authenticated Hadith</div>
    </div>
    <div class="ashra-banner a3" style="margin-top:12px">
      <div class="ashra-num">3RD</div>
      <div class="ashra-info"><div class="ashra-title">NIJAT · SALVATION</div><div class="ashra-days">Days 21 – 30</div></div>
    </div>
    <div class="dua-card2">
      <div class="dc2-lbl">🛡️ DUA OF THE THIRD ASHRA</div>
      <div class="dc2-ar">اللَّهُمَّ أَجِرْنِي مِنَ النَّارِ</div>
      <div class="dc2-tr">Allahumma ajirni minan-nar</div>
      <div class="dc2-me">"O Allah, save me from the Fire."</div>
      <div class="dc2-src">— Authenticated Hadith</div>
    </div>
  </div>

  <!-- ── DAILY DUAS ── -->
  <div class="dua-cat" id="dcat-daily" style="display:none">
    <div class="dua-card2">
      <div class="dc2-lbl">🌙 SEHRI NIYYAH</div>
      <div class="dc2-ar">وَبِصَوْمِ غَدٍ نَّوَيْتُ مِنْ شَهْرِ رَمَضَانَ</div>
      <div class="dc2-tr">Wa bisawmi ghadin nawaytu min shahri Ramadan</div>
      <div class="dc2-me">"I intend to keep the fast tomorrow in the month of Ramadan."</div>
    </div>
    <div class="dua-card2">
      <div class="dc2-lbl">☀️ IFTAR DUA</div>
      <div class="dc2-ar">اللَّهُمَّ لَكَ صُمْتُ وَعَلَى رِزْقِكَ أَفْطَرْتُ</div>
      <div class="dc2-tr">Allahumma laka sumtu wa ala rizqika aftartu</div>
      <div class="dc2-me">"O Allah, for You I have fasted and with Your provision I break my fast."</div>
      <div class="dc2-src">— Abu Dawud 2358</div>
    </div>
    <div class="dua-card2">
      <div class="dc2-lbl">🌅 DUA IN THE MORNING (SABAH)</div>
      <div class="dc2-ar">اللَّهُمَّ بِكَ أَصْبَحْنَا وَبِكَ أَمْسَيْنَا وَبِكَ نَحْيَا وَبِكَ نَمُوتُ وَإِلَيْكَ النُّشُورُ</div>
      <div class="dc2-tr">Allahumma bika asbahnaa wa bika amsaynaa wa bika nahyaa wa bika namootu wa ilaykan-nushoor</div>
      <div class="dc2-me">"O Allah, by You we enter the morning and by You we enter the evening, by You we live and by You we die, and to You is the resurrection."</div>
      <div class="dc2-src">— Abu Dawud 5068</div>
    </div>
    <div class="dua-card2">
      <div class="dc2-lbl">🌙 DUA IN THE EVENING (MASA)</div>
      <div class="dc2-ar">اللَّهُمَّ بِكَ أَمْسَيْنَا وَبِكَ أَصْبَحْنَا وَبِكَ نَحْيَا وَبِكَ نَمُوتُ وَإِلَيْكَ الْمَصِيرُ</div>
      <div class="dc2-tr">Allahumma bika amsaynaa wa bika asbahnaa wa bika nahyaa wa bika namootu wa ilaykal-maseer</div>
      <div class="dc2-me">"O Allah, by You we enter the evening and by You we enter the morning, by You we live and by You we die, and to You is the final return."</div>
      <div class="dc2-src">— Abu Dawud 5068</div>
    </div>
    <div class="dua-card2">
      <div class="dc2-lbl">😴 BEFORE SLEEPING</div>
      <div class="dc2-ar">بِاسْمِكَ اللَّهُمَّ أَمُوتُ وَأَحْيَا</div>
      <div class="dc2-tr">Bismika Allahumma amootu wa ahyaa</div>
      <div class="dc2-me">"In Your name, O Allah, I die and I live."</div>
      <div class="dc2-src">— Bukhari 6312</div>
    </div>
    <div class="dua-card2">
      <div class="dc2-lbl">🌄 WAKING UP</div>
      <div class="dc2-ar">الْحَمْدُ لِلَّهِ الَّذِي أَحْيَانَا بَعْدَ مَا أَمَاتَنَا وَإِلَيْهِ النُّشُورُ</div>
      <div class="dc2-tr">Alhamdulillahil-ladhi ahyaana ba'da ma amaatana wa ilayhin-nushoor</div>
      <div class="dc2-me">"Praise be to Allah who gave us life after causing us to die, and to Him is the resurrection."</div>
      <div class="dc2-src">— Bukhari 6312</div>
    </div>
    <div class="dua-card2">
      <div class="dc2-lbl">🍽️ BEFORE EATING</div>
      <div class="dc2-ar">بِسْمِ اللَّهِ وَعَلَى بَرَكَةِ اللَّهِ</div>
      <div class="dc2-tr">Bismillahi wa ala barakatillah</div>
      <div class="dc2-me">"In the name of Allah and with the blessings of Allah."</div>
      <div class="dc2-src">— Abu Dawud 3767</div>
    </div>
    <div class="dua-card2">
      <div class="dc2-lbl">🚪 LEAVING HOME</div>
      <div class="dc2-ar">بِسْمِ اللَّهِ تَوَكَّلْتُ عَلَى اللَّهِ وَلَا حَوْلَ وَلَا قُوَّةَ إِلَّا بِاللَّهِ</div>
      <div class="dc2-tr">Bismillahi tawakkaltu 'alallahi wa la hawla wa la quwwata illa billah</div>
      <div class="dc2-me">"In the name of Allah, I place my trust in Allah, and there is no power or strength except with Allah."</div>
      <div class="dc2-src">— Abu Dawud 5095</div>
    </div>
  </div>

  <!-- ── PRAYER DUAS ── -->
  <div class="dua-cat" id="dcat-prayer" style="display:none">
    <div class="dua-card2 tw-style">
      <div class="dc2-lbl">⭐ TARAWEEH DUA (AFTER EVERY 4 RAKATS)</div>
      <div class="dc2-ar">سُبْحَانَ ذِي الْمُلْكِ وَالْمَلَكُوتِ سُبْحَانَ ذِي الْعِزَّةِ وَالْعَظَمَةِ وَالْهَيْبَةِ وَالْقُدْرَةِ وَالْكِبْرِيَاءِ وَالْجَبَرُوتِ سُبْحَانَ الْمَلِكِ الْحَيِّ الَّذِي لَا يَنَامُ وَلَا يَمُوتُ</div>
      <div class="dc2-tr">Subhana Dhil Mulki wal Malakut, Subhana Dhil Izzati wal Azhamati wal Haibati wal Qudrati wal Kibriya'i wal Jabarut. Subhanal Malikil Hayyil Ladhi la yanamu wa la yamut.</div>
      <div class="dc2-me">"Glory be to the Owner of kingdoms and dominions. Glory be to the Owner of might, greatness, awe, power, pride and grandeur. Glory be to the Eternal Living King who neither sleeps nor dies."</div>
    </div>
    <div class="dua-card2">
      <div class="dc2-lbl">🕌 ENTERING MOSQUE</div>
      <div class="dc2-ar">اللَّهُمَّ افْتَحْ لِي أَبْوَابَ رَحْمَتِكَ</div>
      <div class="dc2-tr">Allahummaf-tah li abwaba rahmatik</div>
      <div class="dc2-me">"O Allah, open the gates of Your mercy for me."</div>
      <div class="dc2-src">— Muslim 713</div>
    </div>
    <div class="dua-card2">
      <div class="dc2-lbl">🚶 LEAVING MOSQUE</div>
      <div class="dc2-ar">اللَّهُمَّ إِنِّي أَسْأَلُكَ مِنْ فَضْلِكَ</div>
      <div class="dc2-tr">Allahumma inni as'aluka min fadlik</div>
      <div class="dc2-me">"O Allah, I ask You of Your bounty."</div>
      <div class="dc2-src">— Muslim 713</div>
    </div>
    <div class="dua-card2">
      <div class="dc2-lbl">📿 SAYYIDUL ISTIGHFAR</div>
      <div class="dc2-ar">اللَّهُمَّ أَنْتَ رَبِّي لَا إِلَهَ إِلَّا أَنتَ خَلَقْتَنِي وَأَنَا عَبْدُكَ وَأَنَا عَلَى عَهْدِكَ وَوَعْدِكَ مَا اسْتَطَعْتُ أَعُوذُ بِكَ مِنْ شَرِّ مَا صَنَعْتُ</div>
      <div class="dc2-tr">Allahumma anta Rabbi la ilaha illa anta, Khalaqtani wa ana abduka, wa ana ala ahdika wa wa'dika mastata'tu, a'udhu bika min sharri ma sana'tu</div>
      <div class="dc2-me">"O Allah, You are my Lord. None has the right to be worshipped but You. You created me and I am Your servant, and I abide by Your covenant and promise as best I can. I seek refuge in You from the evil of what I have done."</div>
      <div class="dc2-src">— Bukhari 6306</div>
    </div>
    <div class="dua-card2">
      <div class="dc2-lbl">🙏 AFTER SALAH (TASBEEH)</div>
      <div class="dc2-ar">سُبْحَانَ اللَّهِ × ٣٣ · الْحَمْدُ لِلَّهِ × ٣٣ · اللَّهُ أَكْبَرُ × ٣٣</div>
      <div class="dc2-tr">Subhanallah × 33 · Alhamdulillah × 33 · Allahu Akbar × 33</div>
      <div class="dc2-me">"Glory be to Allah (33×), Praise be to Allah (33×), Allah is the Greatest (33×) — completing to 100 with: La ilaha illallahu wahdahu la sharika lahu, lahul mulku wa lahul hamdu, wa huwa ala kulli shay'in qadir."</div>
      <div class="dc2-src">— Muslim 597</div>
    </div>
    <div class="dua-card2">
      <div class="dc2-lbl">📖 DUA BEFORE QURAN RECITATION</div>
      <div class="dc2-ar">أَعُوذُ بِاللَّهِ مِنَ الشَّيْطَانِ الرَّجِيمِ</div>
      <div class="dc2-tr">A'udhu billahi minash-shaytanir rajeem</div>
      <div class="dc2-me">"I seek refuge with Allah from the accursed Shaytan."</div>
      <div class="dc2-src">— Quran 16:98</div>
    </div>
  </div>

  <!-- ── RAMADAN DUAS ── -->
  <div class="dua-cat" id="dcat-ramadan" style="display:none">
    <div class="dua-card2 qadr-style">
      <div class="dc2-lbl">⭐ LAYLATUL QADR DUA</div>
      <div class="dc2-ar">اللَّهُمَّ إِنَّكَ عَفُوٌّ تُحِبُّ الْعَفْوَ فَاعْفُ عَنِّي</div>
      <div class="dc2-tr">Allahumma innaka afuwwun tuhibbul afwa fa'fu anni</div>
      <div class="dc2-me">"O Allah, You are Forgiving and You love forgiveness, so forgive me."</div>
      <div class="dc2-src">— Tirmidhi 3513 · Sahih</div>
    </div>
    <div class="dua-card2">
      <div class="dc2-lbl">🌙 DUA TO SEE RAMADAN</div>
      <div class="dc2-ar">اللَّهُمَّ بَلِّغْنَا رَمَضَانَ وَتَقَبَّلْ مِنَّا صِيَامَنَا وَقِيَامَنَا</div>
      <div class="dc2-tr">Allahumma ballighna Ramadana wa taqabbal minna siyamana wa qiyamana</div>
      <div class="dc2-me">"O Allah, let us reach Ramadan and accept our fasting and our night prayers."</div>
    </div>
    <div class="dua-card2">
      <div class="dc2-lbl">🤲 ACCEPTANCE OF DEEDS</div>
      <div class="dc2-ar">رَبَّنَا تَقَبَّلْ مِنَّا إِنَّكَ أَنتَ السَّمِيعُ الْعَلِيمُ</div>
      <div class="dc2-tr">Rabbana taqabbal minna innaka antas-sami'ul 'aleem</div>
      <div class="dc2-me">"Our Lord, accept from us. Indeed, You are the Hearing, the Knowing."</div>
      <div class="dc2-src">— Quran 2:127</div>
    </div>
    <div class="dua-card2">
      <div class="dc2-lbl">💎 DUA FOR JANNAH</div>
      <div class="dc2-ar">اللَّهُمَّ إِنِّي أَسْأَلُكَ الْجَنَّةَ وَأَعُوذُ بِكَ مِنَ النَّارِ</div>
      <div class="dc2-tr">Allahumma inni as'alukal-jannata wa a'udhu bika minan-nar</div>
      <div class="dc2-me">"O Allah, I ask You for Paradise and I seek refuge with You from the Fire."</div>
      <div class="dc2-src">— Abu Dawud 792</div>
    </div>
    <div class="dua-card2">
      <div class="dc2-lbl">🌟 DUA FOR TAQWA</div>
      <div class="dc2-ar">اللَّهُمَّ آتِ نَفْسِي تَقْوَاهَا وَزَكِّهَا أَنتَ خَيْرُ مَن زَكَّاهَا</div>
      <div class="dc2-tr">Allahumma ati nafsi taqwaha wa zakkiha anta khayru man zakkaha</div>
      <div class="dc2-me">"O Allah, grant my soul its piety and purify it, for You are the best of those who purify it."</div>
      <div class="dc2-src">— Muslim 2722</div>
    </div>
    <div class="dua-card2">
      <div class="dc2-lbl">🤲 ENDING RAMADAN</div>
      <div class="dc2-ar">اللَّهُمَّ تَقَبَّلْ مِنَّا صِيَامَنَا وَقِيَامَنَا وَرُكُوعَنَا وَسُجُودَنَا</div>
      <div class="dc2-tr">Allahumma taqabbal minna siyamana wa qiyamana wa ruku'ana wa sujoodana</div>
      <div class="dc2-me">"O Allah, accept from us our fasting, our night prayers, our bowing, and our prostrations."</div>
    </div>
  </div>

  <!-- ── LIFE DUAS ── -->
  <div class="dua-cat" id="dcat-life" style="display:none">
    <div class="dua-card2">
      <div class="dc2-lbl">😰 DUA IN DISTRESS</div>
      <div class="dc2-ar">لَا إِلَهَ إِلَّا أَنتَ سُبْحَانَكَ إِنِّي كُنتُ مِنَ الظَّالِمِينَ</div>
      <div class="dc2-tr">La ilaha illa anta subhanaka inni kuntu minadh-dhalimeen</div>
      <div class="dc2-me">"There is no god but You, glorified be You. Truly I have been of the wrongdoers." (Dua of Prophet Yunus AS)</div>
      <div class="dc2-src">— Quran 21:87 · Tirmidhi 3505</div>
    </div>
    <div class="dua-card2">
      <div class="dc2-lbl">💚 DUA FOR HEALTH</div>
      <div class="dc2-ar">اللَّهُمَّ عَافِنِي فِي بَدَنِي اللَّهُمَّ عَافِنِي فِي سَمْعِي اللَّهُمَّ عَافِنِي فِي بَصَرِي</div>
      <div class="dc2-tr">Allahumma 'afini fi badani, Allahumma 'afini fi sam'i, Allahumma 'afini fi basari</div>
      <div class="dc2-me">"O Allah, grant health to my body. O Allah, grant health to my hearing. O Allah, grant health to my eyesight."</div>
      <div class="dc2-src">— Abu Dawud 5090</div>
    </div>
    <div class="dua-card2">
      <div class="dc2-lbl">💰 DUA FOR RIZQ (PROVISION)</div>
      <div class="dc2-ar">اللَّهُمَّ اكْفِنِي بِحَلَالِكَ عَنْ حَرَامِكَ وَأَغْنِنِي بِفَضْلِكَ عَمَّن سِوَاكَ</div>
      <div class="dc2-tr">Allahummak-fini bihalalika 'an haramika wa aghnini bifadlika 'amman siwak</div>
      <div class="dc2-me">"O Allah, suffice me with what You have made lawful so I have no need of what You have made unlawful, and make me independent of all others through Your bounty."</div>
      <div class="dc2-src">— Tirmidhi 3563</div>
    </div>
    <div class="dua-card2">
      <div class="dc2-lbl">🧠 DUA FOR KNOWLEDGE</div>
      <div class="dc2-ar">رَبِّ زِدْنِي عِلْمًا</div>
      <div class="dc2-tr">Rabbi zidni 'ilma</div>
      <div class="dc2-me">"My Lord, increase me in knowledge."</div>
      <div class="dc2-src">— Quran 20:114</div>
    </div>
    <div class="dua-card2">
      <div class="dc2-lbl">😟 DUA FOR ANXIETY & GRIEF</div>
      <div class="dc2-ar">اللَّهُمَّ إِنِّي أَعُوذُ بِكَ مِنَ الْهَمِّ وَالْحَزَنِ وَالْعَجْزِ وَالْكَسَلِ</div>
      <div class="dc2-tr">Allahumma inni a'udhu bika minal-hammi wal-hazani wal-'ajzi wal-kasali</div>
      <div class="dc2-me">"O Allah, I seek refuge in You from worry and grief, from incapacity and laziness."</div>
      <div class="dc2-src">— Bukhari 2893</div>
    </div>
    <div class="dua-card2">
      <div class="dc2-lbl">🌈 DUA FOR GUIDANCE</div>
      <div class="dc2-ar">اللَّهُمَّ اهْدِنِي وَسَدِّدْنِي</div>
      <div class="dc2-tr">Allahumma-hdini wa saddidni</div>
      <div class="dc2-me">"O Allah, guide me and keep me on the straight path."</div>
      <div class="dc2-src">— Muslim 2725</div>
    </div>
    <div class="dua-card2">
      <div class="dc2-lbl">🔒 DUA FOR PROTECTION (MORNING)</div>
      <div class="dc2-ar">بِسْمِ اللَّهِ الَّذِي لَا يَضُرُّ مَعَ اسْمِهِ شَيْءٌ فِي الْأَرْضِ وَلَا فِي السَّمَاءِ وَهُوَ السَّمِيعُ الْعَلِيمُ</div>
      <div class="dc2-tr">Bismillahil-ladhi la yadurru ma'asmihi shay'un fil-ardi wa la fis-sama'i wa huwas-sami'ul-'aleem</div>
      <div class="dc2-me">"In the name of Allah with whose name nothing can cause harm in the earth or the heavens, and He is the All-Hearing, the All-Knowing."</div>
      <div class="dc2-src">— Abu Dawud 5088 · Sahih</div>
    </div>
  </div>

  <!-- ── PARENTS DUAS ── -->
  <div class="dua-cat" id="dcat-parents" style="display:none">
    <div class="dua-card2 parents-style">
      <div class="dc2-lbl">💜 DUA FOR DECEASED PARENTS</div>
      <div class="dc2-ar">رَبِّ اغْفِرْ لِي وَلِوَالِدَيَّ وَارْحَمْهُمَا كَمَا رَبَّيَانِي صَغِيرًا</div>
      <div class="dc2-tr">Rabbi ghfir li wa li waalidayya warhamhuma kama rabbayaani saghira</div>
      <div class="dc2-me">"My Lord, forgive me and my parents and have mercy upon them as they brought me up when I was small."</div>
      <div class="dc2-src">— Quran 17:24</div>
    </div>
    <div class="dua-card2 parents-style">
      <div class="dc2-lbl">💜 DUA FOR A MOTHER'S SOUL</div>
      <div class="dc2-ar">اللَّهُمَّ اغْفِرْ لَهَا وَارْحَمْهَا وَعَافِهَا وَاعْفُ عَنْهَا وَأَكْرِمْ نُزُلَهَا وَنَوِّرْ قَبْرَهَا وَأَدْخِلْهَا الْجَنَّةَ الْفِرْدَوْسَ</div>
      <div class="dc2-tr">Allahumma-ghfir laha warhamha wa 'afiha wa'fu 'anha wa akrim nuzulaha wa nawwir qabraha wa adkhilhal-jannatil-firdaws</div>
      <div class="dc2-me">"O Allah, forgive her, have mercy on her, grant her wellbeing, pardon her, honour her resting place, illuminate her grave, and enter her into Jannatul Firdaus."</div>
      <div class="dc2-src">— From Salat ul Janazah</div>
    </div>
    <div class="dua-card2 parents-style">
      <div class="dc2-lbl">🤲 DUA FOR LIVING PARENTS</div>
      <div class="dc2-ar">رَبِّ ارْحَمْهُمَا كَمَا رَبَّيَانِي صَغِيرًا</div>
      <div class="dc2-tr">Rabbi irhamhuma kama rabbayaani saghira</div>
      <div class="dc2-me">"My Lord, have mercy on them as they raised me when I was young."</div>
      <div class="dc2-src">— Quran 17:24</div>
    </div>
    <div class="dua-card2 parents-style">
      <div class="dc2-lbl">💫 DUA FOR FORGIVENESS OF PARENTS</div>
      <div class="dc2-ar">رَبَّنَا اغْفِرْ لِي وَلِوَالِدَيَّ وَلِلْمُؤْمِنِينَ يَوْمَ يَقُومُ الْحِسَابُ</div>
      <div class="dc2-tr">Rabbana-ghfir li wa li waalidayya wa lil-mu'mineena yawma yaqoomul-hisaab</div>
      <div class="dc2-me">"Our Lord, forgive me and my parents and the believers on the Day when the account is established."</div>
      <div class="dc2-src">— Quran 14:41</div>
    </div>
    <div class="dua-card2 parents-style">
      <div class="dc2-lbl">💖 DUA FOR SADQA-E-JARIYA</div>
      <div class="dc2-ar">اللَّهُمَّ اجْعَلْ عَمَلِي صَالِحًا وَاجْعَلْهُ خَالِصًا لِوَجْهِكَ وَلَا تَجْعَلْ لِأَحَدٍ فِيهِ شَيْئًا</div>
      <div class="dc2-tr">Allahumma-j'al 'amali salihan waj-'alhu khalisatan li-wajhika wa la taj-'al li-ahadin fihi shay'a</div>
      <div class="dc2-me">"O Allah, make my deeds righteous and make them purely for Your sake, and do not make anyone else have a share in them."</div>
      <div class="dc2-src">— Authenticated</div>
    </div>
  </div>


  <!-- ── 99 NAMES OF ALLAH ── -->
  <div class="dua-cat" id="dcat-names" style="display:none">
    <div class="names-intro">
      <div class="names-intro-ar">وَلِلَّهِ الْأَسْمَاءُ الْحُسْنَىٰ فَادْعُوهُ بِهَا</div>
      <div class="names-intro-tr">"And to Allah belong the most beautiful names, so call upon Him by them."</div>
      <div class="names-intro-ref">— Quran 7:180</div>
      <div style="font-family:'Cinzel',serif;font-size:11px;letter-spacing:2px;color:rgba(201,168,76,.55);margin-top:8px">✦ 99 NAMES · ASMA UL HUSNA ✦</div>
    </div>
    <div class="names-grid">
      <div class="name-card"><div class="nc-num">01</div><div class="nc-ar">اللَّه</div><div class="nc-en">ALLAH</div><div class="nc-me">The One God, the Supreme Being</div></div>
      <div class="name-card"><div class="nc-num">02</div><div class="nc-ar">الرَّحْمَٰن</div><div class="nc-en">AR-RAHMAN</div><div class="nc-me">The Most Gracious — merciful to all</div></div>
      <div class="name-card"><div class="nc-num">03</div><div class="nc-ar">الرَّحِيم</div><div class="nc-en">AR-RAHEEM</div><div class="nc-me">The Most Merciful — to believers</div></div>
      <div class="name-card"><div class="nc-num">04</div><div class="nc-ar">الْمَلِك</div><div class="nc-en">AL-MALIK</div><div class="nc-me">The King — of all creation</div></div>
      <div class="name-card"><div class="nc-num">05</div><div class="nc-ar">الْقُدُّوس</div><div class="nc-en">AL-QUDDUS</div><div class="nc-me">The Most Holy — pure and perfect</div></div>
      <div class="name-card"><div class="nc-num">06</div><div class="nc-ar">السَّلَام</div><div class="nc-en">AS-SALAM</div><div class="nc-me">The Source of Peace — perfection</div></div>
      <div class="name-card"><div class="nc-num">07</div><div class="nc-ar">الْمُؤْمِن</div><div class="nc-en">AL-MU'MIN</div><div class="nc-me">The Guardian of Faith — grants security</div></div>
      <div class="name-card"><div class="nc-num">08</div><div class="nc-ar">الْمُهَيْمِن</div><div class="nc-en">AL-MUHAYMIN</div><div class="nc-me">The Protector — watches over all</div></div>
      <div class="name-card"><div class="nc-num">09</div><div class="nc-ar">الْعَزِيز</div><div class="nc-en">AL-AZIZ</div><div class="nc-me">The Almighty — undefeatable</div></div>
      <div class="name-card"><div class="nc-num">10</div><div class="nc-ar">الْجَبَّار</div><div class="nc-en">AL-JABBAR</div><div class="nc-me">The Compeller — restores all things</div></div>
      <div class="name-card"><div class="nc-num">11</div><div class="nc-ar">الْمُتَكَبِّر</div><div class="nc-en">AL-MUTAKABBIR</div><div class="nc-me">The Greatest — supreme in majesty</div></div>
      <div class="name-card"><div class="nc-num">12</div><div class="nc-ar">الْخَالِق</div><div class="nc-en">AL-KHALIQ</div><div class="nc-me">The Creator — brings from nothing</div></div>
      <div class="name-card"><div class="nc-num">13</div><div class="nc-ar">الْبَارِئ</div><div class="nc-en">AL-BARI'</div><div class="nc-me">The Originator — creates with balance</div></div>
      <div class="name-card"><div class="nc-num">14</div><div class="nc-ar">الْمُصَوِّر</div><div class="nc-en">AL-MUSAWWIR</div><div class="nc-me">The Fashioner — shapes all forms</div></div>
      <div class="name-card"><div class="nc-num">15</div><div class="nc-ar">الْغَفَّار</div><div class="nc-en">AL-GHAFFAR</div><div class="nc-me">The Forgiving — forgives repeatedly</div></div>
      <div class="name-card"><div class="nc-num">16</div><div class="nc-ar">الْقَهَّار</div><div class="nc-en">AL-QAHHAR</div><div class="nc-me">The Subduer — dominates everything</div></div>
      <div class="name-card"><div class="nc-num">17</div><div class="nc-ar">الْوَهَّاب</div><div class="nc-en">AL-WAHHAB</div><div class="nc-me">The Bestower — gives freely</div></div>
      <div class="name-card"><div class="nc-num">18</div><div class="nc-ar">الرَّزَّاق</div><div class="nc-en">AR-RAZZAQ</div><div class="nc-me">The Provider — sustains all creation</div></div>
      <div class="name-card"><div class="nc-num">19</div><div class="nc-ar">الْفَتَّاح</div><div class="nc-en">AL-FATTAH</div><div class="nc-me">The Opener — opens all closed doors</div></div>
      <div class="name-card"><div class="nc-num">20</div><div class="nc-ar">الْعَلِيم</div><div class="nc-en">AL-ALIM</div><div class="nc-me">The All-Knowing — knows everything</div></div>
      <div class="name-card"><div class="nc-num">21</div><div class="nc-ar">الْقَابِض</div><div class="nc-en">AL-QABID</div><div class="nc-me">The Withholder — takes away wisely</div></div>
      <div class="name-card"><div class="nc-num">22</div><div class="nc-ar">الْبَاسِط</div><div class="nc-en">AL-BASIT</div><div class="nc-me">The Extender — gives in abundance</div></div>
      <div class="name-card"><div class="nc-num">23</div><div class="nc-ar">الْخَافِض</div><div class="nc-en">AL-KHAFID</div><div class="nc-me">The Abaser — humbles the arrogant</div></div>
      <div class="name-card"><div class="nc-num">24</div><div class="nc-ar">الرَّافِع</div><div class="nc-en">AR-RAFI'</div><div class="nc-me">The Exalter — raises the righteous</div></div>
      <div class="name-card"><div class="nc-num">25</div><div class="nc-ar">الْمُعِزّ</div><div class="nc-en">AL-MU'IZZ</div><div class="nc-me">The Honourer — grants dignity</div></div>
      <div class="name-card"><div class="nc-num">26</div><div class="nc-ar">الْمُذِلّ</div><div class="nc-en">AL-MUDHILL</div><div class="nc-me">The Humiliator — disgraces the wicked</div></div>
      <div class="name-card"><div class="nc-num">27</div><div class="nc-ar">السَّمِيع</div><div class="nc-en">AS-SAMI'</div><div class="nc-me">The All-Hearing — hears every word</div></div>
      <div class="name-card"><div class="nc-num">28</div><div class="nc-ar">الْبَصِير</div><div class="nc-en">AL-BASIR</div><div class="nc-me">The All-Seeing — sees everything</div></div>
      <div class="name-card"><div class="nc-num">29</div><div class="nc-ar">الْحَكَم</div><div class="nc-en">AL-HAKAM</div><div class="nc-me">The Judge — ultimate arbitrator</div></div>
      <div class="name-card"><div class="nc-num">30</div><div class="nc-ar">الْعَدْل</div><div class="nc-en">AL-ADL</div><div class="nc-me">The Just — perfectly fair always</div></div>
      <div class="name-card"><div class="nc-num">31</div><div class="nc-ar">اللَّطِيف</div><div class="nc-en">AL-LATIF</div><div class="nc-me">The Subtle One — kind and gentle</div></div>
      <div class="name-card"><div class="nc-num">32</div><div class="nc-ar">الْخَبِير</div><div class="nc-en">AL-KHABIR</div><div class="nc-me">The All-Aware — knows the hidden</div></div>
      <div class="name-card"><div class="nc-num">33</div><div class="nc-ar">الْحَلِيم</div><div class="nc-en">AL-HALIM</div><div class="nc-me">The Forbearing — slow to anger</div></div>
      <div class="name-card"><div class="nc-num">34</div><div class="nc-ar">الْعَظِيم</div><div class="nc-en">AL-AZIM</div><div class="nc-me">The Magnificent — infinitely great</div></div>
      <div class="name-card"><div class="nc-num">35</div><div class="nc-ar">الْغَفُور</div><div class="nc-en">AL-GHAFUR</div><div class="nc-me">The All-Forgiving — pardons sins</div></div>
      <div class="name-card"><div class="nc-num">36</div><div class="nc-ar">الشَّكُور</div><div class="nc-en">ASH-SHAKUR</div><div class="nc-me">The Grateful — rewards small deeds</div></div>
      <div class="name-card"><div class="nc-num">37</div><div class="nc-ar">الْعَلِيّ</div><div class="nc-en">AL-ALI</div><div class="nc-me">The Most High — above everything</div></div>
      <div class="name-card"><div class="nc-num">38</div><div class="nc-ar">الْكَبِير</div><div class="nc-en">AL-KABIR</div><div class="nc-me">The Most Great — incomparably great</div></div>
      <div class="name-card"><div class="nc-num">39</div><div class="nc-ar">الْحَفِيظ</div><div class="nc-en">AL-HAFIZ</div><div class="nc-me">The Preserver — protects all things</div></div>
      <div class="name-card"><div class="nc-num">40</div><div class="nc-ar">الْمُقِيت</div><div class="nc-en">AL-MUQIT</div><div class="nc-me">The Sustainer — nourishes all creation</div></div>
      <div class="name-card"><div class="nc-num">41</div><div class="nc-ar">الْحَسِيب</div><div class="nc-en">AL-HASIB</div><div class="nc-me">The Reckoner — sufficient for account</div></div>
      <div class="name-card"><div class="nc-num">42</div><div class="nc-ar">الْجَلِيل</div><div class="nc-en">AL-JALIL</div><div class="nc-me">The Majestic — glorified and exalted</div></div>
      <div class="name-card"><div class="nc-num">43</div><div class="nc-ar">الْكَرِيم</div><div class="nc-en">AL-KARIM</div><div class="nc-me">The Generous — bestows great honour</div></div>
      <div class="name-card"><div class="nc-num">44</div><div class="nc-ar">الرَّقِيب</div><div class="nc-en">AR-RAQIB</div><div class="nc-me">The Watchful — ever-observant</div></div>
      <div class="name-card"><div class="nc-num">45</div><div class="nc-ar">الْمُجِيب</div><div class="nc-en">AL-MUJIB</div><div class="nc-me">The Responder — answers all prayers</div></div>
      <div class="name-card"><div class="nc-num">46</div><div class="nc-ar">الْوَاسِع</div><div class="nc-en">AL-WASI'</div><div class="nc-me">The Vast — unlimited in every way</div></div>
      <div class="name-card"><div class="nc-num">47</div><div class="nc-ar">الْحَكِيم</div><div class="nc-en">AL-HAKIM</div><div class="nc-me">The Wise — perfect in wisdom</div></div>
      <div class="name-card"><div class="nc-num">48</div><div class="nc-ar">الْوَدُود</div><div class="nc-en">AL-WADUD</div><div class="nc-me">The Loving — deeply loves believers</div></div>
      <div class="name-card"><div class="nc-num">49</div><div class="nc-ar">الْمَجِيد</div><div class="nc-en">AL-MAJID</div><div class="nc-me">The Glorious — noble and splendid</div></div>
      <div class="name-card"><div class="nc-num">50</div><div class="nc-ar">الْبَاعِث</div><div class="nc-en">AL-BA'ITH</div><div class="nc-me">The Resurrector — raises the dead</div></div>
      <div class="name-card"><div class="nc-num">51</div><div class="nc-ar">الشَّهِيد</div><div class="nc-en">ASH-SHAHID</div><div class="nc-me">The Witness — present everywhere</div></div>
      <div class="name-card"><div class="nc-num">52</div><div class="nc-ar">الْحَقّ</div><div class="nc-en">AL-HAQQ</div><div class="nc-me">The Truth — absolute reality</div></div>
      <div class="name-card"><div class="nc-num">53</div><div class="nc-ar">الْوَكِيل</div><div class="nc-en">AL-WAKIL</div><div class="nc-me">The Trustee — best to rely upon</div></div>
      <div class="name-card"><div class="nc-num">54</div><div class="nc-ar">الْقَوِيّ</div><div class="nc-en">AL-QAWIYY</div><div class="nc-me">The All-Strong — infinite strength</div></div>
      <div class="name-card"><div class="nc-num">55</div><div class="nc-ar">الْمَتِين</div><div class="nc-en">AL-MATIN</div><div class="nc-me">The Firm — unshakeable in power</div></div>
      <div class="name-card"><div class="nc-num">56</div><div class="nc-ar">الْوَلِيّ</div><div class="nc-en">AL-WALIYY</div><div class="nc-me">The Protector — guardian of believers</div></div>
      <div class="name-card"><div class="nc-num">57</div><div class="nc-ar">الْحَمِيد</div><div class="nc-en">AL-HAMID</div><div class="nc-me">The Praiseworthy — deserves all praise</div></div>
      <div class="name-card"><div class="nc-num">58</div><div class="nc-ar">الْمُحْصِي</div><div class="nc-en">AL-MUHSI</div><div class="nc-me">The Counter — records everything</div></div>
      <div class="name-card"><div class="nc-num">59</div><div class="nc-ar">الْمُبْدِئ</div><div class="nc-en">AL-MUBDI'</div><div class="nc-me">The Originator — creates anew</div></div>
      <div class="name-card"><div class="nc-num">60</div><div class="nc-ar">الْمُعِيد</div><div class="nc-en">AL-MUID</div><div class="nc-me">The Restorer — returns all things</div></div>
      <div class="name-card"><div class="nc-num">61</div><div class="nc-ar">الْمُحْيِي</div><div class="nc-en">AL-MUHYI</div><div class="nc-me">The Giver of Life — gives and restores</div></div>
      <div class="name-card"><div class="nc-num">62</div><div class="nc-ar">الْمُمِيت</div><div class="nc-en">AL-MUMIT</div><div class="nc-me">The Bringer of Death — by His will</div></div>
      <div class="name-card"><div class="nc-num">63</div><div class="nc-ar">الْحَيّ</div><div class="nc-en">AL-HAYY</div><div class="nc-me">The Ever-Living — never dies</div></div>
      <div class="name-card"><div class="nc-num">64</div><div class="nc-ar">الْقَيُّوم</div><div class="nc-en">AL-QAYYUM</div><div class="nc-me">The Self-Sustaining — sustains all</div></div>
      <div class="name-card"><div class="nc-num">65</div><div class="nc-ar">الْوَاجِد</div><div class="nc-en">AL-WAJID</div><div class="nc-me">The Finder — has all that is needed</div></div>
      <div class="name-card"><div class="nc-num">66</div><div class="nc-ar">الْمَاجِد</div><div class="nc-en">AL-MAJID</div><div class="nc-me">The Noble — of great honour</div></div>
      <div class="name-card"><div class="nc-num">67</div><div class="nc-ar">الْوَاحِد</div><div class="nc-en">AL-WAHID</div><div class="nc-me">The One — singular in all ways</div></div>
      <div class="name-card"><div class="nc-num">68</div><div class="nc-ar">الْأَحَد</div><div class="nc-en">AL-AHAD</div><div class="nc-me">The Unique — absolutely one</div></div>
      <div class="name-card"><div class="nc-num">69</div><div class="nc-ar">الصَّمَد</div><div class="nc-en">AS-SAMAD</div><div class="nc-me">The Eternal — all depend on Him</div></div>
      <div class="name-card"><div class="nc-num">70</div><div class="nc-ar">الْقَادِر</div><div class="nc-en">AL-QADIR</div><div class="nc-me">The All-Capable — does all things</div></div>
      <div class="name-card"><div class="nc-num">71</div><div class="nc-ar">الْمُقْتَدِر</div><div class="nc-en">AL-MUQTADIR</div><div class="nc-me">The Powerful — supreme authority</div></div>
      <div class="name-card"><div class="nc-num">72</div><div class="nc-ar">الْمُقَدِّم</div><div class="nc-en">AL-MUQADDIM</div><div class="nc-me">The Expediter — brings forward</div></div>
      <div class="name-card"><div class="nc-num">73</div><div class="nc-ar">الْمُؤَخِّر</div><div class="nc-en">AL-MU'AKHKHIR</div><div class="nc-me">The Delayer — puts things back wisely</div></div>
      <div class="name-card"><div class="nc-num">74</div><div class="nc-ar">الْأَوَّل</div><div class="nc-en">AL-AWWAL</div><div class="nc-me">The First — before all existence</div></div>
      <div class="name-card"><div class="nc-num">75</div><div class="nc-ar">الْآخِر</div><div class="nc-en">AL-AKHIR</div><div class="nc-me">The Last — after all else ends</div></div>
      <div class="name-card"><div class="nc-num">76</div><div class="nc-ar">الظَّاهِر</div><div class="nc-en">AZ-ZAHIR</div><div class="nc-me">The Manifest — evident in creation</div></div>
      <div class="name-card"><div class="nc-num">77</div><div class="nc-ar">الْبَاطِن</div><div class="nc-en">AL-BATIN</div><div class="nc-me">The Hidden — beyond comprehension</div></div>
      <div class="name-card"><div class="nc-num">78</div><div class="nc-ar">الْوَالِي</div><div class="nc-en">AL-WALI</div><div class="nc-me">The Governing One — manages all</div></div>
      <div class="name-card"><div class="nc-num">79</div><div class="nc-ar">الْمُتَعَالِ</div><div class="nc-en">AL-MUTA'ALI</div><div class="nc-me">The Self-Exalted — above all limits</div></div>
      <div class="name-card"><div class="nc-num">80</div><div class="nc-ar">الْبَرّ</div><div class="nc-en">AL-BARR</div><div class="nc-me">The Source of Goodness — kind</div></div>
      <div class="name-card"><div class="nc-num">81</div><div class="nc-ar">التَّوَّاب</div><div class="nc-en">AT-TAWWAB</div><div class="nc-me">The Acceptor of Repentance — forgives</div></div>
      <div class="name-card"><div class="nc-num">82</div><div class="nc-ar">الْمُنْتَقِم</div><div class="nc-en">AL-MUNTAQIM</div><div class="nc-me">The Avenger — punishes the unjust</div></div>
      <div class="name-card"><div class="nc-num">83</div><div class="nc-ar">الْعَفُوّ</div><div class="nc-en">AL-AFUWW</div><div class="nc-me">The Pardoner — erases sins fully</div></div>
      <div class="name-card"><div class="nc-num">84</div><div class="nc-ar">الرَّؤُوف</div><div class="nc-en">AR-RA'UF</div><div class="nc-me">The Compassionate — full of pity</div></div>
      <div class="name-card"><div class="nc-num">85</div><div class="nc-ar">مَالِكُ الْمُلْك</div><div class="nc-en">MALIK AL-MULK</div><div class="nc-me">Owner of All — controls every kingdom</div></div>
      <div class="name-card"><div class="nc-num">86</div><div class="nc-ar">ذُو الْجَلَالِ وَالْإِكْرَام</div><div class="nc-en">DHUL-JALAL WAL-IKRAM</div><div class="nc-me">Lord of Majesty and Honour</div></div>
      <div class="name-card"><div class="nc-num">87</div><div class="nc-ar">الْمُقْسِط</div><div class="nc-en">AL-MUQSIT</div><div class="nc-me">The Equitable — deals with justice</div></div>
      <div class="name-card"><div class="nc-num">88</div><div class="nc-ar">الْجَامِع</div><div class="nc-en">AL-JAMI'</div><div class="nc-me">The Gatherer — unites everything</div></div>
      <div class="name-card"><div class="nc-num">89</div><div class="nc-ar">الْغَنِيّ</div><div class="nc-en">AL-GHANI</div><div class="nc-me">The Self-Sufficient — needs nothing</div></div>
      <div class="name-card"><div class="nc-num">90</div><div class="nc-ar">الْمُغْنِي</div><div class="nc-en">AL-MUGHNI</div><div class="nc-me">The Enricher — frees from want</div></div>
      <div class="name-card"><div class="nc-num">91</div><div class="nc-ar">الْمَانِع</div><div class="nc-en">AL-MANI'</div><div class="nc-me">The Preventer — withholds from harm</div></div>
      <div class="name-card"><div class="nc-num">92</div><div class="nc-ar">الضَّارّ</div><div class="nc-en">AD-DARR</div><div class="nc-me">The Distresser — tests by hardship</div></div>
      <div class="name-card"><div class="nc-num">93</div><div class="nc-ar">النَّافِع</div><div class="nc-en">AN-NAFI'</div><div class="nc-me">The Benefactor — brings all benefit</div></div>
      <div class="name-card"><div class="nc-num">94</div><div class="nc-ar">النُّور</div><div class="nc-en">AN-NUR</div><div class="nc-me">The Light — illuminates hearts</div></div>
      <div class="name-card"><div class="nc-num">95</div><div class="nc-ar">الْهَادِي</div><div class="nc-en">AL-HADI</div><div class="nc-me">The Guide — shows the right path</div></div>
      <div class="name-card"><div class="nc-num">96</div><div class="nc-ar">الْبَدِيع</div><div class="nc-en">AL-BADI'</div><div class="nc-me">The Incomparable — unique creator</div></div>
      <div class="name-card"><div class="nc-num">97</div><div class="nc-ar">الْبَاقِي</div><div class="nc-en">AL-BAQI</div><div class="nc-me">The Everlasting — never ends</div></div>
      <div class="name-card"><div class="nc-num">98</div><div class="nc-ar">الْوَارِث</div><div class="nc-en">AL-WARITH</div><div class="nc-me">The Inheritor — possesses all after</div></div>
      <div class="name-card"><div class="nc-num">99</div><div class="nc-ar">الرَّشِيد</div><div class="nc-en">AR-RASHID</div><div class="nc-me">The Guide to Right Path</div></div>
    </div>
    <div style="text-align:center;padding:10px 0 8px;font-family:'Cinzel',serif;font-size:11px;letter-spacing:1.5px;color:rgba(201,168,76,.6)">✦ Allahummah dini wa saddidni ✦</div>
  </div>

  <div style="height:16px"></div>

</div>

<!-- SADQA -->
<div class="sec" id="sec-sadqa">
  <div class="sadqa-hero">
    <div style="font-size:40px;margin-bottom:8px">💜🤲</div>
    <div style="font-family:'Cinzel',serif;font-size:13px;letter-spacing:3px;color:var(--purple);margin-bottom:10px">✦ SADQA-E-JARIYA ✦</div>
    <div style="font-family:'Amiri',serif;font-size:22px;color:var(--goldl);direction:rtl;line-height:1.8;margin-bottom:8px">إِنَّا لِلَّهِ وَإِنَّا إِلَيْهِ رَاجِعُونَ</div>
    <div style="font-family:'EB Garamond',serif;font-size:14px;color:var(--cream);line-height:1.7">This app is dedicated as <strong style="color:var(--goldl)">Sadqa-e-Jariya</strong> for the soul of<br><em style="font-size:13px;color:rgba(200,160,220,.9);letter-spacing:2px;font-family:'Cinzel',serif">Ammi</em><br><strong style="color:var(--goldl);font-size:20px">Munira Nazir Shaikh</strong><br><em style="font-size:12.5px;color:var(--muted)">May her soul rest in Jannatul Firdaus · Ameen</em></div>
  </div>
  <div class="sadqa-dua-box">
    <div style="font-family:'Cinzel',serif;font-size:12px;letter-spacing:2px;color:var(--purple);margin-bottom:10px">✦ DUA FOR HER BLESSED SOUL ✦</div>
    <div style="font-family:'Amiri',serif;font-size:20px;color:var(--goldl);direction:rtl;line-height:2;margin-bottom:10px;text-shadow:0 0 18px rgba(201,168,76,.2)">اللَّهُمَّ اغْفِرْ لَهَا وَارْحَمْهَا وَعَافِهَا وَاعْفُ عَنْهَا وَأَكْرِمْ نُزُلَهَا وَنَوِّرْ قَبْرَهَا وَأَدْخِلْهَا الْجَنَّةَ الْفِرْدَوْسَ</div>
    <div style="font-family:'EB Garamond',serif;font-size:13.5px;color:rgba(201,168,76,.7);line-height:1.7;margin-bottom:8px;letter-spacing:.3px">Allāhumma-ghfir lahā, warḥamhā, wa&#39;āfihā, wa&#39;fu &#39;anhā, wa-akrim nuzulahā, wa-nawwir qabrahā, wa-adkhilhal-jannatil-firdaws</div>
    <div style="font-family:'EB Garamond',serif;font-style:italic;font-size:13px;color:var(--muted);line-height:1.7">"O Allah, forgive her, have mercy on her, grant her wellbeing, pardon her, honour her resting place, illuminate her grave, and enter her into Jannatul Firdaus. Ameen."</div>
  </div>
  <div class="sec-hdr">✦ WHAT IS SADQA-E-JARIYA ✦</div>
  <div class="sawab-box">
    <div style="font-family:'Amiri',serif;font-size:16px;color:var(--goldl);direction:rtl;text-align:center;line-height:1.8;margin-bottom:6px">إِذَا مَاتَ الْإِنسَانُ انقَطَعَ عَمَلُهُ إِلَّا مِن ثَلَاثَةٍ</div>
    <div style="font-family:'EB Garamond',serif;font-size:12px;color:rgba(201,168,76,0.6);text-align:center;margin-bottom:8px;line-height:1.6;letter-spacing:0.3px">Idhā māta al-insānu inqaṭa'a 'amaluhu illā min thalāthah</div>
    <div style="font-family:'EB Garamond',serif;font-style:italic;font-size:13px;color:var(--muted);text-align:center;margin-bottom:12px;line-height:1.6">"When a person dies, all their deeds end except three: Sadqa-e-Jariya, beneficial knowledge, and a righteous child who prays for them." — Sahih Muslim 1631</div>
    <div style="font-family:'EB Garamond',serif;font-size:13.5px;color:var(--cream);line-height:1.9">This app — shared freely for every Muslim during Ramadan — is all three combined: a beneficial tool, shared knowledge, and an act of love from a devoted son. Every prayer time viewed, every dua recited, every fast guided — all become a stream of continuous reward for <strong style="color:var(--goldl)">Munira Nazir Shaikh</strong> (Ammi), insha'Allah. 🤲</div>
  </div>
  <div class="sec-hdr">✦ EARN SAWAB FOR HER ✦</div>
  <div class="sawab-box" style="margin-bottom:12px">
    <div style="font-family:'EB Garamond',serif;font-size:13.5px;color:var(--cream);line-height:2.1">
      🤲 Recite <strong style="color:var(--goldl)">Surah Yaseen</strong> and gift the reward to her soul<br>
      🌙 Recite <strong style="color:var(--goldl)">Surah Ikhlas 3×</strong> — like a full Quran, gift it to her<br>
      💰 Give <strong style="color:var(--goldl)">Sadqa / charity</strong> in her name<br>
      🕌 Offer <strong style="color:var(--goldl)">Nawafil prayer</strong> and gift the reward to her<br>
      📿 Recite <strong style="color:var(--goldl)">Istighfar</strong> for her after every salah<br>
      🌊 Give <strong style="color:var(--goldl)">water or food</strong> to the needy in her name<br>
      🤲 Daily dua: <em style="color:var(--goldl)">"O Allah, forgive Munira Nazir Shaikh and grant her Jannah"</em>
    </div>
  </div>
  <div style="text-align:center;padding:14px 14px 16px;font-family:'Cinzel',serif;font-size:12px;letter-spacing:1.5px;color:var(--goldd);line-height:2.2;border-top:1px solid rgba(201,168,76,.1)">
    <div>✦ RAMADAN MUBARAK 2026 · 1447 AH · INDIA ✦</div>
    <div style="margin-top:2px">⚡ Developed by <span style="color:var(--gold);font-size:12px;letter-spacing:2px">AMIR NAZIR SHAIKH</span></div>
    <div style="color:var(--purple);font-size:11px;letter-spacing:1.5px;margin-top:2px">💜 Sadqa-e-Jariya for Munira Nazir Shaikh (Ammi) · May Allah grant her Jannatul Firdaus 💜</div>
  </div>
</div>

</div></div>
<div class="save-badge" id="save-badge">✓ SAVED</div>
<script>
const CITIES=[
{n:"PUNE",def:true,s:[[5,42,18,40],[5,41,18,40],[5,41,18,40],[5,40,18,41],[5,40,18,41],[5,39,18,41],[5,38,18,42],[5,38,18,42],[5,37,18,42],[5,37,18,42],[5,36,18,43],[5,35,18,43],[5,34,18,43],[5,33,18,44],[5,33,18,44],[5,32,18,44],[5,32,18,44],[5,31,18,44],[5,30,18,45],[5,29,18,45],[5,28,18,45],[5,27,18,46],[5,26,18,46],[5,25,18,46],[5,25,18,46],[5,24,18,47],[5,23,18,47],[5,22,18,47],[5,21,18,47],[5,20,18,48]],dh:[12,49],as:[16,8],is:[19,50]},
{n:"MUMBAI",s:[[5,51,18,40],[5,51,18,41],[5,50,18,41],[5,50,18,42],[5,49,18,42],[5,48,18,42],[5,48,18,43],[5,47,18,43],[5,47,18,43],[5,46,18,44],[5,45,18,44],[5,44,18,44],[5,44,18,45],[5,43,18,45],[5,42,18,45],[5,42,18,46],[5,41,18,46],[5,40,18,46],[5,39,18,47],[5,39,18,47],[5,38,18,47],[5,37,18,47],[5,36,18,48],[5,35,18,48],[5,35,18,48],[5,34,18,49],[5,33,18,49],[5,32,18,49],[5,31,18,49],[5,30,18,50]],dh:[12,51],as:[16,10],is:[19,53]},
{n:"DELHI",s:[[5,37,18,14],[5,36,18,15],[5,36,18,15],[5,35,18,16],[5,34,18,17],[5,33,18,18],[5,32,18,18],[5,31,18,19],[5,30,18,20],[5,29,18,20],[5,28,18,21],[5,27,18,21],[5,26,18,22],[5,25,18,23],[5,24,18,23],[5,23,18,24],[5,22,18,25],[5,21,18,25],[5,20,18,26],[5,19,18,26],[5,17,18,27],[5,16,18,28],[5,15,18,28],[5,14,18,29],[5,13,18,29],[5,12,18,30],[5,10,18,31],[5,9,18,31],[5,8,18,32],[5,7,18,32]],dh:[12,36],as:[15,47],is:[19,31]},
{n:"HYDERABAD",s:[[5,28,18,19],[5,27,18,20],[5,27,18,20],[5,26,18,20],[5,26,18,21],[5,25,18,21],[5,25,18,21],[5,24,18,22],[5,24,18,22],[5,23,18,22],[5,22,18,23],[5,22,18,23],[5,21,18,23],[5,20,18,23],[5,20,18,24],[5,19,18,24],[5,18,18,24],[5,18,18,24],[5,17,18,25],[5,16,18,25],[5,16,18,25],[5,15,18,25],[5,14,18,26],[5,13,18,26],[5,12,18,26],[5,12,18,26],[5,11,18,26],[5,10,18,27],[5,9,18,27],[5,8,18,27]],dh:[12,31],as:[15,50],is:[19,32]},
{n:"LUCKNOW",s:[[5,22,18,1],[5,21,18,2],[5,20,18,3],[5,19,18,3],[5,18,18,4],[5,17,18,5],[5,16,18,5],[5,15,18,6],[5,14,18,7],[5,13,18,7],[5,12,18,8],[5,11,18,8],[5,10,18,9],[5,9,18,10],[5,8,18,10],[5,7,18,11],[5,5,18,12],[5,4,18,12],[5,3,18,13],[5,2,18,13],[5,0,18,14],[4,59,18,15],[4,58,18,15],[4,57,18,16],[4,55,18,16],[4,54,18,17],[4,52,18,17],[4,51,18,18],[4,50,18,18],[4,48,18,19]],dh:[12,21],as:[15,34],is:[19,20]},
{n:"BANGALORE",s:[[5,29,18,26],[5,29,18,27],[5,28,18,27],[5,28,18,27],[5,28,18,27],[5,27,18,28],[5,27,18,28],[5,26,18,28],[5,26,18,28],[5,25,18,28],[5,25,18,28],[5,24,18,29],[5,24,18,29],[5,23,18,29],[5,23,18,29],[5,22,18,29],[5,22,18,29],[5,21,18,29],[5,20,18,29],[5,20,18,30],[5,19,18,30],[5,19,18,30],[5,18,18,30],[5,17,18,30],[5,17,18,30],[5,16,18,30],[5,16,18,30],[5,15,18,30],[5,14,18,30],[5,14,18,30]],dh:[12,34],as:[15,54],is:[19,38]},
{n:"CHENNAI",s:[[5,18,18,16],[5,18,18,16],[5,18,18,16],[5,17,18,16],[5,17,18,17],[5,16,18,17],[5,16,18,17],[5,16,18,17],[5,15,18,17],[5,15,18,17],[5,14,18,18],[5,14,18,18],[5,13,18,18],[5,13,18,18],[5,12,18,18],[5,12,18,18],[5,11,18,19],[5,10,18,19],[5,10,18,19],[5,9,18,19],[5,9,18,19],[5,8,18,19],[5,7,18,19],[5,7,18,19],[5,6,18,19],[5,5,18,19],[5,5,18,20],[5,4,18,20],[5,3,18,20],[5,3,18,20]],dh:[12,24],as:[15,44],is:[19,27]},
{n:"KOLKATA",s:[[4,51,17,35],[4,50,17,36],[4,49,17,36],[4,49,17,37],[4,48,17,37],[4,47,17,38],[4,47,17,38],[4,46,17,39],[4,45,17,39],[4,44,17,40],[4,44,17,40],[4,43,17,40],[4,42,17,41],[4,41,17,41],[4,40,17,42],[4,39,17,42],[4,39,17,43],[4,38,17,43],[4,37,17,43],[4,36,17,44],[4,35,17,44],[4,34,17,45],[4,33,17,45],[4,32,17,45],[4,31,17,46],[4,30,17,46],[4,29,17,46],[4,28,17,47],[4,27,17,47],[4,26,17,48]],dh:[11,51],as:[15,9],is:[18,50]},
];
const VERSES=[
{a:"شَهْرُ رَمَضَانَ الَّذِي أُنزِلَ فِيهِ الْقُرْآنُ هُدًى لِّلنَّاسِ",t:"The month of Ramadan in which the Quran was revealed — a guidance for mankind.",r:"Al-Baqarah 2:185"},
{a:"وَإِذَا سَأَلَكَ عِبَادِي عَنِّي فَإِنِّي قَرِيبٌ",t:"When My servants ask you about Me — indeed I am near.",r:"Al-Baqarah 2:186"},
{a:"إِنَّ اللَّهَ مَعَ الصَّابِرِينَ",t:"Indeed, Allah is with the patient ones.",r:"Al-Baqarah 2:153"},
{a:"وَاسْتَعِينُوا بِالصَّبْرِ وَالصَّلَاةِ",t:"Seek help through patience and prayer.",r:"Al-Baqarah 2:45"},
{a:"إِنَّ مَعَ الْعُسْرِ يُسْرًا",t:"Indeed, with hardship will be ease.",r:"Al-Inshirah 94:6"},
{a:"فَاذْكُرُونِي أَذْكُرْكُمْ وَاشْكُرُوا لِي",t:"Remember Me and I will remember you. Be grateful to Me.",r:"Al-Baqarah 2:152"},
{a:"وَمَن يَتَّقِ اللَّهَ يَجْعَل لَّهُ مَخْرَجًا",t:"Whoever fears Allah — He will make for him a way out.",r:"At-Talaq 65:2"},
{a:"إِنَّمَا الْمُؤْمِنُونَ إِخْوَةٌ",t:"The believers are but brothers.",r:"Al-Hujurat 49:10"},
{a:"إِنَّ اللَّهَ يُحِبُّ الْمُحْسِنِينَ",t:"And Allah loves the doers of good.",r:"Ali Imran 3:134"},
{a:"إِنَّ اللَّهَ يُحِبُّ التَّوَّابِينَ وَيُحِبُّ الْمُتَطَهِّرِينَ",t:"Allah loves those who repent and those who purify themselves.",r:"Al-Baqarah 2:222"},
{a:"وَمَا أَرْسَلْنَاكَ إِلَّا رَحْمَةً لِّلْعَالَمِينَ",t:"We have not sent you except as a mercy to the worlds.",r:"Al-Anbiya 21:107"},
{a:"لَيْلَةُ الْقَدْرِ خَيْرٌ مِّنْ أَلْفِ شَهْرٍ",t:"The Night of Decree is better than a thousand months.",r:"Al-Qadr 97:3"},
{a:"تَنَزَّلُ الْمَلَائِكَةُ وَالرُّوحُ فِيهَا بِإِذْنِ رَبِّهِم",t:"The angels and the Spirit descend therein by permission of their Lord.",r:"Al-Qadr 97:4"},
{a:"سَلَامٌ هِيَ حَتَّىٰ مَطْلَعِ الْفَجْرِ",t:"Peace it is — until the emergence of dawn.",r:"Al-Qadr 97:5"},
{a:"وَبِالْأَسْحَارِ هُمْ يَسْتَغْفِرُونَ",t:"In the hours before dawn, they would seek forgiveness.",r:"Adh-Dhariyat 51:18"},
{a:"رَبَّنَا آتِنَا فِي الدُّنْيَا حَسَنَةً وَفِي الْآخِرَةِ حَسَنَةً",t:"Our Lord, grant us good in this world and good in the Hereafter.",r:"Al-Baqarah 2:201"},
{a:"إِنَّ الْحَسَنَاتِ يُذْهِبْنَ السَّيِّئَاتِ",t:"Indeed, good deeds remove evil deeds.",r:"Hud 11:114"},
{a:"وَأَنفِقُوا فِي سَبِيلِ اللَّهِ",t:"And spend in the way of Allah.",r:"Al-Baqarah 2:195"},
{a:"وَأَقِيمُوا الصَّلَاةَ وَآتُوا الزَّكَاةَ",t:"Establish prayer and give Zakat.",r:"Al-Baqarah 2:43"},
{a:"ادْعُونِي أَسْتَجِبْ لَكُمْ",t:"Call upon Me — I will respond to you.",r:"Ghafir 40:60"},
{a:"وَمَن يَعْمَلْ مِثْقَالَ ذَرَّةٍ خَيْرًا يَرَهُ",t:"Whoever does an atom's weight of good will see it.",r:"Az-Zalzalah 99:7"},
{a:"يَا أَيُّهَا الَّذِينَ آمَنُوا تُوبُوا إِلَى اللَّهِ تَوْبَةً نَّصُوحًا",t:"O believers, repent to Allah with sincere repentance.",r:"At-Tahrim 66:8"},
{a:"حَافِظُوا عَلَى الصَّلَوَاتِ وَالصَّلَاةِ الْوُسْطَىٰ",t:"Maintain carefully the obligatory prayers, especially the middle prayer.",r:"Al-Baqarah 2:238"},
{a:"وَذَكِّرْ فَإِنَّ الذِّكْرَىٰ تَنفَعُ الْمُؤْمِنِينَ",t:"And remind, for the reminder benefits the believers.",r:"Adh-Dhariyat 51:55"},
{a:"اللَّهُ وَلِيُّ الَّذِينَ آمَنُوا",t:"Allah is the protector of those who believe.",r:"Al-Baqarah 2:257"},
{a:"وَتُوبُوا إِلَى اللَّهِ جَمِيعًا أَيُّهَ الْمُؤْمِنُونَ",t:"And turn to Allah in repentance — all of you, O believers.",r:"An-Nur 24:31"},
{a:"إِنَّ اللَّهَ مَعَ الَّذِينَ اتَّقَوا",t:"Indeed, Allah is with those who fear Him.",r:"An-Nahl 16:128"},
{a:"وَمَن يَتَوَكَّلْ عَلَى اللَّهِ فَهُوَ حَسْبُهُ",t:"Whoever puts his trust in Allah — He is sufficient for him.",r:"At-Talaq 65:3"},
{a:"الْيَوْمَ أَكْمَلْتُ لَكُمْ دِينَكُمْ",t:"This day I have perfected your religion for you.",r:"Al-Ma'idah 5:3"},
{a:"وَاشْكُرُوا نِعْمَتَ اللَّهِ إِن كُنتُمْ إِيَّاهُ تَعْبُدُونَ",t:"Be grateful for Allah's favour if it is Him you worship.",r:"An-Nahl 16:114"},
];
const RDATES=[];const EID=new Date(2026,2,20);
for(let i=0;i<30;i++){const d=new Date(2026,1,19);d.setDate(d.getDate()+i);RDATES.push(d);}
const MONS=["January","February","March","April","May","June","July","August","September","October","November","December"];
const SM=["Jan","Feb","Mar"];
const SD=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];
const FD=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];
const ORD=["","1st","2nd","3rd","4th","5th","6th","7th","8th","9th","10th","11th","12th","13th","14th","15th","16th","17th","18th","19th","20th","21st","22nd","23rd","24th","25th","26th","27th","28th","29th","30th"];
let city=CITIES[0]; // will be updated by geolocation
let sAlertShown=false,iAlertShown=false,remOn=true,lastSpoke="";
let sRFired=false,sPassedFired=false,iWarnFired=false;
let tsMode=0,tsCounts=[0,0,0],tsGoal=33;
const TS=[{a:"سُبْحَانَ اللَّهِ",e:"SUBHANALLAH"},{a:"الْحَمْدُ لِلَّهِ",e:"ALHAMDULILLAH"},{a:"اللَّهُ أَكْبَر",e:"ALLAHU AKBAR"}];
let rk=Array(20).fill(false);

function h12(h,m){return`${h%12||12}:${String(m).padStart(2,"0")} ${h>=12?"PM":"AM"}`;}
function rIdx(d){const t=new Date(d.getFullYear(),d.getMonth(),d.getDate());for(let i=0;i<RDATES.length;i++)if(RDATES[i].getTime()===t.getTime())return i;return-1;}
function getTT(){const i=rIdx(new Date());if(i<0)return null;const sc=city.s[i];return{i,sh:sc[0],sm:sc[1],ih:sc[2],im:sc[3]};}
function $(id){return document.getElementById(id);}
function setText(id,v){const e=$(id);if(e)e.textContent=v;}
function setHTML(id,v){const e=$(id);if(e)e.innerHTML=v;}

function initStars(){
  const c=$("stars");
  for(let i=0;i<130;i++){const s=document.createElement("div");s.className="star";const sz=Math.random()*2.2+0.4;s.style.cssText=`width:${sz}px;height:${sz}px;left:${Math.random()*100}%;top:${Math.random()*100}%;--d:${1.8+Math.random()*4}s;--o:${0.3+Math.random()*0.7};animation-delay:${Math.random()*7}s`;c.appendChild(s);}
  for(let i=0;i<5;i++){const ss=document.createElement("div");ss.className="shoot";const a=(28+Math.random()*22)*Math.PI/180,dist=180+Math.random()*200;ss.style.cssText=`left:${5+Math.random()*55}%;top:${3+Math.random()*28}%;--sd:${7+Math.random()*9}s;--dl:${i*2.5+Math.random()*4}s;--dx:${Math.cos(a)*dist};--dy:${Math.sin(a)*dist};--tl:${35+Math.random()*55}px`;c.appendChild(ss);}
  for(let i=0;i<22;i++){const p=document.createElement("div");p.className="noor";p.style.cssText=`left:${Math.random()*100}%;bottom:${Math.random()*50}%;--rd:${3+Math.random()*5}s;--rl:${Math.random()*7}s`;c.appendChild(p);}
}

function geoDetectCity(){
  if(!("geolocation"in navigator))return;
  navigator.geolocation.getCurrentPosition(function(pos){
    var lat=pos.coords.latitude, lon=pos.coords.longitude;
    // City center coordinates for matching
    var CITY_COORDS={
      PUNE:{lat:18.5204,lon:73.8567},
      MUMBAI:{lat:19.0760,lon:72.8777},
      DELHI:{lat:28.7041,lon:77.1025},
      HYDERABAD:{lat:17.3850,lon:78.4867},
      LUCKNOW:{lat:26.8467,lon:80.9462},
      BANGALORE:{lat:12.9716,lon:77.5946},
      CHENNAI:{lat:13.0827,lon:80.2707},
      KOLKATA:{lat:22.5726,lon:88.3639}
    };
    // Find nearest city using simple distance
    var best=null, bestDist=999999;
    Object.keys(CITY_COORDS).forEach(function(name){
      var c=CITY_COORDS[name];
      var d=Math.sqrt(Math.pow(lat-c.lat,2)+Math.pow(lon-c.lon,2));
      if(d<bestDist){bestDist=d;best=name;}
    });
    // Only switch if city is within ~400km (roughly 3.5 degrees)
    if(best && bestDist < 3.5){
      var found=CITIES.find(function(c){return c.n===best;});
      if(found && found.n!==city.n){
        city=found;
        buildCitySw("city");buildCitySw("sc");
        renderCities();renderSched();updatePrayers();
        setText("hi-city",city.n);setText("sc-city",city.n);
        // Update Qibla if already initialized
        qiblaInit=false; // reset so it re-runs with new city
      }
    }
  },function(){
    // Permission denied or error — keep default Pune
  },{timeout:6000,maximumAge:3600000});
}

function showTab(id){
  document.querySelectorAll(".sec").forEach(s=>s.classList.remove("on"));
  document.querySelectorAll(".tb").forEach(t=>t.classList.remove("on"));
  $("sec-"+id).classList.add("on");
  $("tb-"+id).classList.add("on");
  window.scrollTo({top:0,behavior:"smooth"});
  if(id==="sched")renderSched();
  if(id==="asma")asmaBuild();
  if(id==="tools"){
    // restore last active tool pill or default to ts
    var activePill=document.querySelector(".tpill.on");
    var activeId=activePill?activePill.id.replace("tp-",""):"ts";
    showTool(activeId);
    if(activeId==="qb")initQibla();
  }
}

function buildCitySw(pfx){
  const el=$(pfx+"-sw");if(!el)return;
  el.innerHTML=CITIES.map(c=>`<div class="cbtn${c.n===city.n?" on":""}" onclick="switchCity('${c.n}','${pfx}')">${c.n}</div>`).join("");
}
function switchCity(name,pfx){
  city=CITIES.find(c=>c.n===name)||CITIES[0];
  buildCitySw("city");buildCitySw("sc");
  renderCities();renderSched();updatePrayers();
  setText("hi-city",city.n);setText("sc-city",city.n);
}

function renderCities(){
  const idx=Math.max(0,rIdx(new Date()));
  setHTML("cities-grid",CITIES.map(c=>{
    const sc=c.s[idx];
    return`<div class="ccard${c.n===city.n?" on":""}" onclick="switchCity('${c.n}','city')">
      <div class="c-name">${c.n}${c.def?'<span class="def-tag">DEFAULT</span>':""}</div>
      <div class="c-row"><span style="color:var(--blue)">●</span>&nbsp;SEHRI<span class="c-time">${h12(sc[0],sc[1])}</span></div>
      <div class="c-row"><span style="color:var(--gold)">●</span>&nbsp;IFTAR<span class="c-time">${h12(sc[2],sc[3])}</span></div>
    </div>`;
  }).join(""));
}

function renderSched(){
  const now=new Date(),today=new Date(now.getFullYear(),now.getMonth(),now.getDate());
  let html="";
  RDATES.forEach((rd,i)=>{
    const rn=i+1,isT=rd.getTime()===today.getTime(),isP=rd<today;
    const dl=Math.max(0,Math.ceil((rd-today)/86400000));
    const sc=city.s[i],isJ=rd.getDay()===5,isQ=[21,23,25,27,29].includes(rn);
    html+=`<div class="srow${isT?" tod":""}${isP?" past":""}${isQ?" qadr":""}">
      <div class="sc"><span class="sc-d">${SD[rd.getDay()]}, ${rd.getDate()} ${["Jan","Feb","Mar"][rd.getMonth()]}</span>${isT?'<span class="t-pill">TODAY</span>':""}</div>
      <div class="sc"><span class="sc-day${isJ?" juma":""}">${FD[rd.getDay()]}</span></div>
      <div class="sc"><span class="sc-rn">${rn}</span></div>
      <div class="sc"><span class="sc-tm">${h12(sc[0],sc[1])}</span></div>
      <div class="sc"><span class="sc-tm">${h12(sc[2],sc[3])}</span></div>
      <div class="sc"><span class="sc-rm">${isP?"✓":dl===0?"TODAY":dl+"d"}</span></div>
    </div>`;
  });
  setHTML("sched-body",html);
}

function updatePrayers(){
  const t=getTT();if(!t)return;
  setText("t-fajr",h12(t.sh,t.sm));setText("t-maghrib",h12(t.ih,t.im));
  setText("t-dhuhr",h12(city.dh[0],city.dh[1]));setText("t-asr",h12(city.as[0],city.as[1]));
  setText("t-isha",h12(city.is[0],city.is[1]));
  const tm=city.is[1]+20;setText("t-tarawih",h12(city.is[0]+(tm>=60?1:0),tm%60));
}

function updateVerse(){
  const ri=rIdx(new Date());
  const idx=ri>=0?ri:Math.max(0,Math.min(29,Math.floor((Date.now()-new Date(2026,1,19))/86400000)));
  const v=VERSES[Math.min(idx,29)];
  setText("qv-ar",v.a);setText("qv-tr",v.t);setText("qv-ref",v.r);
}

function updateNights(){
  const t=new Date();const today=new Date(t.getFullYear(),t.getMonth(),t.getDate());
  [{id:"nb-15",d:new Date(2026,2,4)},{id:"nb-21",d:new Date(2026,2,10)},{id:"nb-23",d:new Date(2026,2,12)},{id:"nb-25",d:new Date(2026,2,14)},{id:"nb-27",d:new Date(2026,2,16)},{id:"nb-29",d:new Date(2026,2,18)}].forEach(n=>{
    const el=$(n.id);if(!el)return;
    if(n.d.getTime()===today.getTime()){el.textContent="TONIGHT";el.style.color="var(--green)";el.style.borderColor="var(--green)";}
    else if(n.d<today){el.textContent="PASSED";el.className="nbadge past";}
  });
}

function toggleRem(){
  const tog=$("rem-tog");remOn=!remOn;tog.classList.toggle("on",remOn);
  if(remOn&&"speechSynthesis"in window)speak("Voice reminders enabled.");
}
function speak(msg){
  if(!remOn||!("speechSynthesis"in window)||lastSpoke===msg)return;
  lastSpoke=msg;window.speechSynthesis.cancel();
  const u=new SpeechSynthesisUtterance(msg);u.lang="en-IN";u.rate=0.9;u.volume=1;
  window.speechSynthesis.speak(u);setTimeout(()=>{lastSpoke="";},90000);
}

// TASBEEH
function setTs(m){
  tsMode=m;
  document.querySelectorAll(".ts-opt").forEach((b,i)=>b.classList.toggle("on",i===m));
  setText("ts-big-ar",TS[m].a);setText("ts-big-en",TS[m].e);updTs();
}
function tapTs(e){
  tsCounts[tsMode]++;saveState();
  if(navigator.vibrate)navigator.vibrate(30);
  const btn=$("ts-big");
  const r=document.createElement("div");r.className="ripple";
  const rc=btn.getBoundingClientRect();
  r.style.cssText=`left:${(e.clientX||rc.left+rc.width/2)-rc.left}px;top:${(e.clientY||rc.top+rc.height/2)-rc.top}px`;
  btn.appendChild(r);setTimeout(()=>r.remove(),700);
  if(tsCounts[tsMode]%33===0&&navigator.vibrate)navigator.vibrate([50,30,50,30,100]);
  updTs();
}
function updTs(){
  const c=tsCounts[tsMode];
  setText("ts-cnt",c);
  const inSet=c%tsGoal,sets=Math.floor(c/tsGoal);
  const tspf=$("ts-pf");if(tspf)tspf.style.width=(inSet===0&&c>0?100:Math.min(100,inSet*100/tsGoal))+"%";
  setText("ts-info",`${inSet} / ${tsGoal} · Sets: ${sets} · Total: ${c}`);
  for(let i=0;i<3;i++)setText("ts-t"+i,tsCounts[i]);
}
function tsUndo(){if(tsCounts[tsMode]>0){tsCounts[tsMode]--;updTs();}}
function tsReset(){tsCounts[tsMode]=0;updTs();}
function openTsGoal(){const g=parseInt(prompt("Set goal (e.g. 33, 100):",tsGoal));if(g>0){tsGoal=g;updTs();}}

// TARAWEEH
// buildRkGrid defined below
// toggleRk defined below
// twReset defined below

// ZAKAT
// Helper: format number in Indian style (e.g. 12,34,567)
function fmtINR(n){
  if(n===0)return"0";
  return Math.round(n).toLocaleString("en-IN");
}
// Helper: convert number to readable words (crore/lakh)
function numWords(n){
  if(n<=0)return"";
  if(n>=10000000)return(n/10000000).toFixed(2).replace(/\.?0+$/,"")+" Crore";
  if(n>=100000)return(n/100000).toFixed(2).replace(/\.?0+$/,"")+" Lakh";
  if(n>=1000)return(n/1000).toFixed(1).replace(/\.?0+$/,"")+" Thousand";
  return"₹"+fmtINR(n);
}

function calcZ(){
  // Read inputs — Cash & Bank
  var cash=parseFloat(document.getElementById("z-cash").value)||0;

  // Gold — 3 karats separately
  var g24Qty=parseFloat(document.getElementById("z-g24-qty").value)||0;
  var g24Rate=parseFloat(document.getElementById("z-g24-rate").value)||0;
  var g22Qty=parseFloat(document.getElementById("z-g22-qty").value)||0;
  var g22Rate=parseFloat(document.getElementById("z-g22-rate").value)||0;
  var g18Qty=parseFloat(document.getElementById("z-g18-qty").value)||0;
  var g18Rate=parseFloat(document.getElementById("z-g18-rate").value)||0;

  // Silver
  var sQty=parseFloat(document.getElementById("z-s-qty").value)||0;
  var sRate=parseFloat(document.getElementById("z-s-rate").value)||0;

  // Others
  var inv=parseFloat(document.getElementById("z-inv").value)||0;
  var recv=parseFloat(document.getElementById("z-recv").value)||0;

  // Validate: if qty entered but rate missing, warn user
  var showRateWarn=function(karat, qtyFilled, rateFilled){
    var warn=document.getElementById('z-g'+karat+'-rate-warn');
    var inp=document.getElementById('z-g'+karat+'-rate');
    if(warn) warn.style.display=(qtyFilled&&!rateFilled)?'inline':'none';
    if(inp) inp.style.borderColor=(qtyFilled&&!rateFilled)?'rgba(220,50,50,.7)':'';
  };
  showRateWarn('24', g24Qty>0, g24Rate>0);
  showRateWarn('22', g22Qty>0, g22Rate>0);
  showRateWarn('18', g18Qty>0, g18Rate>0);

  // Compute each gold karat value
  var g24Val=g24Qty*g24Rate;
  var g22Val=g22Qty*g22Rate;
  var g18Val=g18Qty*g18Rate;
  var goldVal=g24Val+g22Val+g18Val; // Total gold

  // Silver
  var silvVal=sQty*sRate;

  // Show/hide computed rows for each karat
  var show=function(id,val,label){
    var el=document.getElementById(id);
    if(el){el.style.display=(val>0?"flex":"none");}
    setText(id.replace("-computed","-val"),"₹"+fmtINR(val));
  };
  show("z-g24-computed",g24Val);
  show("z-g22-computed",g22Val);
  show("z-g18-computed",g18Val);

  // Total gold row — show only if any gold entered
  var gTotalRow=document.getElementById("z-g-total-row");
  if(gTotalRow){gTotalRow.style.display=(goldVal>0?"flex":"none");}
  setText("z-g-val","₹"+fmtINR(goldVal));

  // Silver computed row
  var sComp=document.getElementById("z-s-computed");
  if(sComp){sComp.style.display=(silvVal>0?"flex":"none");}
  setText("z-s-val","₹"+fmtINR(silvVal));

  // Total zakatable wealth
  var total=cash+goldVal+silvVal+inv+recv;
  var zakat=Math.round(total*0.025);

  // Nisab check — use highest entered gold rate for reference, or silver nisab
  // Best ref rate: use 24K rate if available, else 22K, else 18K
  var refGoldRate=g24Rate||g22Rate||g18Rate;
  var nisabEl=document.getElementById("zk-nisab-check");
  var nisabMet=false;
  var nisabLine="";
  if(total>0){
    if(refGoldRate>0){
      var goldNisab=85*refGoldRate;
      nisabMet=total>=goldNisab;
      var karatLabel=g24Rate?"24K":g22Rate?"22K":"18K";
      nisabLine="Gold Nisab (85g × ₹"+fmtINR(refGoldRate)+"/g "+karatLabel+") = ₹"+fmtINR(goldNisab);
    } else if(sRate>0){
      var silvNisab=595*sRate;
      nisabMet=total>=silvNisab;
      nisabLine="Silver Nisab (595g × ₹"+fmtINR(sRate)+"/g) = ₹"+fmtINR(silvNisab);
    } else {
      // No gold or silver rate entered — cannot verify Nisab, treat as unverified
      nisabMet=false;
      nisabLine="unverified";
    }
    // Also flag if ANY gold qty is entered without its rate
    var goldQtyWithoutRate=(g24Qty>0&&!g24Rate)||(g22Qty>0&&!g22Rate)||(g18Qty>0&&!g18Rate);
    if(goldQtyWithoutRate && nisabLine!=="unverified"){
      // Some gold has qty but no rate — Nisab calculation incomplete
      nisabMet=false;
      nisabLine="incomplete";
    }
    if(nisabEl){
      if(nisabLine==="incomplete"){
        nisabEl.className="zk-nisab-check not-eligible";
        nisabEl.innerHTML='<div class="zk-nc-icon">⚠️</div>'
          +'<div class="zk-nc-title" style="color:#f0a030">GOLD RATE MISSING</div>'
          +'<div class="zk-nc-sub">You have entered a gold quantity but no rate. Please enter <strong style="color:var(--cream)">today&#39;s gold rate (&#8377;/gram)</strong> for each karat you own — required to calculate Nisab and Zakat correctly.</div>';
      } else if(nisabLine==="unverified"){
        // Special state: assets entered but no rate to check Nisab against
        nisabEl.className="zk-nisab-check not-eligible";
        nisabEl.innerHTML='<div class="zk-nc-icon">⚠️</div>'
          +'<div class="zk-nc-title" style="color:#f0a030">NISAB NOT VERIFIED</div>'
          +'<div class="zk-nc-sub">Please enter today&#39;s <strong style="color:var(--cream)">gold or silver rate</strong> in the fields above so we can check if your wealth meets the Nisab threshold before calculating Zakat.</div>';
      } else if(nisabMet){
        nisabEl.className="zk-nisab-check eligible";
        nisabEl.innerHTML='<div class="zk-nc-icon">✅</div>'
          +'<div class="zk-nc-title" style="color:var(--green)">ZAKAT IS DUE ON YOU</div>'
          +'<div class="zk-nc-sub">'+nisabLine+'<br>Your wealth <strong style="color:var(--cream)">₹'+fmtINR(total)+'</strong> meets the Nisab threshold.</div>';
      } else {
        nisabEl.className="zk-nisab-check not-eligible";
        nisabEl.innerHTML='<div class="zk-nc-icon">ℹ️</div>'
          +'<div class="zk-nc-title" style="color:#f0a030">NISAB NOT YET MET</div>'
          +'<div class="zk-nc-sub">'+nisabLine+'<br>Your wealth <strong style="color:var(--cream)">₹'+fmtINR(total)+'</strong> is below the Nisab. No Zakat due this year.</div>';
      }
    }
  } else {
    if(nisabEl){
      nisabEl.className="zk-nisab-check empty";
      nisabEl.innerHTML='<div class="zk-nc-icon">⚖️</div>'
        +'<div class="zk-nc-title" style="color:var(--muted)">NISAB STATUS</div>'
        +'<div class="zk-nc-sub">Fill in your assets above to check if Zakat is due on you</div>';
    }
  }

  // Display total
  setText("zk-total",(nisabMet&&total>0)?fmtINR(zakat):"0");
  setText("zk-total-words",(nisabMet&&zakat>0)?"₹ "+numWords(zakat)+" due":"");

  // Breakdown — show each gold karat separately
  var items=[];
  if(cash>0)items.push({l:"💵 Cash & Bank",v:Math.round(cash*0.025),w:fmtINR(cash)});
  if(g24Val>0)items.push({l:"🥇 Gold 24K ("+g24Qty+"g × ₹"+fmtINR(g24Rate)+")",v:Math.round(g24Val*0.025),w:fmtINR(g24Val)});
  if(g22Val>0)items.push({l:"🥇 Gold 22K ("+g22Qty+"g × ₹"+fmtINR(g22Rate)+")",v:Math.round(g22Val*0.025),w:fmtINR(g22Val)});
  if(g18Val>0)items.push({l:"🥇 Gold 18K ("+g18Qty+"g × ₹"+fmtINR(g18Rate)+")",v:Math.round(g18Val*0.025),w:fmtINR(g18Val)});
  if(silvVal>0)items.push({l:"🥈 Silver ("+sQty+"g × ₹"+fmtINR(sRate)+")",v:Math.round(silvVal*0.025),w:fmtINR(silvVal)});
  if(inv>0)items.push({l:"📈 Investments",v:Math.round(inv*0.025),w:fmtINR(inv)});
  if(recv>0)items.push({l:"🤝 Receivables",v:Math.round(recv*0.025),w:fmtINR(recv)});

  var bd="";
  if(items.length>0){
    bd+="<div style=\"font-family:'Cinzel',serif;font-size:9px;letter-spacing:2px;color:var(--muted);text-align:center;margin-bottom:8px;margin-top:4px\">BREAKDOWN</div>";
    for(var i=0;i<items.length;i++){
      bd+="<div class=\"zk-bl\">"
        +"<span class=\"zk-bl-l\" style=\"font-size:11px\">"+items[i].l+"</span>"
        +"<span style=\"display:flex;flex-direction:column;align-items:flex-end\">"
        +"<span class=\"zk-bl-v\">₹"+fmtINR(items[i].v)+"</span>"
        +"<span style=\"font-family:'Cinzel',serif;font-size:9px;color:var(--muted)\">on ₹"+items[i].w+"</span>"
        +"</span></div>";
    }
    bd+="<div class=\"zk-bl\" style=\"border-top:1px solid rgba(76,175,125,.3);margin-top:4px\">"
      +"<span class=\"zk-bl-l\" style=\"color:var(--green)\">TOTAL WEALTH</span>"
      +"<span class=\"zk-bl-v\" style=\"color:var(--green)\">₹"+fmtINR(total)+"</span>"
      +"</div>";
  }
  setHTML("zk-bd",bd);
}

function zReset(){
  ["z-cash","z-g24-qty","z-g24-rate","z-g22-qty","z-g22-rate","z-g18-qty","z-g18-rate","z-s-qty","z-s-rate","z-inv","z-recv"].forEach(function(id){
    var e=$(id);if(e)e.value="";
  });
  calcZ();
}

// MAIN TICK
function tick(){
  const now=new Date();
  setText("clock",`${String(now.getHours()).padStart(2,"0")}:${String(now.getMinutes()).padStart(2,"0")}:${String(now.getSeconds()).padStart(2,"0")}`);
  setText("td-date",`${FD[now.getDay()]}, ${now.getDate()} ${MONS[now.getMonth()]} ${now.getFullYear()}`);

  const ri=rIdx(now);
  if(ri>=0){
    const rn=ri+1;
    setText("roza-lbl",`TODAY · ${rn}${["","ST","ND","RD"][rn]||"TH"} ROZA · RAMADAN 1447 AH`);
    setText("rh-num",ORD[rn]);
    const pct=Math.round((rn/30)*100);
    setText("rh-pct",`${pct}% complete`);
    // mfill removed
  }else{
    setText("roza-lbl","RAMADAN 1447 AH · INDIA");
    setText("rh-num","--");
  }

  // eid countdown removed

  const t=getTT();if(!t)return;
  const{sh,sm,ih,im}=t;
  const nowS=now.getHours()*3600+now.getMinutes()*60+now.getSeconds();
  const sS=sh*3600+sm*60,iS=ih*3600+im*60;
  const pastS=nowS>=sS,pastI=nowS>=iS;

  setText("s-time",h12(sh,sm));setText("i-time",h12(ih,im));
  $("s-st").textContent=pastS?"PASSED":"UPCOMING";$("s-st").className="stag "+(pastS?"tag-p":"tag-u");
  $("i-st").textContent=pastI?"PASSED":"UPCOMING";$("i-st").className="stag "+(pastI?"tag-p":"tag-u");

  // Hero info
  setText("hi-sh",h12(sh,sm));setText("hi-if",h12(ih,im));
  setText("hi-roza",ri>=0?`${ri+1}${["","ST","ND","RD"][ri+1]||"TH"} ROZA`:"-- ROZA");
  const shSt=$("hi-sh-st"),ifSt=$("hi-if-st");
  if(shSt){shSt.textContent=pastS?"PASSED":"UPCOMING";shSt.className="ht-st "+(pastS?"pa":"up");}
  if(ifSt){ifSt.textContent=pastI?"PASSED":"UPCOMING";ifSt.className="ht-st "+(pastI?"pa":"up");}

  // Countdown
  let diff=0,lbl="";
  if(!pastS){diff=sS-nowS;lbl="🌙 SEHRI ENDS IN";}
  else if(!pastI){diff=iS-nowS;lbl="☀️ TIME UNTIL IFTAR";}
  else{diff=0;lbl="🌙 ALHAMDULILLAH · ROZA COMPLETE";}
  setText("cd-lbl",lbl);
  setText("cd-h",String(Math.floor(diff/3600)).padStart(2,"0"));
  setText("cd-m",String(Math.floor((diff%3600)/60)).padStart(2,"0"));
  setText("cd-s",String(diff%60).padStart(2,"0"));

  // Active prayer highlight
  const dS=city.dh[0]*3600+city.dh[1]*60,aS=city.as[0]*3600+city.as[1]*60,isS=city.is[0]*3600+city.is[1]*60;
  [{id:"pt-fajr",from:sS,to:dS},{id:"pt-dhuhr",from:dS,to:aS},{id:"pt-asr",from:aS,to:iS},{id:"pt-maghrib",from:iS,to:isS},{id:"pt-isha",from:isS,to:86400}].forEach(p=>{
    const el=$(p.id);if(el)el.className="pt"+(nowS>=p.from&&nowS<p.to?" ap":"");
  });

  // SEHRI alert — 10 min warning
  const fMin=(sS-nowS)/60;
  if(fMin>0&&fMin<=10&&!sAlertShown){
    $("alert-s").classList.remove("hidden");sAlertShown=true;
    if(!sRFired){speak(`Sehri ends in ${Math.ceil(fMin)} minutes. Please finish eating.`);sRFired=true;}
  }else if(fMin<=0){
    $("alert-s").classList.add("hidden");
    if(fMin<-3)sAlertShown=false;
    if(fMin>=-1&&fMin<0&&!sPassedFired){speak("Sehri time has finished. Your fast has now begun. May Allah accept your fast.");sPassedFired=true;}
  }

  // IFTAR alert
  const iMin=(iS-nowS)/60;
  if(iMin>0&&iMin<=5&&!iWarnFired){speak(`Iftar in ${Math.ceil(iMin)} minute${Math.ceil(iMin)>1?"s":""}. Prepare to break your fast.`);iWarnFired=true;}
  if(iMin<=0&&iMin>-2&&!iAlertShown){
    $("alert-i").classList.remove("hidden");iAlertShown=true;
    speak("Alhamdulillah! Iftar time has arrived. You may now break your fast. Ramadan Mubarak!");
    setTimeout(()=>$("alert-i").classList.add("hidden"),120000);
  }
}

// ── TOOL PILL SWITCHER ────────────────────────────────────────────────────
function showTool(id){
  ["ts","tw","zk","qp","ft","qb"].forEach(function(t){
    var p=document.getElementById("tool-"+t);
    var b=document.getElementById("tp-"+t);
    if(p)p.style.display=(t===id?"block":"none");
    if(b){b.classList.remove("on");if(t===id)b.classList.add("on");}
  });
  if(id==="qb")initQibla();
}

// ── TARAWEEH TRACKER ─────────────────────────────────────────────────────
function buildRkGrid(){
  var h="";
  for(var i=0;i<20;i++){
    var cls="rk-circle"+(rk[i]?" rk-done":"");
    h+="<div class=\""+cls+"\" onclick=\"toggleRk("+i+")\"></div>";
  }
  setHTML("rk-grid",h);
}
function toggleRk(i){
  rk[i]=!rk[i];
  if(navigator.vibrate)navigator.vibrate(25);
  buildRkGrid();
  var c=rk.filter(Boolean).length;
  setText("tw-cnt",String(c));
  var pf=document.getElementById("tw-pf");
  if(pf)pf.style.width=Math.min(100,c*5)+"%";
  saveState();
}
function twAdd(n){
  var cur=rk.filter(Boolean).length;
  var nxt=Math.max(0,Math.min(20,cur+n));
  rk=rk.map(function(_,i){return i<nxt;});
  if(navigator.vibrate)navigator.vibrate(n>0?[30,20,30]:15);
  buildRkGrid();
  var c=rk.filter(Boolean).length;
  setText("tw-cnt",String(c));
  var pf=document.getElementById("tw-pf");
  if(pf)pf.style.width=Math.min(100,c*5)+"%";
  saveState();
}
function twReset(){
  rk=Array(20).fill(false);
  buildRkGrid();
  setText("tw-cnt","0");
  var pf=document.getElementById("tw-pf");
  if(pf)pf.style.width="0%";
  saveState();
}

// ── QURAN PROGRESS TRACKER ────────────────────────────────────────────────
var qpData=Array(30).fill(false);
function qpBuild(){
  var h="";
  for(var i=0;i<30;i++){
    var done=qpData[i];
    h+="<div class=\"qp-juz"+(done?" qp-done":"")+"\" onclick=\"qpToggle("+i+")\">"
      +"<div class=\"qp-juz-n\">"+(i+1)+"</div>"
      +"<div class=\"qp-juz-lbl\">JUZ</div>"
      +(done?"<div class=\"qp-check\">✓</div>":"")
      +"</div>";
  }
  setHTML("qp-grid",h);
  var done=qpData.filter(Boolean).length;
  setText("qp-done",String(done));
  setText("qp-left",String(30-done));
  setText("qp-pct",Math.round(done/30*100)+"%");
  var pf=document.getElementById("qp-pf");
  if(pf)pf.style.width=Math.round(done/30*100)+"%";
}
function qpToggle(i){
  qpData[i]=!qpData[i];
  if(navigator.vibrate)navigator.vibrate(25);
  qpBuild();
  saveState();
}
function qpReset(){qpData=Array(30).fill(false);qpBuild();saveState();}

// ── FITRANA CALCULATOR ────────────────────────────────────────────────────
var ftMembers={self:1,spouse:0,child:0,dep:0};
var ftRate=75;
function ftChange(key,delta){
  ftMembers[key]=Math.max(0,ftMembers[key]+delta);
  if(key==="self"&&ftMembers[key]<1)ftMembers[key]=1;
  setText("ft-"+key,String(ftMembers[key]));
  if(navigator.vibrate)navigator.vibrate(20);
  ftCalc();
  saveState();
}
function ftSetRate(r){
  ftRate=r;
  ["ft-r1","ft-r2","ft-r3"].forEach(function(id){
    var el=document.getElementById(id);
    if(el)el.classList.remove("on");
  });
  var customRow=document.getElementById("ft-custom-row");
  if(r===75){var el=document.getElementById("ft-r1");if(el)el.classList.add("on");}
  else if(r===450){var el=document.getElementById("ft-r2");if(el)el.classList.add("on");}
  else{var el=document.getElementById("ft-r3");if(el)el.classList.add("on");}
  if(customRow)customRow.style.display=(r===0?"block":"none");
  ftCalc();
  saveState();
}
function ftCalc(){
  var rate=ftRate;
  if(rate===0){var inp=document.getElementById("ft-custom");rate=parseFloat(inp?inp.value:0)||0;}
  var total=ftMembers.self+ftMembers.spouse+ftMembers.child+ftMembers.dep;
  var due=total*rate;
  setText("ft-total",due.toLocaleString("en-IN"));
  var parts=[];
  if(ftMembers.self>0)parts.push(ftMembers.self+" Self");
  if(ftMembers.spouse>0)parts.push(ftMembers.spouse+" Spouse");
  if(ftMembers.child>0)parts.push(ftMembers.child+" Child"+(ftMembers.child>1?"ren":""));
  if(ftMembers.dep>0)parts.push(ftMembers.dep+" Dep"+(ftMembers.dep>1?"s":""));
  setText("ft-breakdown",parts.join(", ")+" x Rs."+rate+" = Rs."+due.toLocaleString("en-IN"));
}

// ── LOCAL STORAGE PERSISTENCE ─────────────────────────────────────────────
var LS_KEY="rm2026";
function saveState(){
  try{
    var b=document.getElementById("save-badge");if(b){b.classList.add("show");clearTimeout(b._t);b._t=setTimeout(function(){b.classList.remove("show");},1200);}
    localStorage.setItem(LS_KEY,JSON.stringify({
      qpData:qpData,
      rk:rk,
      tsCounts:tsCounts,
      tsMode:tsMode,
      tsGoal:tsGoal,
      ftMembers:ftMembers,
      ftRate:ftRate,
      cityName:city?city.n:null
    }));
  }catch(e){}
}
function loadState(){
  try{
    var raw=localStorage.getItem(LS_KEY);
    if(!raw)return;
    var s=JSON.parse(raw);
    if(s.qpData&&s.qpData.length===30)qpData=s.qpData;
    if(s.rk&&s.rk.length===20)rk=s.rk;
    if(s.tsCounts&&s.tsCounts.length===3)tsCounts=s.tsCounts;
    if(typeof s.tsMode==="number")tsMode=s.tsMode;
    if(typeof s.tsGoal==="number")tsGoal=s.tsGoal;
    if(s.ftMembers)ftMembers=s.ftMembers;
    if(typeof s.ftRate==="number")ftRate=s.ftRate;
    if(s.cityName){var found=CITIES.find(function(c){return c.n===s.cityName;});if(found)city=found;}
  }catch(e){}
}



// ── 99 NAMES OF ALLAH (ASMA UL HUSNA) ────────────────────────────────────
var ASMA=[
  // MERCY category
  {n:1,ar:"الرَّحْمَنُ",en:"Ar-Rahman",meaning:"The Most Gracious — His mercy encompasses all creation without exception",cat:"mercy"},
  {n:2,ar:"الرَّحِيمُ",en:"Ar-Raheem",meaning:"The Most Merciful — His special, ongoing mercy for the believers",cat:"mercy"},
  {n:3,ar:"الْبَرُّ",en:"Al-Barr",meaning:"The Source of All Goodness — the Doer of good, the Kindly",cat:"mercy"},
  {n:4,ar:"اللَّطِيفُ",en:"Al-Lateef",meaning:"The Subtle and Kind — so gentle His blessings reach without us noticing",cat:"mercy"},
  {n:5,ar:"الرَّؤُوفُ",en:"Ar-Ra'oof",meaning:"The Ever-Pitying — intensely compassionate and tender",cat:"mercy"},
  {n:6,ar:"الْوَدُودُ",en:"Al-Wadood",meaning:"The Most Loving — the only truly unconditional Love",cat:"mercy"},
  {n:7,ar:"الشَّكُورُ",en:"Ash-Shakoor",meaning:"The Appreciative — rewards even the smallest good deed greatly",cat:"mercy"},
  {n:8,ar:"الْحَلِيمُ",en:"Al-Haleem",meaning:"The Forbearing — never hastens punishment, always gives time to repent",cat:"mercy"},
  {n:9,ar:"التَّوَّابُ",en:"At-Tawwab",meaning:"The Acceptor of Repentance — returns to His servant with mercy again and again",cat:"mercy"},
  {n:10,ar:"الْغَفُورُ",en:"Al-Ghafoor",meaning:"The Oft-Forgiving — covers sins and erases them completely",cat:"mercy"},
  {n:11,ar:"الْعَفُوُّ",en:"Al-Afuww",meaning:"The Pardoner — wipes out sins as if they never existed",cat:"mercy"},
  {n:12,ar:"الْغَفَّارُ",en:"Al-Ghaffar",meaning:"The Constant Forgiver — forgives repeatedly no matter how many times",cat:"mercy"},
  // POWER category
  {n:13,ar:"الْقَادِرُ",en:"Al-Qadir",meaning:"The All-Powerful — capable of everything with no effort or limitation",cat:"power"},
  {n:14,ar:"الْقَوِيُّ",en:"Al-Qawiyy",meaning:"The All-Strong — strength that never weakens, never tires",cat:"power"},
  {n:15,ar:"الْعَزِيزُ",en:"Al-Azeez",meaning:"The Almighty — mighty and invincible, none can overpower Him",cat:"power"},
  {n:16,ar:"الْجَبَّارُ",en:"Al-Jabbar",meaning:"The Compeller — forces are subject to His will; also the One who heals the broken",cat:"power"},
  {n:17,ar:"الْمُتَكَبِّرُ",en:"Al-Mutakabbir",meaning:"The Supreme — all greatness belongs to Him alone",cat:"power"},
  {n:18,ar:"الْقَهَّارُ",en:"Al-Qahhar",meaning:"The Subduer — dominates everything, none can escape His decree",cat:"power"},
  {n:19,ar:"الْمُقْتَدِرُ",en:"Al-Muqtadir",meaning:"The Omnipotent — has complete power over all affairs",cat:"power"},
  {n:20,ar:"الْمَلِكُ",en:"Al-Malik",meaning:"The King — owner of the entire universe and all dominion",cat:"power"},
  {n:21,ar:"الْمَالِكُ",en:"Maalik ul-Mulk",meaning:"The Master of the Kingdom — gives and takes kingdoms as He wills",cat:"power"},
  {n:22,ar:"الْوَلِيُّ",en:"Al-Waliyy",meaning:"The Protecting Guardian — takes care of His servants and their affairs",cat:"power"},
  // KNOWLEDGE category
  {n:23,ar:"الْعَلِيمُ",en:"Al-Aleem",meaning:"The All-Knowing — knows everything: seen, unseen, past, present, and future",cat:"knowledge"},
  {n:24,ar:"الْخَبِيرُ",en:"Al-Khabeer",meaning:"The All-Aware — knows the inner reality and hidden details of all things",cat:"knowledge"},
  {n:25,ar:"الْحَكِيمُ",en:"Al-Hakeem",meaning:"The Perfectly Wise — every decision, decree, and command is full of wisdom",cat:"knowledge"},
  {n:26,ar:"الشَّهِيدُ",en:"Ash-Shaheed",meaning:"The Witness — witnesses everything that happens anywhere at any time",cat:"knowledge"},
  {n:27,ar:"الرَّقِيبُ",en:"Ar-Raqeeb",meaning:"The Watchful — ever-watchful over every thought, word, and action",cat:"knowledge"},
  {n:28,ar:"الْمُحِيطُ",en:"Al-Muheet",meaning:"The All-Encompassing — His knowledge surrounds all things completely",cat:"knowledge"},
  {n:29,ar:"السَّمِيعُ",en:"As-Samee",meaning:"The All-Hearing — hears every sound, whisper, and unspoken prayer",cat:"knowledge"},
  {n:30,ar:"الْبَصِيرُ",en:"Al-Baseer",meaning:"The All-Seeing — sees all things in darkness and in light",cat:"knowledge"},
  // CREATOR category
  {n:31,ar:"اللَّهُ",en:"Allah",meaning:"The One God — the name that encompasses all divine attributes; the supreme name",cat:"creator"},
  {n:32,ar:"الْخَالِقُ",en:"Al-Khaliq",meaning:"The Creator — creates from nothing, designs with perfect measure",cat:"creator"},
  {n:33,ar:"الْبَارِئُ",en:"Al-Bari",meaning:"The Originator — creates beings with distinct qualities and characteristics",cat:"creator"},
  {n:34,ar:"الْمُصَوِّرُ",en:"Al-Musawwir",meaning:"The Fashioner — gives every created thing its unique shape and form",cat:"creator"},
  {n:35,ar:"الْبَدِيعُ",en:"Al-Badee",meaning:"The Incomparable Originator — creates things without any prior example",cat:"creator"},
  {n:36,ar:"الْأَوَّلُ",en:"Al-Awwal",meaning:"The First — existed before everything; no beginning precedes Him",cat:"creator"},
  {n:37,ar:"الْآخِرُ",en:"Al-Akhir",meaning:"The Last — will remain after everything else ceases to exist",cat:"creator"},
  {n:38,ar:"الظَّاهِرُ",en:"Adh-Dhahir",meaning:"The Manifest — evident through the signs of creation all around us",cat:"creator"},
  {n:39,ar:"الْبَاطِنُ",en:"Al-Batin",meaning:"The Hidden — beyond human perception and comprehension",cat:"creator"},
  {n:40,ar:"الْحَيُّ",en:"Al-Hayy",meaning:"The Ever-Living — eternally alive, life itself originates from Him",cat:"creator"},
  {n:41,ar:"الْقَيُّومُ",en:"Al-Qayyoom",meaning:"The Self-Sustaining — sustains and upholds the entire creation",cat:"creator"},
  // GRACE / GENEROSITY
  {n:42,ar:"الْكَرِيمُ",en:"Al-Kareem",meaning:"The Most Generous — gives abundantly and without any cause or limit",cat:"grace"},
  {n:43,ar:"الْوَهَّابُ",en:"Al-Wahhab",meaning:"The Bestower — gives gifts continuously without expecting anything in return",cat:"grace"},
  {n:44,ar:"الرَّزَّاقُ",en:"Ar-Razzaq",meaning:"The Provider — sustains every living thing with exactly what it needs",cat:"grace"},
  {n:45,ar:"الْغَنِيُّ",en:"Al-Ghani",meaning:"The Self-Sufficient — needs nothing yet provides everything",cat:"grace"},
  {n:46,ar:"الْمُغْنِي",en:"Al-Mughni",meaning:"The Enricher — makes whoever He wills free from need",cat:"grace"},
  {n:47,ar:"الْفَتَّاحُ",en:"Al-Fattah",meaning:"The Opener — opens hearts, opens doors, opens ways when all seems closed",cat:"grace"},
  {n:48,ar:"الْمُعْطِي",en:"Al-Mu'ti",meaning:"The Giver — gives freely and unconditionally to all",cat:"grace"},
  {n:49,ar:"النَّافِعُ",en:"An-Nafi",meaning:"The Creator of Benefit — brings about all benefit and goodness",cat:"grace"},
  {n:50,ar:"الْمُجِيبُ",en:"Al-Mujeeb",meaning:"The Responsive — answers every prayer and call, never ignores",cat:"grace"},
  // Continue filling remaining 49...
  {n:51,ar:"الْحَقُّ",en:"Al-Haqq",meaning:"The Absolute Truth — His existence is certain, His word is truth, His promise is real",cat:"power"},
  {n:52,ar:"الْمُبِينُ",en:"Al-Mubeen",meaning:"The Manifest — clear and evident, makes the truth clear to all",cat:"knowledge"},
  {n:53,ar:"الْعَلِيُّ",en:"Al-Aliyy",meaning:"The Most High — exalted above all, nothing is above Him",cat:"power"},
  {n:54,ar:"الْكَبِيرُ",en:"Al-Kabeer",meaning:"The Most Great — greater than anything the mind can imagine",cat:"power"},
  {n:55,ar:"الْعَظِيمُ",en:"Al-Azeem",meaning:"The Magnificent — immense in greatness, perfection, and majesty",cat:"power"},
  {n:56,ar:"الْحَمِيدُ",en:"Al-Hameed",meaning:"The Praiseworthy — deserves all praise at all times regardless of circumstance",cat:"grace"},
  {n:57,ar:"الْمَجِيدُ",en:"Al-Majeed",meaning:"The Glorious — infinitely noble and generous",cat:"grace"},
  {n:58,ar:"الصَّمَدُ",en:"As-Samad",meaning:"The Eternal — the Master everyone depends on; He depends on none",cat:"power"},
  {n:59,ar:"الْأَحَدُ",en:"Al-Ahad",meaning:"The One and Only — uniquely singular; no partner, no equal, no likeness",cat:"power"},
  {n:60,ar:"الْوَاحِدُ",en:"Al-Wahid",meaning:"The Unique — one in essence, attributes, and actions",cat:"power"},
  {n:61,ar:"الْقُدُّوسُ",en:"Al-Quddoos",meaning:"The Perfectly Pure — free from every defect, flaw, or imperfection",cat:"grace"},
  {n:62,ar:"السَّلَامُ",en:"As-Salaam",meaning:"The Source of Peace — safety, security, and peace come only from Him",cat:"mercy"},
  {n:63,ar:"الْمُؤْمِنُ",en:"Al-Mu'min",meaning:"The Guardian of Faith — grants security and confirms the faith of His servants",cat:"mercy"},
  {n:64,ar:"الْمُهَيْمِنُ",en:"Al-Muhaymin",meaning:"The Overseer — watches, guards, and protects all things",cat:"power"},
  {n:65,ar:"الْبَاعِثُ",en:"Al-Baaith",meaning:"The Resurrector — will raise all of creation on the Day of Judgment",cat:"creator"},
  {n:66,ar:"الشَّاكِرُ",en:"Ash-Shakir",meaning:"The Grateful — acknowledges and rewards every deed, however small",cat:"grace"},
  {n:67,ar:"الْحَسِيبُ",en:"Al-Haseeb",meaning:"The Reckoner — takes precise account of all deeds and gives each its due",cat:"knowledge"},
  {n:68,ar:"الْجَلِيلُ",en:"Al-Jaleel",meaning:"The Majestic — possesses absolute majesty and supreme glory",cat:"power"},
  {n:69,ar:"الْمُكْرِمُ",en:"Al-Mukriam",meaning:"The Bestower of Honour — elevates and honours whoever He wills",cat:"grace"},
  {n:70,ar:"الْوَاسِعُ",en:"Al-Wasi",meaning:"The All-Encompassing — infinite in His capacity; no request is too great",cat:"mercy"},
  {n:71,ar:"الرَّشِيدُ",en:"Ar-Rasheed",meaning:"The Guide to the Right Path — leads everything toward its perfect purpose",cat:"knowledge"},
  {n:72,ar:"الصَّبُورُ",en:"As-Saboor",meaning:"The Patient — infinitely patient; never rushes, always at the right time",cat:"mercy"},
  {n:73,ar:"الْمُقَدِّمُ",en:"Al-Muqaddim",meaning:"The Expediter — brings forward and elevates whoever He wills",cat:"power"},
  {n:74,ar:"الْمُؤَخِّرُ",en:"Al-Mu'akhkhir",meaning:"The Delayer — keeps things back and in place according to His plan",cat:"power"},
  {n:75,ar:"الْقَابِضُ",en:"Al-Qabid",meaning:"The Withholder — contracts and withholds according to His wisdom",cat:"power"},
  {n:76,ar:"الْبَاسِطُ",en:"Al-Basit",meaning:"The Expander — expands sustenance, hearts, and blessings generously",cat:"grace"},
  {n:77,ar:"الْخَافِضُ",en:"Al-Khafid",meaning:"The Abaser — lowers the arrogant and the enemies of truth",cat:"power"},
  {n:78,ar:"الرَّافِعُ",en:"Ar-Rafi",meaning:"The Exalter — raises the humble and the faithful in rank and honour",cat:"grace"},
  {n:79,ar:"الْمُعِزُّ",en:"Al-Mu'izz",meaning:"The Honourer — gives honour and dignity to whoever He chooses",cat:"grace"},
  {n:80,ar:"الْمُذِلُّ",en:"Al-Mudhil",meaning:"The Dishonorer — humbles those who reject truth and spread corruption",cat:"power"},
  {n:81,ar:"الْعَدْلُ",en:"Al-Adl",meaning:"The Just — perfectly fair in every judgment; no one is wronged by Him",cat:"knowledge"},
  {n:82,ar:"الْحَكَمُ",en:"Al-Hakam",meaning:"The Judge — the only true and ultimate judge of all matters",cat:"knowledge"},
  {n:83,ar:"الْمُقْسِطُ",en:"Al-Muqsit",meaning:"The Equitable — deals with absolute fairness and justice in all things",cat:"knowledge"},
  {n:84,ar:"الْجَامِعُ",en:"Al-Jami",meaning:"The Gatherer — gathers all of creation on the Day of Judgment",cat:"creator"},
  {n:85,ar:"الْهَادِي",en:"Al-Hadi",meaning:"The Guide — guides hearts to truth, faith, and the right path",cat:"grace"},
  {n:86,ar:"الْوَكِيلُ",en:"Al-Wakeel",meaning:"The Trustee — the best One to rely on and entrust all affairs to",cat:"mercy"},
  {n:87,ar:"النُّورُ",en:"An-Noor",meaning:"The Light — His light illuminates hearts, the heavens, and the earth",cat:"grace"},
  {n:88,ar:"الْمُحْيِي",en:"Al-Muhyi",meaning:"The Giver of Life — brings the living from the dead and enlivens hearts",cat:"creator"},
  {n:89,ar:"الْمُمِيتُ",en:"Al-Mumeet",meaning:"The Causer of Death — causes death as part of the cycle He created",cat:"creator"},
  {n:90,ar:"الْحَيُّ",en:"Al-Hayy",meaning:"The Ever-Living — eternally alive with no beginning and no end",cat:"creator"},
  {n:91,ar:"الْمَاجِدُ",en:"Al-Majid",meaning:"The Noble and Glorious — magnificent in grace and generosity",cat:"grace"},
  {n:92,ar:"الصَّادِقُ",en:"As-Sadiq",meaning:"The Truthful — every promise He makes is kept; His word is absolute truth",cat:"knowledge"},
  {n:93,ar:"الشَّافِي",en:"Ash-Shafi",meaning:"The Healer — the ultimate cure for all illness, worry, and pain",cat:"mercy"},
  {n:94,ar:"الْمُعَافِي",en:"Al-Muafi",meaning:"The Pardoner of Sins — grants full pardon and restoration",cat:"mercy"},
  {n:95,ar:"الْمُنَّانُ",en:"Al-Mannan",meaning:"The Benefactor — bestows great favour continuously and spontaneously",cat:"grace"},
  {n:96,ar:"الدَّيَّانُ",en:"Ad-Dayyan",meaning:"The Rewarder of Good — repays every deed with perfect justice",cat:"knowledge"},
  {n:97,ar:"الرَّبُّ",en:"Ar-Rabb",meaning:"The Lord and Sustainer — nurtures, develops, and cares for all creation",cat:"creator"},
  {n:98,ar:"السُّبُّوحُ",en:"As-Subbooh",meaning:"The Glorified — absolutely free from any defect or imperfection",cat:"grace"},
  {n:99,ar:"ذُو الْجَلَالِ وَالْإِكْرَامِ",en:"Dhul Jalali wal Ikram",meaning:"Lord of Majesty and Bounty — combine ultimate greatness and infinite generosity",cat:"grace"},
];

var asmaCurrentCat='all';
var asmaSearchTerm='';

function asmaBuild(){
  var grid=document.getElementById("asma-grid");
  if(!grid)return;
  var html='';
  var visible=0;
  ASMA.forEach(function(a){
    var matchCat=(asmaCurrentCat==='all'||a.cat===asmaCurrentCat);
    var term=asmaSearchTerm.toLowerCase();
    var matchSearch=!term||(a.en.toLowerCase().includes(term)||a.meaning.toLowerCase().includes(term)||a.ar.includes(term)||(a.n.toString()===term));
    if(matchCat&&matchSearch){
      visible++;
      html+='<div class="asma-card '+a.cat+'">'
        +'<div class="asma-num">'+a.n+'</div>'
        +'<div class="asma-ar">'+a.ar+'</div>'
        +'<div class="asma-en">'+a.en+'</div>'
        +'<div class="asma-meaning">'+a.meaning+'</div>'
        +'</div>';
    }
  });
  grid.innerHTML=html;
  var cnt=document.getElementById("asma-count");
  if(cnt)cnt.textContent=visible+(visible===99?' Names':' Found');
}

function asmaCat(cat,el){
  asmaCurrentCat=cat;
  document.querySelectorAll('.asma-cpill').forEach(function(p){p.classList.remove('on');});
  if(el)el.classList.add('on');
  asmaBuild();
}

function asmaFilter(){
  var inp=document.getElementById("asma-search");
  asmaSearchTerm=inp?inp.value:'';
  asmaBuild();
}

// ── DUA CATEGORIES ────────────────────────────────────────────────────────
function showDuaCat(id){
  ["ashra","daily","prayer","ramadan","life","parents","names"].forEach(function(c){
    var el=document.getElementById("dcat-"+c);
    var pill=document.getElementById("dp-"+c);
    if(el)el.style.display=(c===id?"block":"none");
    if(pill){pill.classList.remove("on");if(c===id)pill.classList.add("on");}
  });
}

// ── QIBLA COMPASS ─────────────────────────────────────────────────────────
var qiblaInit=false;
var qiblaAngle=285; // default Pune
var _smoothedHeading=null;
var _compassListening=false;

function calcQibla(lat,lon){
  var MAKKAH_LAT=21.4225*Math.PI/180;
  var MAKKAH_LON=39.8262*Math.PI/180;
  var latR=lat*Math.PI/180;
  var lonR=lon*Math.PI/180;
  var dLon=MAKKAH_LON-lonR;
  var y=Math.sin(dLon)*Math.cos(MAKKAH_LAT);
  var x=Math.cos(latR)*Math.sin(MAKKAH_LAT)-Math.sin(latR)*Math.cos(MAKKAH_LAT)*Math.cos(dLon);
  var bearing=(Math.atan2(y,x)*180/Math.PI+360)%360;
  var R=6371;
  var dLat=MAKKAH_LAT-latR;
  var a=Math.sin(dLat/2)*Math.sin(dLat/2)+Math.cos(latR)*Math.cos(MAKKAH_LAT)*Math.sin(dLon/2)*Math.sin(dLon/2);
  var dist=Math.round(R*2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)));
  return{bearing:Math.round(bearing),dist:dist};
}

// Smooth angle interpolation to avoid jumping past 0/360 boundary
function smoothAngle(current, target, factor){
  if(current===null) return target;
  var diff=target-current;
  // Normalize diff to -180..180
  while(diff>180) diff-=360;
  while(diff<-180) diff+=360;
  return current+diff*factor;
}

function applyCompass(deviceHeading){
  // Smooth the heading to reduce jitter (low-pass filter)
  _smoothedHeading=smoothAngle(_smoothedHeading, deviceHeading, 0.25);
  var h=_smoothedHeading;
  var needle=document.getElementById('compass-needle');
  var rose=document.getElementById('compass-rose');
  if(!needle) return;
  // ROSE rotates opposite to device heading → N/S/E/W always show real geographic directions
  if(rose) rose.style.transform='rotate('+(-h)+'deg)';
  // NEEDLE rotates to Qibla relative to device heading
  var needleRot=(qiblaAngle - h + 360) % 360;
  needle.style.transform='rotate('+needleRot+'deg)';
  // Debug display (tap compass 3x to toggle)
  var dbg=document.getElementById('qb-debug');
  if(dbg&&dbg.style.display!=='none'){
    var src=dbg.getAttribute('data-src')||'?'; dbg.textContent='['+src+'] Raw: '+Math.round(deviceHeading)+'° | Smooth: '+Math.round(h)+'° | Qibla: '+qiblaAngle+'° | Needle: '+Math.round(needleRot)+'°';
  }
}

function setNeedleStatic(angle){
  // No device compass — show Qibla direction from North (rose stays fixed)
  var needle=document.getElementById('compass-needle');
  if(needle) needle.style.transform='rotate('+angle+'deg)';
}

function setupCompassListener(){
  if(_compassListening) return;
  _compassListening=true;

  // Track which source is active so we don't double-process
  var _usingAbsolute=false;

  var handleAbsolute=function(e){
    // deviceorientationabsolute — alpha referenced to True North, CCW positive
    // This is the BEST source on Android. Convert to CW compass bearing:
    if(e.alpha===null || e.alpha===undefined) return;
    var heading=((360-e.alpha)%360+360)%360;
    _usingAbsolute=true;
    // Update debug source indicator
    var dbg=document.getElementById('qb-debug');
    if(dbg&&dbg.style.display!=='none'){
      dbg.setAttribute('data-src','ABS');
    }
    applyCompass(heading);
  };

  var handleRelative=function(e){
    // Plain deviceorientation — skip if absolute is working
    if(_usingAbsolute) return;
    if(e.alpha===null || e.alpha===undefined) return;

    // iOS uses webkitCompassHeading (True North, CW) — use directly
    if(e.webkitCompassHeading!==undefined && e.webkitCompassHeading!==null){
      applyCompass(e.webkitCompassHeading);
      return;
    }

    // Android fallback: alpha is CCW from wherever phone pointed at page load.
    // We CANNOT get True North from this without a reference — but we apply
    // screen rotation correction at minimum so portrait/landscape is right:
    var screenAngle=0;
    if(screen.orientation && screen.orientation.angle!==undefined){
      screenAngle=screen.orientation.angle;
    } else if(window.orientation!==undefined){
      screenAngle=window.orientation;
    }
    // alpha CCW → CW, then compensate for screen rotation
    var heading=((360-e.alpha-screenAngle)%360+360)%360;
    applyCompass(heading);
  };

  // Register BOTH — absolute takes priority via _usingAbsolute flag
  // Some Android browsers only fire one or the other
  window.addEventListener('deviceorientationabsolute', handleAbsolute, {passive:true});
  window.addEventListener('deviceorientation', handleRelative, {passive:true});

  // After 2s, if no events at all, show warning
  setTimeout(function(){
    if(_smoothedHeading===null){
      setText('qb-status-txt','⚠️ Compass sensor unavailable on this browser — try Chrome or open via HTTPS');
    }
  }, 2000);
}

function requestIOSCompass(){
  if(typeof DeviceOrientationEvent!=='undefined' && typeof DeviceOrientationEvent.requestPermission==='function'){
    DeviceOrientationEvent.requestPermission().then(function(r){
      if(r==='granted'){
        setupCompassListener();
        setText('qb-status-txt','✅ Live compass active — turn to face 🕋 Makkah');
        var btn=document.getElementById('qb-enable-btn');
        if(btn) btn.style.display='none';
      } else {
        setText('qb-status-txt','⚠️ Permission denied — showing static Qibla direction');
      }
    }).catch(function(err){
      setText('qb-status-txt','⚠️ Could not enable compass: '+err.message);
    });
  }
}

function initQibla(){
  if(qiblaInit) return;
  qiblaInit=true;

  // Set defaults from selected city
  var cityQibla={PUNE:{b:285,d:4135},MUMBAI:{b:287,d:4161},DELHI:{b:277,d:3829},
    HYDERABAD:{b:282,d:4048},LUCKNOW:{b:278,d:3700},BANGALORE:{b:283,d:4210},
    CHENNAI:{b:284,d:4331},KOLKATA:{b:270,d:3818}};
  var cq=cityQibla[city.n]||{b:285,d:4135};
  qiblaAngle=cq.b;
  setText('qb-bearing',cq.b+'°');
  setText('qb-dist',cq.d.toLocaleString('en-IN')+' km');
  setText('qb-city',city.n);
  setNeedleStatic(qiblaAngle);

  var isIOS=typeof DeviceOrientationEvent!=='undefined' && typeof DeviceOrientationEvent.requestPermission==='function';
  var isAndroid='ondeviceorientationabsolute' in window || ('ondeviceorientation' in window && !/iphone|ipad|ipod/i.test(navigator.userAgent));

  // Step 1: Try GPS for precise bearing
  if('geolocation' in navigator){
    setText('qb-status-txt','📍 Getting your precise location...');
    navigator.geolocation.getCurrentPosition(function(pos){
      var result=calcQibla(pos.coords.latitude,pos.coords.longitude);
      qiblaAngle=result.bearing;
      setText('qb-bearing',result.bearing+'°');
      setText('qb-dist',result.dist.toLocaleString('en-IN')+' km');
      setText('qb-city','Your Location');
      setNeedleStatic(qiblaAngle);

      // Step 2: Enable live compass
      if(isIOS){
        // iOS needs user gesture to request permission - show button
        setText('qb-status-txt','📱 Tap button below to enable live compass');
        var btn=document.getElementById('qb-enable-btn');
        if(btn) btn.style.display='block';
      } else if(isAndroid || 'ondeviceorientation' in window){
        setupCompassListener();
        setText('qb-status-txt','✅ Live compass active — turn to face 🕋 Makkah');
      } else {
        setText('qb-status-txt','✅ Qibla: '+result.bearing+'° from North · '+result.dist.toLocaleString('en-IN')+' km to Makkah');
      }
    },function(){
      // GPS failed - use city data, still try compass
      setText('qb-city',city.n+' (City data)');
      if(isAndroid || 'ondeviceorientation' in window){
        setupCompassListener();
        setText('qb-status-txt','✅ Live compass active · GPS unavailable, using city data');
      } else if(isIOS){
        setText('qb-status-txt','📱 Tap button to enable live compass (using city data)');
        var btn=document.getElementById('qb-enable-btn');
        if(btn) btn.style.display='block';
      } else {
        setText('qb-status-txt','📍 Showing Qibla from '+city.n+' · Enable location for precision');
      }
    },{timeout:8000,enableHighAccuracy:true});
  } else {
    if(isAndroid || 'ondeviceorientation' in window){
      setupCompassListener();
      setText('qb-status-txt','✅ Live compass active — turn to face 🕋 Makkah');
    } else if(isIOS){
      var btn=document.getElementById('qb-enable-btn');
      if(btn) btn.style.display='block';
      setText('qb-status-txt','📱 Tap button to enable live compass');
    } else {
      setText('qb-status-txt','📍 Showing Qibla from '+city.n+' · '+cq.b+'° from North');
    }
  }
}



// INIT
document.addEventListener("DOMContentLoaded",function(){
  try{
    loadState();
    initStars();
    buildCitySw("city");buildCitySw("sc");
    renderCities();renderSched();updatePrayers();updateVerse();updateNights();
    showTool("ts");
    buildRkGrid();calcZ();
    geoDetectCity();
    tick();setInterval(function(){try{tick();}catch(e){console.error("tick error:",e);}},1000);
    qpBuild();ftCalc();
    var rt=document.getElementById("rem-tog");if(rt&&remOn)rt.classList.add("on");
  }catch(err){console.error("Init error:",err);}
});
</script>

<!-- PWA SERVICE WORKER + INSTALL BANNER -->
<script>
if ('serviceWorker' in navigator) {
  window.addEventListener('load', function () {
    navigator.serviceWorker.register('sw.js')
      .then(function(r){ console.log('[SW] registered', r.scope); })
      .catch(function(e){ console.warn('[SW] failed', e); });
  });
}

var _pwaPrompt = null;

// Check if already running as installed PWA
function isRunningAsApp() {
  return window.matchMedia('(display-mode: standalone)').matches ||
         window.navigator.standalone === true ||
         document.referrer.includes('android-app://');
}

window.addEventListener('beforeinstallprompt', function(e) {
  e.preventDefault();
  _pwaPrompt = e;
  // Only show if not already installed and not dismissed recently
  if (!isRunningAsApp() && !sessionStorage.getItem('pwa-dismissed')) {
    setTimeout(showPWABanner, 2500);
  }
});

// Fallback show only if: not installed + not dismissed + on mobile
setTimeout(function(){
  if (!document.getElementById('pwa-bar') && !isRunningAsApp() && !sessionStorage.getItem('pwa-dismissed')) {
    // Only show on mobile browsers (not desktop)
    var isMobile = /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);
    if (isMobile) showPWABanner();
  }
}, 5000);

function showPWABanner() {
  // Double-check not installed
  if (isRunningAsApp()) return;
  if (document.getElementById('pwa-bar')) return;
  var bar = document.createElement('div');
  bar.id = 'pwa-bar';
  bar.style.cssText = [
    'position:fixed;bottom:62px;left:50%;transform:translateX(-50%)',
    'width:calc(100% - 20px);max-width:460px',
    'background:linear-gradient(135deg,rgba(8,18,38,.99),rgba(4,10,22,.99))',
    'border:1.5px solid rgba(201,168,76,.6);border-radius:18px',
    'padding:13px 14px;display:flex;align-items:center;gap:10px',
    'z-index:9999;box-shadow:0 8px 36px rgba(0,0,0,.85)',
    'animation:pwaSlideUp .4s cubic-bezier(.25,.8,.25,1)'
  ].join(';');
  bar.innerHTML =
    '<style>@keyframes pwaSlideUp{from{opacity:0;transform:translateX(-50%) translateY(20px)}to{opacity:1;transform:translateX(-50%) translateY(0)}}</style>' +
    '<div style="font-size:24px;flex-shrink:0">📲</div>' +
    '<div style="flex:1;min-width:0">' +
      '<div style="font-family:Cinzel,serif;font-size:12px;letter-spacing:1.5px;color:#f0d080;margin-bottom:3px">INSTALL AS APP — FREE</div>' +
      '<div style="font-family:EB Garamond,serif;font-size:12px;color:rgba(255,255,255,.5)">Works offline · Home screen icon</div>' +
    '</div>' +
    '<button onclick="doPWAInstall()" style="background:linear-gradient(135deg,#c9a84c,#f0d080);border:none;border-radius:20px;padding:9px 14px;font-family:Cinzel,serif;font-size:10px;font-weight:700;letter-spacing:1px;color:#040a14;cursor:pointer;flex-shrink:0">INSTALL</button>' +
    '<button onclick="closePWABar()" style="background:none;border:1px solid rgba(255,255,255,.15);border-radius:50%;min-width:28px;width:28px;height:28px;color:rgba(255,255,255,.4);cursor:pointer;font-size:18px;flex-shrink:0;display:flex;align-items:center;justify-content:center">×</button>';
  document.body.appendChild(bar);
}

function doPWAInstall() {
  if (_pwaPrompt) {
    _pwaPrompt.prompt();
    _pwaPrompt.userChoice.then(function(){ _pwaPrompt = null; closePWABar(); });
  } else {
    alert('To install:\n\nAndroid: Tap ⋮ menu → "Add to Home screen"\n\niPhone: Tap Share ↑ → "Add to Home Screen"');
    closePWABar();
  }
}
function closePWABar() {
  // Session-only dismiss — banner comes back on next browser visit
  try { sessionStorage.setItem('pwa-dismissed', '1'); } catch(e){}
  var b = document.getElementById('pwa-bar');
  if (b) { b.style.transition='opacity .3s'; b.style.opacity='0'; setTimeout(function(){ b.remove(); }, 300); }
}
</script>
</body>
</html>
